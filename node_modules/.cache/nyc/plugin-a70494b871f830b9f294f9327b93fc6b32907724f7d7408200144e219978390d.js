/*!
 * plugin.js - wallet plugin for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_1mxiglbygl(){var path="E:\\Projects\\Test\\bcoin\\lib\\wallet\\plugin.js";var hash="144c93ab5c53474100d1e15d4b10d5ec19140e4a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\wallet\\plugin.js",statementMap:{"0":{start:{line:9,column:21},end:{line:9,column:38}},"1":{start:{line:10,column:17},end:{line:10,column:38}},"2":{start:{line:11,column:19},end:{line:11,column:42}},"3":{start:{line:12,column:13},end:{line:12,column:30}},"4":{start:{line:13,column:12},end:{line:13,column:28}},"5":{start:{line:19,column:15},end:{line:19,column:22}},"6":{start:{line:34,column:4},end:{line:34,column:12}},"7":{start:{line:36,column:4},end:{line:36,column:47}},"8":{start:{line:38,column:4},end:{line:39,column:38}},"9":{start:{line:39,column:6},end:{line:39,column:38}},"10":{start:{line:41,column:4},end:{line:41,column:32}},"11":{start:{line:42,column:4},end:{line:42,column:30}},"12":{start:{line:44,column:4},end:{line:44,column:39}},"13":{start:{line:46,column:4},end:{line:58,column:7}},"14":{start:{line:60,column:4},end:{line:60,column:29}},"15":{start:{line:62,column:4},end:{line:76,column:7}},"16":{start:{line:78,column:4},end:{line:78,column:16}},"17":{start:{line:82,column:4},end:{line:82,column:57}},"18":{start:{line:82,column:32},end:{line:82,column:55}},"19":{start:{line:83,column:4},end:{line:83,column:58}},"20":{start:{line:83,column:33},end:{line:83,column:56}},"21":{start:{line:87,column:4},end:{line:87,column:26}},"22":{start:{line:88,column:4},end:{line:88,column:39}},"23":{start:{line:89,column:4},end:{line:89,column:27}},"24":{start:{line:93,column:4},end:{line:93,column:28}},"25":{start:{line:94,column:4},end:{line:94,column:27}},"26":{start:{line:95,column:4},end:{line:95,column:27}},"27":{start:{line:104,column:0},end:{line:104,column:23}},"28":{start:{line:112,column:0},end:{line:114,column:2}},"29":{start:{line:113,column:2},end:{line:113,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:20},end:{line:79,column:3}},line:33},"1":{name:"(anonymous_1)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:9},end:{line:84,column:3}},line:81},"2":{name:"(anonymous_2)",decl:{start:{line:82,column:25},end:{line:82,column:26}},loc:{start:{line:82,column:32},end:{line:82,column:55}},line:82},"3":{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:33},end:{line:83,column:56}},line:83},"4":{name:"(anonymous_4)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:15},end:{line:90,column:3}},line:86},"5":{name:"(anonymous_5)",decl:{start:{line:92,column:2},end:{line:92,column:3}},loc:{start:{line:92,column:16},end:{line:96,column:3}},line:92},"6":{name:"init",decl:{start:{line:112,column:23},end:{line:112,column:27}},loc:{start:{line:112,column:34},end:{line:114,column:1}},line:112}},branchMap:{"0":{loc:{start:{line:38,column:4},end:{line:39,column:38}},type:"if",locations:[{start:{line:38,column:4},end:{line:39,column:38}},{start:{line:38,column:4},end:{line:39,column:38}}],line:38}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"144c93ab5c53474100d1e15d4b10d5ec19140e4a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1mxiglbygl=function(){return actualCoverage;};}return actualCoverage;}cov_1mxiglbygl();const EventEmitter=(cov_1mxiglbygl().s[0]++,require('events'));const WalletDB=(cov_1mxiglbygl().s[1]++,require('./walletdb'));const NodeClient=(cov_1mxiglbygl().s[2]++,require('./nodeclient'));const HTTP=(cov_1mxiglbygl().s[3]++,require('./http'));const RPC=(cov_1mxiglbygl().s[4]++,require('./rpc'));/**
 * @exports wallet/plugin
 */const plugin=(cov_1mxiglbygl().s[5]++,exports);/**
 * Plugin
 * @extends EventEmitter
 */class Plugin extends EventEmitter{/**
   * Create a plugin.
   * @constructor
   * @param {Node} node
   */constructor(node){cov_1mxiglbygl().f[0]++;cov_1mxiglbygl().s[6]++;super();cov_1mxiglbygl().s[7]++;this.config=node.config.filter('wallet');cov_1mxiglbygl().s[8]++;if(node.config.options.file){cov_1mxiglbygl().b[0][0]++;cov_1mxiglbygl().s[9]++;this.config.open('wallet.conf');}else{cov_1mxiglbygl().b[0][1]++;}cov_1mxiglbygl().s[10]++;this.network=node.network;cov_1mxiglbygl().s[11]++;this.logger=node.logger;cov_1mxiglbygl().s[12]++;this.client=new NodeClient(node);cov_1mxiglbygl().s[13]++;this.wdb=new WalletDB({network:this.network,logger:this.logger,workers:this.workers,client:this.client,prefix:this.config.prefix,memory:this.config.bool('memory',node.memory),maxFiles:this.config.uint('max-files'),cacheSize:this.config.mb('cache-size'),witness:this.config.bool('witness'),wipeNoReally:this.config.bool('wipe-no-really'),spv:node.spv});cov_1mxiglbygl().s[14]++;this.rpc=new RPC(this);cov_1mxiglbygl().s[15]++;this.http=new HTTP({network:this.network,logger:this.logger,node:this,ssl:this.config.bool('ssl'),keyFile:this.config.path('ssl-key'),certFile:this.config.path('ssl-cert'),host:this.config.str('http-host'),port:this.config.uint('http-port'),apiKey:this.config.str('api-key',node.config.str('api-key')),walletAuth:this.config.bool('wallet-auth'),noAuth:this.config.bool('no-auth'),cors:this.config.bool('cors'),adminToken:this.config.str('admin-token')});cov_1mxiglbygl().s[16]++;this.init();}init(){cov_1mxiglbygl().f[1]++;cov_1mxiglbygl().s[17]++;this.wdb.on('error',err=>{cov_1mxiglbygl().f[2]++;cov_1mxiglbygl().s[18]++;return this.emit('error',err);});cov_1mxiglbygl().s[19]++;this.http.on('error',err=>{cov_1mxiglbygl().f[3]++;cov_1mxiglbygl().s[20]++;return this.emit('error',err);});}async open(){cov_1mxiglbygl().f[4]++;cov_1mxiglbygl().s[21]++;await this.wdb.open();cov_1mxiglbygl().s[22]++;this.rpc.wallet=this.wdb.primary;cov_1mxiglbygl().s[23]++;await this.http.open();}async close(){cov_1mxiglbygl().f[5]++;cov_1mxiglbygl().s[24]++;await this.http.close();cov_1mxiglbygl().s[25]++;this.rpc.wallet=null;cov_1mxiglbygl().s[26]++;await this.wdb.close();}}/**
 * Plugin name.
 * @const {String}
 */cov_1mxiglbygl().s[27]++;plugin.id='walletdb';/**
 * Plugin initialization.
 * @param {Node} node
 * @returns {WalletDB}
 */cov_1mxiglbygl().s[28]++;plugin.init=function init(node){cov_1mxiglbygl().f[6]++;cov_1mxiglbygl().s[29]++;return new Plugin(node);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbi5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJyZXF1aXJlIiwiV2FsbGV0REIiLCJOb2RlQ2xpZW50IiwiSFRUUCIsIlJQQyIsInBsdWdpbiIsImV4cG9ydHMiLCJQbHVnaW4iLCJjb25zdHJ1Y3RvciIsIm5vZGUiLCJjb25maWciLCJmaWx0ZXIiLCJvcHRpb25zIiwiZmlsZSIsIm9wZW4iLCJuZXR3b3JrIiwibG9nZ2VyIiwiY2xpZW50Iiwid2RiIiwid29ya2VycyIsInByZWZpeCIsIm1lbW9yeSIsImJvb2wiLCJtYXhGaWxlcyIsInVpbnQiLCJjYWNoZVNpemUiLCJtYiIsIndpdG5lc3MiLCJ3aXBlTm9SZWFsbHkiLCJzcHYiLCJycGMiLCJodHRwIiwic3NsIiwia2V5RmlsZSIsInBhdGgiLCJjZXJ0RmlsZSIsImhvc3QiLCJzdHIiLCJwb3J0IiwiYXBpS2V5Iiwid2FsbGV0QXV0aCIsIm5vQXV0aCIsImNvcnMiLCJhZG1pblRva2VuIiwiaW5pdCIsIm9uIiwiZXJyIiwiZW1pdCIsIndhbGxldCIsInByaW1hcnkiLCJjbG9zZSIsImlkIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsYSxrcEhBU1k7MkZBUFosS0FBTUEsQ0FBQUEsWUFBWSwwQkFBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU1DLENBQUFBLFFBQVEsMEJBQUdELE9BQU8sQ0FBQyxZQUFELENBQVYsQ0FBZCxDQUNBLEtBQU1FLENBQUFBLFVBQVUsMEJBQUdGLE9BQU8sQ0FBQyxjQUFELENBQVYsQ0FBaEIsQ0FDQSxLQUFNRyxDQUFBQSxJQUFJLDBCQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNSSxDQUFBQSxHQUFHLDBCQUFHSixPQUFPLENBQUMsT0FBRCxDQUFWLENBQVQsQ0FFQTtBQUNBO0FBQ0EsR0FFQSxLQUFNSyxDQUFBQSxNQUFNLDBCQUFHQyxPQUFILENBQVosQ0FFQTtBQUNBO0FB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Z2luLmpzIC0gd2FsbGV0IHBsdWdpbiBmb3IgYmNvaW5cclxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Jjb2luLW9yZy9iY29pblxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xyXG5jb25zdCBXYWxsZXREQiA9IHJlcXVpcmUoJy4vd2FsbGV0ZGInKTtcclxuY29uc3QgTm9kZUNsaWVudCA9IHJlcXVpcmUoJy4vbm9kZWNsaWVudCcpO1xyXG5jb25zdCBIVFRQID0gcmVxdWlyZSgnLi9odHRwJyk7XHJcbmNvbnN0IFJQQyA9IHJlcXVpcmUoJy4vcnBjJyk7XHJcblxyXG4vKipcclxuICogQGV4cG9ydHMgd2FsbGV0L3BsdWdpblxyXG4gKi9cclxuXHJcbmNvbnN0IHBsdWdpbiA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogUGx1Z2luXHJcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxyXG4gKi9cclxuXHJcbmNsYXNzIFBsdWdpbiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgcGx1Z2luLlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxyXG4gICAqL1xyXG5cclxuICBjb25zdHJ1Y3Rvcihub2RlKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuY29uZmlnID0gbm9kZS5jb25maWcuZmlsdGVyKCd3YWxsZXQnKTtcclxuXHJcbiAgICBpZiAobm9kZS5jb25maWcub3B0aW9ucy5maWxlKVxyXG4gICAgICB0aGlzLmNvbmZpZy5vcGVuKCd3YWxsZXQuY29uZicpO1xyXG5cclxuICAgIHRoaXMubmV0d29yayA9IG5vZGUubmV0d29yaztcclxuICAgIHRoaXMubG9nZ2VyID0gbm9kZS5sb2dnZXI7XHJcblxyXG4gICAgdGhpcy5jbGllbnQgPSBuZXcgTm9kZUNsaWVudChub2RlKTtcclxuXHJcbiAgICB0aGlzLndkYiA9IG5ldyBXYWxsZXREQih7XHJcbiAgICAgIG5ldHdvcms6IHRoaXMubmV0d29yayxcclxuICAgICAgbG9nZ2VyOiB0aGlzLmxvZ2dlcixcclxuICAgICAgd29ya2VyczogdGhpcy53b3JrZXJzLFxyXG4gICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxyXG4gICAgICBwcmVmaXg6IHRoaXMuY29uZmlnLnByZWZpeCxcclxuICAgICAgbWVtb3J5OiB0aGlzLmNvbmZpZy5ib29sKCdtZW1vcnknLCBub2RlLm1lbW9yeSksXHJcbiAgICAgIG1heEZpbGVzOiB0aGlzLmNvbmZpZy51aW50KCdtYXgtZmlsZXMnKSxcclxuICAgICAgY2FjaGVTaXplOiB0aGlzLmNvbmZpZy5tYignY2FjaGUtc2l6ZScpLFxyXG4gICAgICB3aXRuZXNzOiB0aGlzLmNvbmZpZy5ib29sKCd3aXRuZXNzJyksXHJcbiAgICAgIHdpcGVOb1JlYWxseTogdGhpcy5jb25maWcuYm9vbCgnd2lwZS1uby1yZWFsbHknKSxcclxuICAgICAgc3B2OiBub2RlLnNwdlxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5ycGMgPSBuZXcgUlBDKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuaHR0cCA9IG5ldyBIVFRQKHtcclxuICAgICAgbmV0d29yazogdGhpcy5uZXR3b3JrLFxyXG4gICAgICBsb2dnZXI6IHRoaXMubG9nZ2VyLFxyXG4gICAgICBub2RlOiB0aGlzLFxyXG4gICAgICBzc2w6IHRoaXMuY29uZmlnLmJvb2woJ3NzbCcpLFxyXG4gICAgICBrZXlGaWxlOiB0aGlzLmNvbmZpZy5wYXRoKCdzc2wta2V5JyksXHJcbiAgICAgIGNlcnRGaWxlOiB0aGlzLmNvbmZpZy5wYXRoKCdzc2wtY2VydCcpLFxyXG4gICAgICBob3N0OiB0aGlzLmNvbmZpZy5zdHIoJ2h0dHAtaG9zdCcpLFxyXG4gICAgICBwb3J0OiB0aGlzLmNvbmZpZy51aW50KCdodHRwLXBvcnQnKSxcclxuICAgICAgYXBpS2V5OiB0aGlzLmNvbmZpZy5zdHIoJ2FwaS1rZXknLCBub2RlLmNvbmZpZy5zdHIoJ2FwaS1rZXknKSksXHJcbiAgICAgIHdhbGxldEF1dGg6IHRoaXMuY29uZmlnLmJvb2woJ3dhbGxldC1hdXRoJyksXHJcbiAgICAgIG5vQXV0aDogdGhpcy5jb25maWcuYm9vbCgnbm8tYXV0aCcpLFxyXG4gICAgICBjb3JzOiB0aGlzLmNvbmZpZy5ib29sKCdjb3JzJyksXHJcbiAgICAgIGFkbWluVG9rZW46IHRoaXMuY29uZmlnLnN0cignYWRtaW4tdG9rZW4nKVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy53ZGIub24oJ2Vycm9yJywgZXJyID0+IHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpKTtcclxuICAgIHRoaXMuaHR0cC5vbignZXJyb3InLCBlcnIgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGVycikpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb3BlbigpIHtcclxuICAgIGF3YWl0IHRoaXMud2RiLm9wZW4oKTtcclxuICAgIHRoaXMucnBjLndhbGxldCA9IHRoaXMud2RiLnByaW1hcnk7XHJcbiAgICBhd2FpdCB0aGlzLmh0dHAub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2xvc2UoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmh0dHAuY2xvc2UoKTtcclxuICAgIHRoaXMucnBjLndhbGxldCA9IG51bGw7XHJcbiAgICBhd2FpdCB0aGlzLndkYi5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBsdWdpbiBuYW1lLlxyXG4gKiBAY29uc3Qge1N0cmluZ31cclxuICovXHJcblxyXG5wbHVnaW4uaWQgPSAnd2FsbGV0ZGInO1xyXG5cclxuLyoqXHJcbiAqIFBsdWdpbiBpbml0aWFsaXphdGlvbi5cclxuICogQHBhcmFtIHtOb2RlfSBub2RlXHJcbiAqIEByZXR1cm5zIHtXYWxsZXREQn1cclxuICovXHJcblxyXG5wbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQobm9kZSkge1xyXG4gIHJldHVybiBuZXcgUGx1Z2luKG5vZGUpO1xyXG59O1xyXG4iXX0=