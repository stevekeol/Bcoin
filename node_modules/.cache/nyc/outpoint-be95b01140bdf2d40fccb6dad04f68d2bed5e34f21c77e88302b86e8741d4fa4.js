/*!
 * outpoint.js - outpoint object for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_wqnf3fumx(){var path="E:\\Projects\\Test\\bcoin\\lib\\primitives\\outpoint.js";var hash="af6a40d23dfbe53d11713dc5dd19ae0bd3187789";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\primitives\\outpoint.js",statementMap:{"0":{start:{line:9,column:15},end:{line:9,column:31}},"1":{start:{line:10,column:12},end:{line:10,column:28}},"2":{start:{line:11,column:13},end:{line:11,column:37}},"3":{start:{line:12,column:18},end:{line:12,column:50}},"4":{start:{line:13,column:24},end:{line:13,column:43}},"5":{start:{line:32,column:4},end:{line:32,column:36}},"6":{start:{line:33,column:4},end:{line:33,column:28}},"7":{start:{line:35,column:4},end:{line:40,column:5}},"8":{start:{line:36,column:6},end:{line:36,column:36}},"9":{start:{line:37,column:6},end:{line:37,column:65}},"10":{start:{line:38,column:6},end:{line:38,column:23}},"11":{start:{line:39,column:6},end:{line:39,column:25}},"12":{start:{line:50,column:4},end:{line:50,column:50}},"13":{start:{line:51,column:4},end:{line:51,column:42}},"14":{start:{line:52,column:4},end:{line:52,column:79}},"15":{start:{line:53,column:4},end:{line:53,column:29}},"16":{start:{line:54,column:4},end:{line:54,column:31}},"17":{start:{line:55,column:4},end:{line:55,column:16}},"18":{start:{line:65,column:4},end:{line:65,column:43}},"19":{start:{line:74,column:21},end:{line:74,column:43}},"20":{start:{line:75,column:4},end:{line:75,column:30}},"21":{start:{line:76,column:4},end:{line:76,column:32}},"22":{start:{line:77,column:4},end:{line:77,column:20}},"23":{start:{line:87,column:4},end:{line:87,column:41}},"24":{start:{line:88,column:4},end:{line:89,column:38}},"25":{start:{line:99,column:4},end:{line:99,column:41}},"26":{start:{line:101,column:16},end:{line:101,column:51}},"27":{start:{line:103,column:4},end:{line:104,column:17}},"28":{start:{line:104,column:6},end:{line:104,column:17}},"29":{start:{line:106,column:4},end:{line:106,column:38}},"30":{start:{line:116,column:4},end:{line:116,column:78}},"31":{start:{line:125,column:4},end:{line:125,column:34}},"32":{start:{line:134,column:4},end:{line:134,column:24}},"33":{start:{line:144,column:4},end:{line:144,column:24}},"34":{start:{line:155,column:4},end:{line:155,column:33}},"35":{start:{line:156,column:4},end:{line:156,column:38}},"36":{start:{line:157,column:4},end:{line:157,column:16}},"37":{start:{line:167,column:4},end:{line:167,column:35}},"38":{start:{line:176,column:4},end:{line:176,column:28}},"39":{start:{line:177,column:4},end:{line:177,column:28}},"40":{start:{line:178,column:4},end:{line:178,column:14}},"41":{start:{line:187,column:4},end:{line:187,column:14}},"42":{start:{line:196,column:4},end:{line:196,column:49}},"43":{start:{line:206,column:4},end:{line:206,column:30}},"44":{start:{line:207,column:4},end:{line:207,column:30}},"45":{start:{line:208,column:4},end:{line:208,column:16}},"46":{start:{line:218,column:4},end:{line:218,column:43}},"47":{start:{line:228,column:4},end:{line:228,column:37}},"48":{start:{line:238,column:4},end:{line:238,column:36}},"49":{start:{line:248,column:4},end:{line:248,column:47}},"50":{start:{line:249,column:4},end:{line:249,column:68}},"51":{start:{line:250,column:4},end:{line:250,column:73}},"52":{start:{line:251,column:4},end:{line:251,column:40}},"53":{start:{line:252,column:4},end:{line:252,column:28}},"54":{start:{line:253,column:4},end:{line:253,column:16}},"55":{start:{line:265,column:4},end:{line:268,column:6}},"56":{start:{line:278,column:4},end:{line:278,column:37}},"57":{start:{line:289,column:4},end:{line:289,column:15}},"58":{start:{line:290,column:4},end:{line:290,column:38}},"59":{start:{line:291,column:4},end:{line:291,column:23}},"60":{start:{line:292,column:4},end:{line:292,column:26}},"61":{start:{line:293,column:4},end:{line:293,column:23}},"62":{start:{line:294,column:4},end:{line:294,column:16}},"63":{start:{line:305,column:4},end:{line:305,column:40}},"64":{start:{line:317,column:4},end:{line:317,column:45}},"65":{start:{line:326,column:4},end:{line:326,column:55}},"66":{start:{line:336,column:4},end:{line:336,column:35}},"67":{start:{line:345,column:14},end:{line:345,column:42}},"68":{start:{line:347,column:2},end:{line:352,column:3}},"69":{start:{line:347,column:15},end:{line:347,column:16}},"70":{start:{line:348,column:4},end:{line:349,column:16}},"71":{start:{line:349,column:6},end:{line:349,column:16}},"72":{start:{line:350,column:4},end:{line:351,column:15}},"73":{start:{line:351,column:6},end:{line:351,column:15}},"74":{start:{line:354,column:2},end:{line:355,column:14}},"75":{start:{line:355,column:4},end:{line:355,column:14}},"76":{start:{line:357,column:2},end:{line:358,column:13}},"77":{start:{line:358,column:4},end:{line:358,column:13}},"78":{start:{line:360,column:2},end:{line:360,column:11}},"79":{start:{line:367,column:0},end:{line:367,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:27},end:{line:41,column:3}},line:31},"1":{name:"(anonymous_1)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:23},end:{line:56,column:3}},line:49},"2":{name:"(anonymous_2)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:30},end:{line:66,column:3}},line:64},"3":{name:"(anonymous_3)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:10},end:{line:78,column:3}},line:73},"4":{name:"(anonymous_4)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:18},end:{line:90,column:3}},line:86},"5":{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:19},end:{line:107,column:3}},line:98},"6":{name:"(anonymous_6)",decl:{start:{line:115,column:2},end:{line:115,column:3}},loc:{start:{line:115,column:11},end:{line:117,column:3}},line:115},"7":{name:"(anonymous_7)",decl:{start:{line:124,column:2},end:{line:124,column:3}},loc:{start:{line:124,column:10},end:{line:126,column:3}},line:124},"8":{name:"(anonymous_8)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:9},end:{line:135,column:3}},line:133},"9":{name:"(anonymous_9)",decl:{start:{line:143,column:2},end:{line:143,column:3}},loc:{start:{line:143,column:10},end:{line:145,column:3}},line:143},"10":{name:"(anonymous_10)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:15},end:{line:158,column:3}},line:154},"11":{name:"(anonymous_11)",decl:{start:{line:166,column:2},end:{line:166,column:3}},loc:{start:{line:166,column:22},end:{line:168,column:3}},line:166},"12":{name:"(anonymous_12)",decl:{start:{line:175,column:2},end:{line:175,column:3}},loc:{start:{line:175,column:15},end:{line:179,column:3}},line:175},"13":{name:"(anonymous_13)",decl:{start:{line:186,column:2},end:{line:186,column:3}},loc:{start:{line:186,column:12},end:{line:188,column:3}},line:186},"14":{name:"(anonymous_14)",decl:{start:{line:195,column:2},end:{line:195,column:3}},loc:{start:{line:195,column:10},end:{line:197,column:3}},line:195},"15":{name:"(anonymous_15)",decl:{start:{line:205,column:2},end:{line:205,column:3}},loc:{start:{line:205,column:17},end:{line:209,column:3}},line:205},"16":{name:"(anonymous_16)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:16},end:{line:219,column:3}},line:217},"17":{name:"(anonymous_17)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:24},end:{line:229,column:3}},line:227},"18":{name:"(anonymous_18)",decl:{start:{line:237,column:2},end:{line:237,column:3}},loc:{start:{line:237,column:23},end:{line:239,column:3}},line:237},"19":{name:"(anonymous_19)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:17},end:{line:254,column:3}},line:247},"20":{name:"(anonymous_20)",decl:{start:{line:264,column:2},end:{line:264,column:3}},loc:{start:{line:264,column:11},end:{line:269,column:3}},line:264},"21":{name:"(anonymous_21)",decl:{start:{line:277,column:2},end:{line:277,column:3}},loc:{start:{line:277,column:24},end:{line:279,column:3}},line:277},"22":{name:"(anonymous_22)",decl:{start:{line:288,column:2},end:{line:288,column:3}},loc:{start:{line:288,column:20},end:{line:295,column:3}},line:288},"23":{name:"(anonymous_23)",decl:{start:{line:304,column:2},end:{line:304,column:3}},loc:{start:{line:304,column:27},end:{line:306,column:3}},line:304},"24":{name:"(anonymous_24)",decl:{start:{line:316,column:2},end:{line:316,column:3}},loc:{start:{line:316,column:28},end:{line:318,column:3}},line:316},"25":{name:"(anonymous_25)",decl:{start:{line:325,column:2},end:{line:325,column:3}},loc:{start:{line:325,column:20},end:{line:327,column:3}},line:325},"26":{name:"(anonymous_26)",decl:{start:{line:335,column:2},end:{line:335,column:3}},loc:{start:{line:335,column:25},end:{line:337,column:3}},line:335},"27":{name:"strcmp",decl:{start:{line:344,column:9},end:{line:344,column:15}},loc:{start:{line:344,column:22},end:{line:361,column:1}},line:344}},branchMap:{"0":{loc:{start:{line:35,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:40,column:5}},{start:{line:35,column:4},end:{line:40,column:5}}],line:35},"1":{loc:{start:{line:88,column:11},end:{line:89,column:37}},type:"binary-expr",locations:[{start:{line:88,column:11},end:{line:88,column:41}},{start:{line:89,column:9},end:{line:89,column:37}}],line:88},"2":{loc:{start:{line:103,column:4},end:{line:104,column:17}},type:"if",locations:[{start:{line:103,column:4},end:{line:104,column:17}},{start:{line:103,column:4},end:{line:104,column:17}}],line:103},"3":{loc:{start:{line:116,column:11},end:{line:116,column:77}},type:"binary-expr",locations:[{start:{line:116,column:11},end:{line:116,column:36}},{start:{line:116,column:40},end:{line:116,column:77}}],line:116},"4":{loc:{start:{line:348,column:4},end:{line:349,column:16}},type:"if",locations:[{start:{line:348,column:4},end:{line:349,column:16}},{start:{line:348,column:4},end:{line:349,column:16}}],line:348},"5":{loc:{start:{line:350,column:4},end:{line:351,column:15}},type:"if",locations:[{start:{line:350,column:4},end:{line:351,column:15}},{start:{line:350,column:4},end:{line:351,column:15}}],line:350},"6":{loc:{start:{line:354,column:2},end:{line:355,column:14}},type:"if",locations:[{start:{line:354,column:2},end:{line:355,column:14}},{start:{line:354,column:2},end:{line:355,column:14}}],line:354},"7":{loc:{start:{line:357,column:2},end:{line:358,column:13}},type:"if",locations:[{start:{line:357,column:2},end:{line:358,column:13}},{start:{line:357,column:2},end:{line:358,column:13}}],line:357}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"af6a40d23dfbe53d11713dc5dd19ae0bd3187789"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_wqnf3fumx=function(){return actualCoverage;};}return actualCoverage;}cov_wqnf3fumx();const assert=(cov_wqnf3fumx().s[0]++,require('bsert'));const bio=(cov_wqnf3fumx().s[1]++,require('bufio'));const util=(cov_wqnf3fumx().s[2]++,require('../utils/util'));const consensus=(cov_wqnf3fumx().s[3]++,require('../protocol/consensus'));const{inspectSymbol}=(cov_wqnf3fumx().s[4]++,require('../utils'));/**
 * Outpoint
 * Represents a COutPoint.
 * @alias module:primitives.Outpoint
 * @property {Hash} hash
 * @property {Number} index
 */class Outpoint{/**
   * Create an outpoint.
   * @constructor
   * @param {Hash?} hash
   * @param {Number?} index
   */constructor(hash,index){cov_wqnf3fumx().f[0]++;cov_wqnf3fumx().s[5]++;this.hash=consensus.ZERO_HASH;cov_wqnf3fumx().s[6]++;this.index=0xffffffff;cov_wqnf3fumx().s[7]++;if(hash!=null){cov_wqnf3fumx().b[0][0]++;cov_wqnf3fumx().s[8]++;assert(Buffer.isBuffer(hash));cov_wqnf3fumx().s[9]++;assert(index>>>0===index,'Index must be a uint32.');cov_wqnf3fumx().s[10]++;this.hash=hash;cov_wqnf3fumx().s[11]++;this.index=index;}else{cov_wqnf3fumx().b[0][1]++;}}/**
   * Inject properties from options object.
   * @private
   * @param {Object} options
   */fromOptions(options){cov_wqnf3fumx().f[1]++;cov_wqnf3fumx().s[12]++;assert(options,'Outpoint data is required.');cov_wqnf3fumx().s[13]++;assert(Buffer.isBuffer(options.hash));cov_wqnf3fumx().s[14]++;assert(options.index>>>0===options.index,'Index must be a uint32.');cov_wqnf3fumx().s[15]++;this.hash=options.hash;cov_wqnf3fumx().s[16]++;this.index=options.index;cov_wqnf3fumx().s[17]++;return this;}/**
   * Instantate outpoint from options object.
   * @param {Object} options
   * @returns {Outpoint}
   */static fromOptions(options){cov_wqnf3fumx().f[2]++;cov_wqnf3fumx().s[18]++;return new this().fromOptions(options);}/**
   * Clone the outpoint.
   * @returns {Outpoint}
   */clone(){cov_wqnf3fumx().f[3]++;const outpoint=(cov_wqnf3fumx().s[19]++,new this.constructor());cov_wqnf3fumx().s[20]++;outpoint.hash=this.hash;cov_wqnf3fumx().s[21]++;outpoint.index=this.index;cov_wqnf3fumx().s[22]++;return outpoint;}/**
   * Test equality against another outpoint.
   * @param {Outpoint} prevout
   * @returns {Boolean}
   */equals(prevout){cov_wqnf3fumx().f[4]++;cov_wqnf3fumx().s[23]++;assert(Outpoint.isOutpoint(prevout));cov_wqnf3fumx().s[24]++;return(cov_wqnf3fumx().b[1][0]++,this.hash.equals(prevout.hash))&&(cov_wqnf3fumx().b[1][1]++,this.index===prevout.index);}/**
   * Compare against another outpoint (BIP69).
   * @param {Outpoint} prevout
   * @returns {Number}
   */compare(prevout){cov_wqnf3fumx().f[5]++;cov_wqnf3fumx().s[25]++;assert(Outpoint.isOutpoint(prevout));const cmp=(cov_wqnf3fumx().s[26]++,strcmp(this.txid(),prevout.txid()));cov_wqnf3fumx().s[27]++;if(cmp!==0){cov_wqnf3fumx().b[2][0]++;cov_wqnf3fumx().s[28]++;return cmp;}else{cov_wqnf3fumx().b[2][1]++;}cov_wqnf3fumx().s[29]++;return this.index-prevout.index;}/**
   * Test whether the outpoint is null (hash of zeroes
   * with max-u32 index). Used to detect coinbases.
   * @returns {Boolean}
   */isNull(){cov_wqnf3fumx().f[6]++;cov_wqnf3fumx().s[30]++;return(cov_wqnf3fumx().b[3][0]++,this.index===0xffffffff)&&(cov_wqnf3fumx().b[3][1]++,this.hash.equals(consensus.ZERO_HASH));}/**
   * Get little-endian hash.
   * @returns {Hash}
   */rhash(){cov_wqnf3fumx().f[7]++;cov_wqnf3fumx().s[31]++;return util.revHex(this.hash);}/**
   * Get little-endian hash.
   * @returns {Hash}
   */txid(){cov_wqnf3fumx().f[8]++;cov_wqnf3fumx().s[32]++;return this.rhash();}/**
   * Serialize outpoint to a key
   * suitable for a hash table.
   * @returns {String}
   */toKey(){cov_wqnf3fumx().f[9]++;cov_wqnf3fumx().s[33]++;return this.toRaw();}/**
   * Inject properties from hash table key.
   * @private
   * @param {String} key
   * @returns {Outpoint}
   */fromKey(key){cov_wqnf3fumx().f[10]++;cov_wqnf3fumx().s[34]++;this.hash=key.slice(0,32);cov_wqnf3fumx().s[35]++;this.index=bio.readU32(key,32);cov_wqnf3fumx().s[36]++;return this;}/**
   * Instantiate outpoint from hash table key.
   * @param {String} key
   * @returns {Outpoint}
   */static fromKey(key){cov_wqnf3fumx().f[11]++;cov_wqnf3fumx().s[37]++;return new this().fromKey(key);}/**
   * Write outpoint to a buffer writer.
   * @param {BufferWriter} bw
   */toWriter(bw){cov_wqnf3fumx().f[12]++;cov_wqnf3fumx().s[38]++;bw.writeHash(this.hash);cov_wqnf3fumx().s[39]++;bw.writeU32(this.index);cov_wqnf3fumx().s[40]++;return bw;}/**
   * Calculate size of outpoint.
   * @returns {Number}
   */getSize(){cov_wqnf3fumx().f[13]++;cov_wqnf3fumx().s[41]++;return 36;}/**
   * Serialize outpoint.
   * @returns {Buffer}
   */toRaw(){cov_wqnf3fumx().f[14]++;cov_wqnf3fumx().s[42]++;return this.toWriter(bio.write(36)).render();}/**
   * Inject properties from buffer reader.
   * @private
   * @param {BufferReader} br
   */fromReader(br){cov_wqnf3fumx().f[15]++;cov_wqnf3fumx().s[43]++;this.hash=br.readHash();cov_wqnf3fumx().s[44]++;this.index=br.readU32();cov_wqnf3fumx().s[45]++;return this;}/**
   * Inject properties from serialized data.
   * @private
   * @param {Buffer} data
   */fromRaw(data){cov_wqnf3fumx().f[16]++;cov_wqnf3fumx().s[46]++;return this.fromReader(bio.read(data));}/**
   * Instantiate outpoint from a buffer reader.
   * @param {BufferReader} br
   * @returns {Outpoint}
   */static fromReader(br){cov_wqnf3fumx().f[17]++;cov_wqnf3fumx().s[47]++;return new this().fromReader(br);}/**
   * Instantiate outpoint from serialized data.
   * @param {Buffer} data
   * @returns {Outpoint}
   */static fromRaw(data){cov_wqnf3fumx().f[18]++;cov_wqnf3fumx().s[48]++;return new this().fromRaw(data);}/**
   * Inject properties from json object.
   * @private
   * @params {Object} json
   */fromJSON(json){cov_wqnf3fumx().f[19]++;cov_wqnf3fumx().s[49]++;assert(json,'Outpoint data is required.');cov_wqnf3fumx().s[50]++;assert(typeof json.hash==='string','Hash must be a string.');cov_wqnf3fumx().s[51]++;assert(json.index>>>0===json.index,'Index must be a uint32.');cov_wqnf3fumx().s[52]++;this.hash=util.fromRev(json.hash);cov_wqnf3fumx().s[53]++;this.index=json.index;cov_wqnf3fumx().s[54]++;return this;}/**
   * Convert the outpoint to an object suitable
   * for JSON serialization. Note that the hash
   * will be reversed to abide by bitcoind's legacy
   * of little-endian uint256s.
   * @returns {Object}
   */toJSON(){cov_wqnf3fumx().f[20]++;cov_wqnf3fumx().s[55]++;return{hash:util.revHex(this.hash),index:this.index};}/**
   * Instantiate outpoint from json object.
   * @param {Object} json
   * @returns {Outpoint}
   */static fromJSON(json){cov_wqnf3fumx().f[21]++;cov_wqnf3fumx().s[56]++;return new this().fromJSON(json);}/**
   * Inject properties from tx.
   * @private
   * @param {TX} tx
   * @param {Number} index
   */fromTX(tx,index){cov_wqnf3fumx().f[22]++;cov_wqnf3fumx().s[57]++;assert(tx);cov_wqnf3fumx().s[58]++;assert(typeof index==='number');cov_wqnf3fumx().s[59]++;assert(index>=0);cov_wqnf3fumx().s[60]++;this.hash=tx.hash();cov_wqnf3fumx().s[61]++;this.index=index;cov_wqnf3fumx().s[62]++;return this;}/**
   * Instantiate outpoint from tx.
   * @param {TX} tx
   * @param {Number} index
   * @returns {Outpoint}
   */static fromTX(tx,index){cov_wqnf3fumx().f[23]++;cov_wqnf3fumx().s[63]++;return new this().fromTX(tx,index);}/**
   * Serialize outpoint to a key
   * suitable for a hash table.
   * @param {Hash} hash
   * @param {Number} index
   * @returns {String}
   */static toKey(hash,index){cov_wqnf3fumx().f[24]++;cov_wqnf3fumx().s[64]++;return new Outpoint(hash,index).toKey();}/**
   * Convert the outpoint to a user-friendly string.
   * @returns {String}
   */[inspectSymbol](){cov_wqnf3fumx().f[25]++;cov_wqnf3fumx().s[65]++;return`<Outpoint: ${this.rhash()}/${this.index}>`;}/**
   * Test an object to see if it is an outpoint.
   * @param {Object} obj
   * @returns {Boolean}
   */static isOutpoint(obj){cov_wqnf3fumx().f[26]++;cov_wqnf3fumx().s[66]++;return obj instanceof Outpoint;}}/*
 * Helpers
 */function strcmp(a,b){cov_wqnf3fumx().f[27]++;const len=(cov_wqnf3fumx().s[67]++,Math.min(a.length,b.length));cov_wqnf3fumx().s[68]++;for(let i=(cov_wqnf3fumx().s[69]++,0);i<len;i++){cov_wqnf3fumx().s[70]++;if(a[i]<b[i]){cov_wqnf3fumx().b[4][0]++;cov_wqnf3fumx().s[71]++;return-1;}else{cov_wqnf3fumx().b[4][1]++;}cov_wqnf3fumx().s[72]++;if(a[i]>b[i]){cov_wqnf3fumx().b[5][0]++;cov_wqnf3fumx().s[73]++;return 1;}else{cov_wqnf3fumx().b[5][1]++;}}cov_wqnf3fumx().s[74]++;if(a.length<b.length){cov_wqnf3fumx().b[6][0]++;cov_wqnf3fumx().s[75]++;return-1;}else{cov_wqnf3fumx().b[6][1]++;}cov_wqnf3fumx().s[76]++;if(a.length>b.length){cov_wqnf3fumx().b[7][0]++;cov_wqnf3fumx().s[77]++;return 1;}else{cov_wqnf3fumx().b[7][1]++;}cov_wqnf3fumx().s[78]++;return 0;}/*
 * Expose
 */cov_wqnf3fumx().s[79]++;module.exports=Outpoint;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm91dHBvaW50LmpzIl0sIm5hbWVzIjpbImFzc2VydCIsInJlcXVpcmUiLCJiaW8iLCJ1dGlsIiwiY29uc2Vuc3VzIiwiaW5zcGVjdFN5bWJvbCIsIk91dHBvaW50IiwiY29uc3RydWN0b3IiLCJoYXNoIiwiaW5kZXgiLCJaRVJPX0hBU0giLCJCdWZmZXIiLCJpc0J1ZmZlciIsImZyb21PcHRpb25zIiwib3B0aW9ucyIsImNsb25lIiwib3V0cG9pbnQiLCJlcXVhbHMiLCJwcmV2b3V0IiwiaXNPdXRwb2ludCIsImNvbXBhcmUiLCJjbXAiLCJzdHJjbXAiLCJ0eGlkIiwiaXNOdWxsIiwicmhhc2giLCJyZXZIZXgiLCJ0b0tleSIsInRvUmF3IiwiZnJvbUtleSIsImtleSIsInNsaWNlIiwicmVhZFUzMiIsInRvV3JpdGVyIiwiYnciLCJ3cml0ZUhhc2giLCJ3cml0ZVUzMiIsImdldFNpemUiLCJ3cml0ZSIsInJlbmRlciIsImZyb21SZWFkZXIiLCJiciIsInJlYWRIYXNoIiwiZnJvbVJhdyIsImRhdGEiLCJyZWFkIiwiZnJvbUpTT04iLCJqc29uIiwiZnJvbVJldiIsInRvSlNPTiIsImZyb21UWCIsInR4Iiwib2JqIiwiYSIsImIiLCJsZW4iLCJNYXRoIiwibWluIiwibGVuZ3RoIiwiaSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FFQSxhLDBoWEFTWTt5RkFQWixLQUFNQSxDQUFBQSxNQUFNLHlCQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVosQ0FDQSxLQUFNQyxDQUFBQSxHQUFHLHlCQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVQsQ0FDQSxLQUFNRSxDQUFBQSxJQUFJLHlCQUFHRixPQUFPLENBQUMsZUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRyxDQUFBQSxTQUFTLHlCQUFHSCxPQUFPLENBQUMsdUJBQUQsQ0FBVixDQUFmLENBQ0EsS0FBTSxDQUFDSSxhQUFELDBCQUFrQkosT0FB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d0JBVXBCLEdBQUlOLENBQUMsQ0FBQ0ssTUFBRixDQUFXSixDQUFDLENBQUNJLE1BQWpCLENBQ0UseURBQU8sQ0FBQyxDQUFSLENBQVUsQ0FEWixnQ0FWb0Isd0JBYXBCLEdBQUlMLENBQUMsQ0FBQ0ssTUFBRixDQUFXSixDQUFDLENBQUNJLE1BQWpCLENBQ0UseURBQU8sRUFBUCxDQUFTLENBRFgsZ0NBYm9CLHdCQWdCcEIsTUFBTyxFQUFQLENBQ0QsQ0FFRDtBQUNBO0FBQ0EsRyx3QkFFQUUsTUFBTSxDQUFDQyxPQUFQLENBQWlCdkQsUUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogb3V0cG9pbnQuanMgLSBvdXRwb2ludCBvYmplY3QgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE3LCBDaHJpc3RvcGhlciBKZWZmcmV5IChNSVQgTGljZW5zZSkuXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9iY29pbi1vcmcvYmNvaW5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdic2VydCcpO1xyXG5jb25zdCBiaW8gPSByZXF1aXJlKCdidWZpbycpO1xyXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbCcpO1xyXG5jb25zdCBjb25zZW5zdXMgPSByZXF1aXJlKCcuLi9wcm90b2NvbC9jb25zZW5zdXMnKTtcclxuY29uc3Qge2luc3BlY3RTeW1ib2x9ID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcclxuXHJcbi8qKlxyXG4gKiBPdXRwb2ludFxyXG4gKiBSZXByZXNlbnRzIGEgQ091dFBvaW50LlxyXG4gKiBAYWxpYXMgbW9kdWxlOnByaW1pdGl2ZXMuT3V0cG9pbnRcclxuICogQHByb3BlcnR5IHtIYXNofSBoYXNoXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpbmRleFxyXG4gKi9cclxuXHJcbmNsYXNzIE91dHBvaW50IHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYW4gb3V0cG9pbnQuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtIYXNoP30gaGFzaFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyP30gaW5kZXhcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3IoaGFzaCwgaW5kZXgpIHtcclxuICAgIHRoaXMuaGFzaCA9IGNvbnNlbnN1cy5aRVJPX0hBU0g7XHJcbiAgICB0aGlzLmluZGV4ID0gMHhmZmZmZmZmZjtcclxuXHJcbiAgICBpZiAoaGFzaCAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydChCdWZmZXIuaXNCdWZmZXIoaGFzaCkpO1xyXG4gICAgICBhc3NlcnQoKGluZGV4ID4+PiAwKSA9PT0gaW5kZXgsICdJbmRleCBtdXN0IGJlIGEgdWludDMyLicpO1xyXG4gICAgICB0aGlzLmhhc2ggPSBoYXNoO1xyXG4gICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmplY3QgcHJvcGVydGllcyBmcm9tIG9wdGlvbnMgb2JqZWN0LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuXHJcbiAgZnJvbU9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgYXNzZXJ0KG9wdGlvbnMsICdPdXRwb2ludCBkYXRhIGlzIHJlcXVpcmVkLicpO1xyXG4gICAgYXNzZXJ0KEJ1ZmZlci5pc0J1ZmZlcihvcHRpb25zLmhhc2gpKTtcclxuICAgIGFzc2VydCgob3B0aW9ucy5pbmRleCA+Pj4gMCkgPT09IG9wdGlvbnMuaW5kZXgsICdJbmRleCBtdXN0IGJlIGEgdWludDMyLicpO1xyXG4gICAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoO1xyXG4gICAgdGhpcy5pbmRleCA9IG9wdGlvbnMuaW5kZXg7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRhdGUgb3V0cG9pbnQgZnJvbSBvcHRpb25zIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm5zIHtPdXRwb2ludH1cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21PcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21PcHRpb25zKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvbmUgdGhlIG91dHBvaW50LlxyXG4gICAqIEByZXR1cm5zIHtPdXRwb2ludH1cclxuICAgKi9cclxuXHJcbiAgY2xvbmUoKSB7XHJcbiAgICBjb25zdCBvdXRwb2ludCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKCk7XHJcbiAgICBvdXRwb2ludC5oYXNoID0gdGhpcy5oYXNoO1xyXG4gICAgb3V0cG9pbnQuaW5kZXggPSB0aGlzLmluZGV4O1xyXG4gICAgcmV0dXJuIG91dHBvaW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCBlcXVhbGl0eSBhZ2FpbnN0IGFub3RoZXIgb3V0cG9pbnQuXHJcbiAgICogQHBhcmFtIHtPdXRwb2ludH0gcHJldm91dFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBlcXVhbHMocHJldm91dCkge1xyXG4gICAgYXNzZXJ0KE91dHBvaW50LmlzT3V0cG9pbnQocHJldm91dCkpO1xyXG4gICAgcmV0dXJuIHRoaXMuaGFzaC5lcXVhbHMocHJldm91dC5oYXNoKVxyXG4gICAgICAmJiB0aGlzLmluZGV4ID09PSBwcmV2b3V0LmluZGV4O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcGFyZSBhZ2FpbnN0IGFub3RoZXIgb3V0cG9pbnQgKEJJUDY5KS5cclxuICAgKiBAcGFyYW0ge091dHBvaW50fSBwcmV2b3V0XHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuXHJcbiAgY29tcGFyZShwcmV2b3V0KSB7XHJcbiAgICBhc3NlcnQoT3V0cG9pbnQuaXNPdXRwb2ludChwcmV2b3V0KSk7XHJcblxyXG4gICAgY29uc3QgY21wID0gc3RyY21wKHRoaXMudHhpZCgpLCBwcmV2b3V0LnR4aWQoKSk7XHJcblxyXG4gICAgaWYgKGNtcCAhPT0gMClcclxuICAgICAgcmV0dXJuIGNtcDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5pbmRleCAtIHByZXZvdXQuaW5kZXg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZXN0IHdoZXRoZXIgdGhlIG91dHBvaW50IGlzIG51bGwgKGhhc2ggb2YgemVyb2VzXHJcbiAgICogd2l0aCBtYXgtdTMyIGluZGV4KS4gVXNlZCB0byBkZXRlY3QgY29pbmJhc2VzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBpc051bGwoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleCA9PT0gMHhmZmZmZmZmZiAmJiB0aGlzLmhhc2guZXF1YWxzKGNvbnNlbnN1cy5aRVJPX0hBU0gpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGxpdHRsZS1lbmRpYW4gaGFzaC5cclxuICAgKiBAcmV0dXJucyB7SGFzaH1cclxuICAgKi9cclxuXHJcbiAgcmhhc2goKSB7XHJcbiAgICByZXR1cm4gdXRpbC5yZXZIZXgodGhpcy5oYXNoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBsaXR0bGUtZW5kaWFuIGhhc2guXHJcbiAgICogQHJldHVybnMge0hhc2h9XHJcbiAgICovXHJcblxyXG4gIHR4aWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yaGFzaCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VyaWFsaXplIG91dHBvaW50IHRvIGEga2V5XHJcbiAgICogc3VpdGFibGUgZm9yIGEgaGFzaCB0YWJsZS5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG5cclxuICB0b0tleSgpIHtcclxuICAgIHJldHVybiB0aGlzLnRvUmF3KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmplY3QgcHJvcGVydGllcyBmcm9tIGhhc2ggdGFibGUga2V5LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxyXG4gICAqIEByZXR1cm5zIHtPdXRwb2ludH1cclxuICAgKi9cclxuXHJcbiAgZnJvbUtleShrZXkpIHtcclxuICAgIHRoaXMuaGFzaCA9IGtleS5zbGljZSgwLCAzMik7XHJcbiAgICB0aGlzLmluZGV4ID0gYmlvLnJlYWRVMzIoa2V5LCAzMik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIG91dHBvaW50IGZyb20gaGFzaCB0YWJsZSBrZXkuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxyXG4gICAqIEByZXR1cm5zIHtPdXRwb2ludH1cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21LZXkoa2V5KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tS2V5KGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXcml0ZSBvdXRwb2ludCB0byBhIGJ1ZmZlciB3cml0ZXIuXHJcbiAgICogQHBhcmFtIHtCdWZmZXJXcml0ZXJ9IGJ3XHJcbiAgICovXHJcblxyXG4gIHRvV3JpdGVyKGJ3KSB7XHJcbiAgICBidy53cml0ZUhhc2godGhpcy5oYXNoKTtcclxuICAgIGJ3LndyaXRlVTMyKHRoaXMuaW5kZXgpO1xyXG4gICAgcmV0dXJuIGJ3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIHNpemUgb2Ygb3V0cG9pbnQuXHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuXHJcbiAgZ2V0U2l6ZSgpIHtcclxuICAgIHJldHVybiAzNjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZSBvdXRwb2ludC5cclxuICAgKiBAcmV0dXJucyB7QnVmZmVyfVxyXG4gICAqL1xyXG5cclxuICB0b1JhdygpIHtcclxuICAgIHJldHVybiB0aGlzLnRvV3JpdGVyKGJpby53cml0ZSgzNikpLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSBidWZmZXIgcmVhZGVyLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtCdWZmZXJSZWFkZXJ9IGJyXHJcbiAgICovXHJcblxyXG4gIGZyb21SZWFkZXIoYnIpIHtcclxuICAgIHRoaXMuaGFzaCA9IGJyLnJlYWRIYXNoKCk7XHJcbiAgICB0aGlzLmluZGV4ID0gYnIucmVhZFUzMigpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmplY3QgcHJvcGVydGllcyBmcm9tIHNlcmlhbGl6ZWQgZGF0YS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICovXHJcblxyXG4gIGZyb21SYXcoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJvbVJlYWRlcihiaW8ucmVhZChkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnN0YW50aWF0ZSBvdXRwb2ludCBmcm9tIGEgYnVmZmVyIHJlYWRlci5cclxuICAgKiBAcGFyYW0ge0J1ZmZlclJlYWRlcn0gYnJcclxuICAgKiBAcmV0dXJucyB7T3V0cG9pbnR9XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBmcm9tUmVhZGVyKGJyKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tUmVhZGVyKGJyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIG91dHBvaW50IGZyb20gc2VyaWFsaXplZCBkYXRhLlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICogQHJldHVybnMge091dHBvaW50fVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbVJhdyhkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tUmF3KGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSBqc29uIG9iamVjdC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbXMge09iamVjdH0ganNvblxyXG4gICAqL1xyXG5cclxuICBmcm9tSlNPTihqc29uKSB7XHJcbiAgICBhc3NlcnQoanNvbiwgJ091dHBvaW50IGRhdGEgaXMgcmVxdWlyZWQuJyk7XHJcbiAgICBhc3NlcnQodHlwZW9mIGpzb24uaGFzaCA9PT0gJ3N0cmluZycsICdIYXNoIG11c3QgYmUgYSBzdHJpbmcuJyk7XHJcbiAgICBhc3NlcnQoKGpzb24uaW5kZXggPj4+IDApID09PSBqc29uLmluZGV4LCAnSW5kZXggbXVzdCBiZSBhIHVpbnQzMi4nKTtcclxuICAgIHRoaXMuaGFzaCA9IHV0aWwuZnJvbVJldihqc29uLmhhc2gpO1xyXG4gICAgdGhpcy5pbmRleCA9IGpzb24uaW5kZXg7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGhlIG91dHBvaW50IHRvIGFuIG9iamVjdCBzdWl0YWJsZVxyXG4gICAqIGZvciBKU09OIHNlcmlhbGl6YXRpb24uIE5vdGUgdGhhdCB0aGUgaGFzaFxyXG4gICAqIHdpbGwgYmUgcmV2ZXJzZWQgdG8gYWJpZGUgYnkgYml0Y29pbmQncyBsZWdhY3lcclxuICAgKiBvZiBsaXR0bGUtZW5kaWFuIHVpbnQyNTZzLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcblxyXG4gIHRvSlNPTigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhhc2g6IHV0aWwucmV2SGV4KHRoaXMuaGFzaCksXHJcbiAgICAgIGluZGV4OiB0aGlzLmluZGV4XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgb3V0cG9pbnQgZnJvbSBqc29uIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvblxyXG4gICAqIEByZXR1cm5zIHtPdXRwb2ludH1cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21KU09OKGpzb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSB0eC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICovXHJcblxyXG4gIGZyb21UWCh0eCwgaW5kZXgpIHtcclxuICAgIGFzc2VydCh0eCk7XHJcbiAgICBhc3NlcnQodHlwZW9mIGluZGV4ID09PSAnbnVtYmVyJyk7XHJcbiAgICBhc3NlcnQoaW5kZXggPj0gMCk7XHJcbiAgICB0aGlzLmhhc2ggPSB0eC5oYXNoKCk7XHJcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIG91dHBvaW50IGZyb20gdHguXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcclxuICAgKiBAcmV0dXJucyB7T3V0cG9pbnR9XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBmcm9tVFgodHgsIGluZGV4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tVFgodHgsIGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZSBvdXRwb2ludCB0byBhIGtleVxyXG4gICAqIHN1aXRhYmxlIGZvciBhIGhhc2ggdGFibGUuXHJcbiAgICogQHBhcmFtIHtIYXNofSBoYXNoXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIHRvS2V5KGhhc2gsIGluZGV4KSB7XHJcbiAgICByZXR1cm4gbmV3IE91dHBvaW50KGhhc2gsIGluZGV4KS50b0tleSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCB0aGUgb3V0cG9pbnQgdG8gYSB1c2VyLWZyaWVuZGx5IHN0cmluZy5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAqL1xyXG5cclxuICBbaW5zcGVjdFN5bWJvbF0oKSB7XHJcbiAgICByZXR1cm4gYDxPdXRwb2ludDogJHt0aGlzLnJoYXNoKCl9LyR7dGhpcy5pbmRleH0+YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlc3QgYW4gb2JqZWN0IHRvIHNlZSBpZiBpdCBpcyBhbiBvdXRwb2ludC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBpc091dHBvaW50KG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE91dHBvaW50O1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICogSGVscGVyc1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHN0cmNtcChhLCBiKSB7XHJcbiAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgaWYgKGFbaV0gPCBiW2ldKVxyXG4gICAgICByZXR1cm4gLTE7XHJcbiAgICBpZiAoYVtpXSA+IGJbaV0pXHJcbiAgICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpXHJcbiAgICByZXR1cm4gLTE7XHJcblxyXG4gIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKVxyXG4gICAgcmV0dXJuIDE7XHJcblxyXG4gIHJldHVybiAwO1xyXG59XHJcblxyXG4vKlxyXG4gKiBFeHBvc2VcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE91dHBvaW50O1xyXG4iXX0=