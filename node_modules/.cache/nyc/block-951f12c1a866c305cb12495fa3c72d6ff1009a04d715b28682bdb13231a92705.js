/*!
 * block.js - block object for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_15wu0g9ke1(){var path="E:\\Projects\\Test\\bcoin\\lib\\primitives\\block.js";var hash="437ecf0a02e052fcb042d1af1631236b1e205d04";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\primitives\\block.js",statementMap:{"0":{start:{line:10,column:15},end:{line:10,column:31}},"1":{start:{line:11,column:12},end:{line:11,column:28}},"2":{start:{line:12,column:20},end:{line:12,column:41}},"3":{start:{line:13,column:16},end:{line:13,column:46}},"4":{start:{line:14,column:15},end:{line:14,column:44}},"5":{start:{line:15,column:18},end:{line:15,column:50}},"6":{start:{line:16,column:22},end:{line:16,column:48}},"7":{start:{line:17,column:11},end:{line:17,column:26}},"8":{start:{line:18,column:20},end:{line:18,column:44}},"9":{start:{line:19,column:16},end:{line:19,column:36}},"10":{start:{line:20,column:16},end:{line:20,column:46}},"11":{start:{line:21,column:13},end:{line:21,column:37}},"12":{start:{line:22,column:19},end:{line:22,column:22}},"13":{start:{line:23,column:24},end:{line:23,column:43}},"14":{start:{line:24,column:18},end:{line:24,column:45}},"15":{start:{line:25,column:18},end:{line:25,column:45}},"16":{start:{line:42,column:4},end:{line:42,column:12}},"17":{start:{line:44,column:4},end:{line:44,column:18}},"18":{start:{line:46,column:4},end:{line:46,column:21}},"19":{start:{line:47,column:4},end:{line:47,column:20}},"20":{start:{line:48,column:4},end:{line:48,column:23}},"21":{start:{line:50,column:4},end:{line:51,column:32}},"22":{start:{line:51,column:6},end:{line:51,column:32}},"23":{start:{line:61,column:4},end:{line:61,column:31}},"24":{start:{line:63,column:4},end:{line:69,column:5}},"25":{start:{line:64,column:6},end:{line:64,column:41}},"26":{start:{line:65,column:6},end:{line:68,column:7}},"27":{start:{line:66,column:8},end:{line:66,column:33}},"28":{start:{line:67,column:8},end:{line:67,column:26}},"29":{start:{line:71,column:4},end:{line:71,column:16}},"30":{start:{line:81,column:4},end:{line:81,column:43}},"31":{start:{line:90,column:4},end:{line:90,column:20}},"32":{start:{line:92,column:4},end:{line:92,column:21}},"33":{start:{line:93,column:4},end:{line:93,column:20}},"34":{start:{line:94,column:4},end:{line:94,column:23}},"35":{start:{line:96,column:4},end:{line:97,column:18}},"36":{start:{line:97,column:6},end:{line:97,column:18}},"37":{start:{line:99,column:4},end:{line:100,column:19}},"38":{start:{line:100,column:6},end:{line:100,column:19}},"39":{start:{line:102,column:4},end:{line:102,column:16}},"40":{start:{line:111,column:4},end:{line:111,column:29}},"41":{start:{line:120,column:4},end:{line:120,column:30}},"42":{start:{line:129,column:4},end:{line:130,column:37}},"43":{start:{line:130,column:6},end:{line:130,column:37}},"44":{start:{line:131,column:4},end:{line:131,column:24}},"45":{start:{line:140,column:4},end:{line:141,column:35}},"46":{start:{line:141,column:6},end:{line:141,column:35}},"47":{start:{line:143,column:16},end:{line:143,column:28}},"48":{start:{line:144,column:4},end:{line:144,column:28}},"49":{start:{line:146,column:4},end:{line:146,column:14}},"50":{start:{line:155,column:4},end:{line:158,column:5}},"51":{start:{line:156,column:6},end:{line:156,column:27}},"52":{start:{line:157,column:6},end:{line:157,column:16}},"53":{start:{line:159,column:4},end:{line:159,column:29}},"54":{start:{line:170,column:4},end:{line:173,column:5}},"55":{start:{line:171,column:6},end:{line:171,column:25}},"56":{start:{line:172,column:6},end:{line:172,column:33}},"57":{start:{line:175,column:4},end:{line:181,column:5}},"58":{start:{line:176,column:6},end:{line:176,column:30}},"59":{start:{line:177,column:6},end:{line:177,column:33}},"60":{start:{line:178,column:18},end:{line:178,column:57}},"61":{start:{line:179,column:6},end:{line:179,column:27}},"62":{start:{line:180,column:6},end:{line:180,column:17}},"63":{start:{line:183,column:16},end:{line:183,column:35}},"64":{start:{line:185,column:4},end:{line:185,column:25}},"65":{start:{line:186,column:4},end:{line:186,column:26}},"66":{start:{line:187,column:4},end:{line:187,column:32}},"67":{start:{line:189,column:4},end:{line:189,column:15}},"68":{start:{line:198,column:4},end:{line:199,column:36}},"69":{start:{line:199,column:6},end:{line:199,column:36}},"70":{start:{line:200,column:4},end:{line:200,column:24}},"71":{start:{line:209,column:18},end:{line:209,column:48}},"72":{start:{line:210,column:4},end:{line:210,column:54}},"73":{start:{line:219,column:16},end:{line:219,column:31}},"74":{start:{line:220,column:17},end:{line:220,column:39}},"75":{start:{line:221,column:4},end:{line:221,column:66}},"76":{start:{line:230,column:4},end:{line:230,column:32}},"77":{start:{line:239,column:16},end:{line:239,column:31}},"78":{start:{line:240,column:4},end:{line:240,column:34}},"79":{start:{line:250,column:4},end:{line:251,column:33}},"80":{start:{line:251,column:6},end:{line:251,column:33}},"81":{start:{line:253,column:4},end:{line:256,column:5}},"82":{start:{line:254,column:6},end:{line:255,column:20}},"83":{start:{line:255,column:8},end:{line:255,column:20}},"84":{start:{line:258,column:4},end:{line:258,column:17}},"85":{start:{line:268,column:4},end:{line:268,column:37}},"86":{start:{line:278,column:4},end:{line:282,column:5}},"87":{start:{line:278,column:17},end:{line:278,column:18}},"88":{start:{line:279,column:17},end:{line:279,column:28}},"89":{start:{line:280,column:6},end:{line:281,column:17}},"90":{start:{line:281,column:8},end:{line:281,column:17}},"91":{start:{line:284,column:4},end:{line:284,column:14}},"92":{start:{line:295,column:19},end:{line:295,column:21}},"93":{start:{line:297,column:4},end:{line:298,column:29}},"94":{start:{line:298,column:6},end:{line:298,column:29}},"95":{start:{line:300,column:30},end:{line:300,column:64}},"96":{start:{line:302,column:4},end:{line:303,column:18}},"97":{start:{line:303,column:6},end:{line:303,column:18}},"98":{start:{line:305,column:4},end:{line:305,column:55}},"99":{start:{line:314,column:4},end:{line:314,column:44}},"100":{start:{line:325,column:18},end:{line:325,column:40}},"101":{start:{line:326,column:19},end:{line:326,column:21}},"102":{start:{line:328,column:4},end:{line:328,column:47}},"103":{start:{line:330,column:4},end:{line:330,column:37}},"104":{start:{line:332,column:4},end:{line:335,column:5}},"105":{start:{line:332,column:17},end:{line:332,column:18}},"106":{start:{line:333,column:17},end:{line:333,column:28}},"107":{start:{line:334,column:6},end:{line:334,column:36}},"108":{start:{line:337,column:19},end:{line:337,column:53}},"109":{start:{line:342,column:17},end:{line:342,column:42}},"110":{start:{line:344,column:4},end:{line:346,column:13}},"111":{start:{line:356,column:4},end:{line:357,column:45}},"112":{start:{line:357,column:6},end:{line:357,column:45}},"113":{start:{line:358,column:4},end:{line:358,column:27}},"114":{start:{line:368,column:4},end:{line:369,column:18}},"115":{start:{line:369,column:6},end:{line:369,column:18}},"116":{start:{line:371,column:21},end:{line:371,column:32}},"117":{start:{line:373,column:4},end:{line:374,column:18}},"118":{start:{line:374,column:6},end:{line:374,column:18}},"119":{start:{line:376,column:18},end:{line:376,column:36}},"120":{start:{line:378,column:4},end:{line:379,column:18}},"121":{start:{line:379,column:6},end:{line:379,column:18}},"122":{start:{line:381,column:4},end:{line:382,column:18}},"123":{start:{line:382,column:6},end:{line:382,column:18}},"124":{start:{line:384,column:4},end:{line:384,column:34}},"125":{start:{line:395,column:4},end:{line:396,column:18}},"126":{start:{line:396,column:6},end:{line:396,column:18}},"127":{start:{line:398,column:21},end:{line:398,column:32}},"128":{start:{line:400,column:15},end:{line:400,column:19}},"129":{start:{line:402,column:4},end:{line:408,column:5}},"130":{start:{line:402,column:17},end:{line:402,column:44}},"131":{start:{line:403,column:21},end:{line:403,column:40}},"132":{start:{line:404,column:6},end:{line:407,column:7}},"133":{start:{line:405,column:8},end:{line:405,column:45}},"134":{start:{line:406,column:8},end:{line:406,column:14}},"135":{start:{line:410,column:4},end:{line:411,column:18}},"136":{start:{line:411,column:6},end:{line:411,column:18}},"137":{start:{line:413,column:4},end:{line:415,column:13}},"138":{start:{line:425,column:20},end:{line:425,column:36}},"139":{start:{line:426,column:4},end:{line:426,column:17}},"140":{start:{line:437,column:4},end:{line:441,column:5}},"141":{start:{line:440,column:6},end:{line:440,column:44}},"142":{start:{line:444,column:4},end:{line:445,column:44}},"143":{start:{line:445,column:6},end:{line:445,column:44}},"144":{start:{line:448,column:17},end:{line:448,column:40}},"145":{start:{line:452,column:4},end:{line:453,column:48}},"146":{start:{line:453,column:6},end:{line:453,column:48}},"147":{start:{line:455,column:4},end:{line:456,column:45}},"148":{start:{line:456,column:6},end:{line:456,column:45}},"149":{start:{line:459,column:18},end:{line:459,column:48}},"150":{start:{line:461,column:17},end:{line:461,column:18}},"151":{start:{line:463,column:4},end:{line:480,column:5}},"152":{start:{line:463,column:17},end:{line:463,column:18}},"153":{start:{line:464,column:17},end:{line:464,column:28}},"154":{start:{line:467,column:6},end:{line:468,column:47}},"155":{start:{line:468,column:8},end:{line:468,column:47}},"156":{start:{line:471,column:37},end:{line:471,column:53}},"157":{start:{line:473,column:6},end:{line:474,column:38}},"158":{start:{line:474,column:8},end:{line:474,column:38}},"159":{start:{line:477,column:6},end:{line:477,column:37}},"160":{start:{line:478,column:6},end:{line:479,column:46}},"161":{start:{line:479,column:8},end:{line:479,column:46}},"162":{start:{line:482,column:4},end:{line:482,column:30}},"163":{start:{line:491,column:4},end:{line:492,column:16}},"164":{start:{line:492,column:6},end:{line:492,column:16}},"165":{start:{line:494,column:4},end:{line:495,column:16}},"166":{start:{line:495,column:6},end:{line:495,column:16}},"167":{start:{line:497,column:21},end:{line:497,column:32}},"168":{start:{line:499,column:4},end:{line:500,column:16}},"169":{start:{line:500,column:6},end:{line:500,column:16}},"170":{start:{line:502,column:4},end:{line:502,column:57}},"171":{start:{line:511,column:4},end:{line:511,column:32}},"172":{start:{line:512,column:4},end:{line:512,column:37}},"173":{start:{line:513,column:4},end:{line:513,column:40}},"174":{start:{line:523,column:20},end:{line:523,column:35}},"175":{start:{line:525,column:4},end:{line:530,column:5}},"176":{start:{line:525,column:17},end:{line:525,column:18}},"177":{start:{line:526,column:17},end:{line:526,column:28}},"178":{start:{line:528,column:6},end:{line:529,column:40}},"179":{start:{line:529,column:8},end:{line:529,column:40}},"180":{start:{line:532,column:4},end:{line:532,column:29}},"181":{start:{line:542,column:4},end:{line:542,column:25}},"182":{start:{line:554,column:27},end:{line:554,column:51}},"183":{start:{line:555,column:4},end:{line:573,column:6}},"184":{start:{line:571,column:8},end:{line:571,column:40}},"185":{start:{line:583,column:4},end:{line:583,column:26}},"186":{start:{line:599,column:4},end:{line:599,column:35}},"187":{start:{line:600,column:4},end:{line:613,column:6}},"188":{start:{line:611,column:8},end:{line:611,column:50}},"189":{start:{line:623,column:4},end:{line:623,column:44}},"190":{start:{line:624,column:4},end:{line:624,column:36}},"191":{start:{line:626,column:4},end:{line:626,column:25}},"192":{start:{line:628,column:4},end:{line:629,column:37}},"193":{start:{line:629,column:6},end:{line:629,column:37}},"194":{start:{line:631,column:4},end:{line:631,column:16}},"195":{start:{line:641,column:4},end:{line:641,column:37}},"196":{start:{line:651,column:4},end:{line:651,column:15}},"197":{start:{line:653,column:4},end:{line:653,column:22}},"198":{start:{line:655,column:18},end:{line:655,column:33}},"199":{start:{line:656,column:18},end:{line:656,column:19}},"200":{start:{line:658,column:4},end:{line:662,column:5}},"201":{start:{line:658,column:17},end:{line:658,column:18}},"202":{start:{line:659,column:17},end:{line:659,column:40}},"203":{start:{line:660,column:6},end:{line:660,column:29}},"204":{start:{line:661,column:6},end:{line:661,column:24}},"205":{start:{line:664,column:4},end:{line:668,column:5}},"206":{start:{line:665,column:6},end:{line:665,column:31}},"207":{start:{line:666,column:6},end:{line:666,column:36}},"208":{start:{line:667,column:6},end:{line:667,column:30}},"209":{start:{line:670,column:4},end:{line:670,column:16}},"210":{start:{line:680,column:4},end:{line:680,column:43}},"211":{start:{line:691,column:4},end:{line:691,column:39}},"212":{start:{line:702,column:4},end:{line:703,column:36}},"213":{start:{line:703,column:6},end:{line:703,column:36}},"214":{start:{line:704,column:4},end:{line:704,column:36}},"215":{start:{line:716,column:4},end:{line:716,column:47}},"216":{start:{line:728,column:4},end:{line:728,column:23}},"217":{start:{line:730,column:4},end:{line:730,column:36}},"218":{start:{line:732,column:4},end:{line:733,column:28}},"219":{start:{line:733,column:6},end:{line:733,column:28}},"220":{start:{line:735,column:4},end:{line:735,column:14}},"221":{start:{line:747,column:4},end:{line:747,column:23}},"222":{start:{line:749,column:4},end:{line:749,column:36}},"223":{start:{line:751,column:4},end:{line:752,column:28}},"224":{start:{line:752,column:6},end:{line:752,column:28}},"225":{start:{line:754,column:4},end:{line:754,column:14}},"226":{start:{line:766,column:16},end:{line:766,column:37}},"227":{start:{line:767,column:15},end:{line:767,column:34}},"228":{start:{line:768,column:4},end:{line:768,column:25}},"229":{start:{line:769,column:4},end:{line:769,column:27}},"230":{start:{line:770,column:4},end:{line:770,column:15}},"231":{start:{line:781,column:16},end:{line:781,column:38}},"232":{start:{line:782,column:15},end:{line:782,column:34}},"233":{start:{line:783,column:4},end:{line:783,column:26}},"234":{start:{line:784,column:4},end:{line:784,column:27}},"235":{start:{line:785,column:4},end:{line:785,column:15}},"236":{start:{line:794,column:4},end:{line:794,column:35}},"237":{start:{line:803,column:15},end:{line:803,column:16}},"238":{start:{line:805,column:4},end:{line:805,column:15}},"239":{start:{line:806,column:4},end:{line:806,column:49}},"240":{start:{line:808,column:4},end:{line:809,column:31}},"241":{start:{line:809,column:6},end:{line:809,column:31}},"242":{start:{line:811,column:4},end:{line:811,column:33}},"243":{start:{line:820,column:15},end:{line:820,column:16}},"244":{start:{line:821,column:18},end:{line:821,column:19}},"245":{start:{line:823,column:4},end:{line:823,column:15}},"246":{start:{line:824,column:4},end:{line:824,column:49}},"247":{start:{line:826,column:4},end:{line:830,column:5}},"248":{start:{line:827,column:18},end:{line:827,column:31}},"249":{start:{line:828,column:6},end:{line:828,column:23}},"250":{start:{line:829,column:6},end:{line:829,column:29}},"251":{start:{line:832,column:4},end:{line:832,column:39}},"252":{start:{line:842,column:4},end:{line:842,column:32}},"253":{start:{line:853,column:17},end:{line:853,column:28}},"254":{start:{line:854,column:16},end:{line:854,column:33}},"255":{start:{line:855,column:18},end:{line:855,column:33}},"256":{start:{line:857,column:4},end:{line:872,column:5}},"257":{start:{line:857,column:17},end:{line:857,column:18}},"258":{start:{line:858,column:17},end:{line:858,column:28}},"259":{start:{line:860,column:6},end:{line:871,column:7}},"260":{start:{line:861,column:8},end:{line:862,column:19}},"261":{start:{line:862,column:10},end:{line:862,column:19}},"262":{start:{line:867,column:8},end:{line:868,column:19}},"263":{start:{line:868,column:10},end:{line:868,column:19}},"264":{start:{line:870,column:8},end:{line:870,column:37}},"265":{start:{line:874,column:4},end:{line:881,column:5}},"266":{start:{line:875,column:6},end:{line:880,column:7}},"267":{start:{line:876,column:8},end:{line:877,column:19}},"268":{start:{line:877,column:10},end:{line:877,column:19}},"269":{start:{line:879,column:8},end:{line:879,column:42}},"270":{start:{line:883,column:4},end:{line:883,column:47}},"271":{start:{line:893,column:4},end:{line:893,column:21}},"272":{start:{line:894,column:4},end:{line:894,column:21}},"273":{start:{line:895,column:4},end:{line:895,column:27}},"274":{start:{line:903,column:0},end:{line:903,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:23},end:{line:52,column:3}},line:41},"1":{name:"(anonymous_1)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:23},end:{line:72,column:3}},line:60},"2":{name:"(anonymous_2)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:30},end:{line:82,column:3}},line:80},"3":{name:"(anonymous_3)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:15},end:{line:103,column:3}},line:89},"4":{name:"(anonymous_4)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:10},end:{line:112,column:3}},line:110},"5":{name:"(anonymous_5)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:11},end:{line:121,column:3}},line:119},"6":{name:"(anonymous_6)",decl:{start:{line:128,column:2},end:{line:128,column:3}},loc:{start:{line:128,column:13},end:{line:132,column:3}},line:128},"7":{name:"(anonymous_7)",decl:{start:{line:139,column:2},end:{line:139,column:3}},loc:{start:{line:139,column:15},end:{line:147,column:3}},line:139},"8":{name:"(anonymous_8)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:21},end:{line:160,column:3}},line:154},"9":{name:"(anonymous_9)",decl:{start:{line:169,column:2},end:{line:169,column:3}},loc:{start:{line:169,column:10},end:{line:190,column:3}},line:169},"10":{name:"(anonymous_10)",decl:{start:{line:197,column:2},end:{line:197,column:3}},loc:{start:{line:197,column:13},end:{line:201,column:3}},line:197},"11":{name:"(anonymous_11)",decl:{start:{line:208,column:2},end:{line:208,column:3}},loc:{start:{line:208,column:19},end:{line:211,column:3}},line:208},"12":{name:"(anonymous_12)",decl:{start:{line:218,column:2},end:{line:218,column:3}},loc:{start:{line:218,column:14},end:{line:222,column:3}},line:218},"13":{name:"(anonymous_13)",decl:{start:{line:229,column:2},end:{line:229,column:3}},loc:{start:{line:229,column:12},end:{line:231,column:3}},line:229},"14":{name:"(anonymous_14)",decl:{start:{line:238,column:2},end:{line:238,column:3}},loc:{start:{line:238,column:16},end:{line:241,column:3}},line:238},"15":{name:"(anonymous_15)",decl:{start:{line:249,column:2},end:{line:249,column:3}},loc:{start:{line:249,column:15},end:{line:259,column:3}},line:249},"16":{name:"(anonymous_16)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:14},end:{line:269,column:3}},line:267},"17":{name:"(anonymous_17)",decl:{start:{line:277,column:2},end:{line:277,column:3}},loc:{start:{line:277,column:16},end:{line:285,column:3}},line:277},"18":{name:"(anonymous_18)",decl:{start:{line:294,column:2},end:{line:294,column:3}},loc:{start:{line:294,column:24},end:{line:306,column:3}},line:294},"19":{name:"(anonymous_19)",decl:{start:{line:313,column:2},end:{line:313,column:3}},loc:{start:{line:313,column:23},end:{line:315,column:3}},line:313},"20":{name:"(anonymous_20)",decl:{start:{line:324,column:2},end:{line:324,column:3}},loc:{start:{line:324,column:28},end:{line:347,column:3}},line:324},"21":{name:"(anonymous_21)",decl:{start:{line:355,column:2},end:{line:355,column:3}},loc:{start:{line:355,column:21},end:{line:359,column:3}},line:355},"22":{name:"(anonymous_22)",decl:{start:{line:367,column:2},end:{line:367,column:3}},loc:{start:{line:367,column:20},end:{line:385,column:3}},line:367},"23":{name:"(anonymous_23)",decl:{start:{line:394,column:2},end:{line:394,column:3}},loc:{start:{line:394,column:25},end:{line:416,column:3}},line:394},"24":{name:"(anonymous_24)",decl:{start:{line:424,column:2},end:{line:424,column:3}},loc:{start:{line:424,column:15},end:{line:427,column:3}},line:424},"25":{name:"(anonymous_25)",decl:{start:{line:435,column:2},end:{line:435,column:3}},loc:{start:{line:435,column:14},end:{line:483,column:3}},line:435},"26":{name:"(anonymous_26)",decl:{start:{line:490,column:2},end:{line:490,column:3}},loc:{start:{line:490,column:22},end:{line:503,column:3}},line:490},"27":{name:"(anonymous_27)",decl:{start:{line:510,column:2},end:{line:510,column:3}},loc:{start:{line:510,column:15},end:{line:514,column:3}},line:510},"28":{name:"(anonymous_28)",decl:{start:{line:522,column:2},end:{line:522,column:3}},loc:{start:{line:522,column:15},end:{line:533,column:3}},line:522},"29":{name:"(anonymous_29)",decl:{start:{line:541,column:2},end:{line:541,column:3}},loc:{start:{line:541,column:20},end:{line:543,column:3}},line:541},"30":{name:"(anonymous_30)",decl:{start:{line:553,column:2},end:{line:553,column:3}},loc:{start:{line:553,column:23},end:{line:574,column:3}},line:553},"31":{name:"(anonymous_31)",decl:{start:{line:570,column:24},end:{line:570,column:25}},loc:{start:{line:570,column:35},end:{line:572,column:7}},line:570},"32":{name:"(anonymous_32)",decl:{start:{line:582,column:2},end:{line:582,column:3}},loc:{start:{line:582,column:11},end:{line:584,column:3}},line:582},"33":{name:"(anonymous_33)",decl:{start:{line:598,column:2},end:{line:598,column:3}},loc:{start:{line:598,column:40},end:{line:614,column:3}},line:598},"34":{name:"(anonymous_34)",decl:{start:{line:610,column:24},end:{line:610,column:25}},loc:{start:{line:610,column:35},end:{line:612,column:7}},line:610},"35":{name:"(anonymous_35)",decl:{start:{line:622,column:2},end:{line:622,column:3}},loc:{start:{line:622,column:17},end:{line:632,column:3}},line:622},"36":{name:"(anonymous_36)",decl:{start:{line:640,column:2},end:{line:640,column:3}},loc:{start:{line:640,column:24},end:{line:642,column:3}},line:640},"37":{name:"(anonymous_37)",decl:{start:{line:650,column:2},end:{line:650,column:3}},loc:{start:{line:650,column:17},end:{line:671,column:3}},line:650},"38":{name:"(anonymous_38)",decl:{start:{line:679,column:2},end:{line:679,column:3}},loc:{start:{line:679,column:16},end:{line:681,column:3}},line:679},"39":{name:"(anonymous_39)",decl:{start:{line:690,column:2},end:{line:690,column:3}},loc:{start:{line:690,column:26},end:{line:692,column:3}},line:690},"40":{name:"(anonymous_40)",decl:{start:{line:701,column:2},end:{line:701,column:3}},loc:{start:{line:701,column:28},end:{line:705,column:3}},line:701},"41":{name:"(anonymous_41)",decl:{start:{line:715,column:2},end:{line:715,column:3}},loc:{start:{line:715,column:19},end:{line:717,column:3}},line:715},"42":{name:"(anonymous_42)",decl:{start:{line:727,column:2},end:{line:727,column:3}},loc:{start:{line:727,column:18},end:{line:736,column:3}},line:727},"43":{name:"(anonymous_43)",decl:{start:{line:746,column:2},end:{line:746,column:3}},loc:{start:{line:746,column:19},end:{line:755,column:3}},line:746},"44":{name:"(anonymous_44)",decl:{start:{line:765,column:2},end:{line:765,column:3}},loc:{start:{line:765,column:16},end:{line:771,column:3}},line:765},"45":{name:"(anonymous_45)",decl:{start:{line:780,column:2},end:{line:780,column:3}},loc:{start:{line:780,column:17},end:{line:786,column:3}},line:780},"46":{name:"(anonymous_46)",decl:{start:{line:793,column:2},end:{line:793,column:3}},loc:{start:{line:793,column:14},end:{line:795,column:3}},line:793},"47":{name:"(anonymous_47)",decl:{start:{line:802,column:2},end:{line:802,column:3}},loc:{start:{line:802,column:19},end:{line:812,column:3}},line:802},"48":{name:"(anonymous_48)",decl:{start:{line:819,column:2},end:{line:819,column:3}},loc:{start:{line:819,column:20},end:{line:833,column:3}},line:819},"49":{name:"(anonymous_49)",decl:{start:{line:841,column:2},end:{line:841,column:3}},loc:{start:{line:841,column:22},end:{line:843,column:3}},line:841},"50":{name:"(anonymous_50)",decl:{start:{line:852,column:2},end:{line:852,column:3}},loc:{start:{line:852,column:17},end:{line:884,column:3}},line:852},"51":{name:"(anonymous_51)",decl:{start:{line:892,column:2},end:{line:892,column:3}},loc:{start:{line:892,column:29},end:{line:896,column:3}},line:892}},branchMap:{"0":{loc:{start:{line:50,column:4},end:{line:51,column:32}},type:"if",locations:[{start:{line:50,column:4},end:{line:51,column:32}},{start:{line:50,column:4},end:{line:51,column:32}}],line:50},"1":{loc:{start:{line:63,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:69,column:5}},{start:{line:63,column:4},end:{line:69,column:5}}],line:63},"2":{loc:{start:{line:96,column:4},end:{line:97,column:18}},type:"if",locations:[{start:{line:96,column:4},end:{line:97,column:18}},{start:{line:96,column:4},end:{line:97,column:18}}],line:96},"3":{loc:{start:{line:129,column:4},end:{line:130,column:37}},type:"if",locations:[{start:{line:129,column:4},end:{line:130,column:37}},{start:{line:129,column:4},end:{line:130,column:37}}],line:129},"4":{loc:{start:{line:140,column:4},end:{line:141,column:35}},type:"if",locations:[{start:{line:140,column:4},end:{line:141,column:35}},{start:{line:140,column:4},end:{line:141,column:35}}],line:140},"5":{loc:{start:{line:155,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:155,column:4},end:{line:158,column:5}},{start:{line:155,column:4},end:{line:158,column:5}}],line:155},"6":{loc:{start:{line:170,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:170,column:4},end:{line:173,column:5}},{start:{line:170,column:4},end:{line:173,column:5}}],line:170},"7":{loc:{start:{line:175,column:4},end:{line:181,column:5}},type:"if",locations:[{start:{line:175,column:4},end:{line:181,column:5}},{start:{line:175,column:4},end:{line:181,column:5}}],line:175},"8":{loc:{start:{line:198,column:4},end:{line:199,column:36}},type:"if",locations:[{start:{line:198,column:4},end:{line:199,column:36}},{start:{line:198,column:4},end:{line:199,column:36}}],line:198},"9":{loc:{start:{line:250,column:4},end:{line:251,column:33}},type:"if",locations:[{start:{line:250,column:4},end:{line:251,column:33}},{start:{line:250,column:4},end:{line:251,column:33}}],line:250},"10":{loc:{start:{line:254,column:6},end:{line:255,column:20}},type:"if",locations:[{start:{line:254,column:6},end:{line:255,column:20}},{start:{line:254,column:6},end:{line:255,column:20}}],line:254},"11":{loc:{start:{line:280,column:6},end:{line:281,column:17}},type:"if",locations:[{start:{line:280,column:6},end:{line:281,column:17}},{start:{line:280,column:6},end:{line:281,column:17}}],line:280},"12":{loc:{start:{line:302,column:4},end:{line:303,column:18}},type:"if",locations:[{start:{line:302,column:4},end:{line:303,column:18}},{start:{line:302,column:4},end:{line:303,column:18}}],line:302},"13":{loc:{start:{line:305,column:11},end:{line:305,column:54}},type:"cond-expr",locations:[{start:{line:305,column:27},end:{line:305,column:47}},{start:{line:305,column:50},end:{line:305,column:54}}],line:305},"14":{loc:{start:{line:344,column:11},end:{line:346,column:12}},type:"cond-expr",locations:[{start:{line:345,column:8},end:{line:345,column:28}},{start:{line:346,column:8},end:{line:346,column:12}}],line:344},"15":{loc:{start:{line:356,column:4},end:{line:357,column:45}},type:"if",locations:[{start:{line:356,column:4},end:{line:357,column:45}},{start:{line:356,column:4},end:{line:357,column:45}}],line:356},"16":{loc:{start:{line:368,column:4},end:{line:369,column:18}},type:"if",locations:[{start:{line:368,column:4},end:{line:369,column:18}},{start:{line:368,column:4},end:{line:369,column:18}}],line:368},"17":{loc:{start:{line:373,column:4},end:{line:374,column:18}},type:"if",locations:[{start:{line:373,column:4},end:{line:374,column:18}},{start:{line:373,column:4},end:{line:374,column:18}}],line:373},"18":{loc:{start:{line:378,column:4},end:{line:379,column:18}},type:"if",locations:[{start:{line:378,column:4},end:{line:379,column:18}},{start:{line:378,column:4},end:{line:379,column:18}}],line:378},"19":{loc:{start:{line:381,column:4},end:{line:382,column:18}},type:"if",locations:[{start:{line:381,column:4},end:{line:382,column:18}},{start:{line:381,column:4},end:{line:382,column:18}}],line:381},"20":{loc:{start:{line:395,column:4},end:{line:396,column:18}},type:"if",locations:[{start:{line:395,column:4},end:{line:396,column:18}},{start:{line:395,column:4},end:{line:396,column:18}}],line:395},"21":{loc:{start:{line:404,column:6},end:{line:407,column:7}},type:"if",locations:[{start:{line:404,column:6},end:{line:407,column:7}},{start:{line:404,column:6},end:{line:407,column:7}}],line:404},"22":{loc:{start:{line:410,column:4},end:{line:411,column:18}},type:"if",locations:[{start:{line:410,column:4},end:{line:411,column:18}},{start:{line:410,column:4},end:{line:411,column:18}}],line:410},"23":{loc:{start:{line:413,column:11},end:{line:415,column:12}},type:"cond-expr",locations:[{start:{line:414,column:8},end:{line:414,column:28}},{start:{line:415,column:8},end:{line:415,column:12}}],line:413},"24":{loc:{start:{line:437,column:4},end:{line:441,column:5}},type:"if",locations:[{start:{line:437,column:4},end:{line:441,column:5}},{start:{line:437,column:4},end:{line:441,column:5}}],line:437},"25":{loc:{start:{line:437,column:8},end:{line:439,column:56}},type:"binary-expr",locations:[{start:{line:437,column:8},end:{line:437,column:29}},{start:{line:438,column:11},end:{line:438,column:53}},{start:{line:439,column:11},end:{line:439,column:56}}],line:437},"26":{loc:{start:{line:444,column:4},end:{line:445,column:44}},type:"if",locations:[{start:{line:444,column:4},end:{line:445,column:44}},{start:{line:444,column:4},end:{line:445,column:44}}],line:444},"27":{loc:{start:{line:444,column:8},end:{line:444,column:58}},type:"binary-expr",locations:[{start:{line:444,column:8},end:{line:444,column:29}},{start:{line:444,column:33},end:{line:444,column:58}}],line:444},"28":{loc:{start:{line:452,column:4},end:{line:453,column:48}},type:"if",locations:[{start:{line:452,column:4},end:{line:453,column:48}},{start:{line:452,column:4},end:{line:453,column:48}}],line:452},"29":{loc:{start:{line:455,column:4},end:{line:456,column:45}},type:"if",locations:[{start:{line:455,column:4},end:{line:456,column:45}},{start:{line:455,column:4},end:{line:456,column:45}}],line:455},"30":{loc:{start:{line:467,column:6},end:{line:468,column:47}},type:"if",locations:[{start:{line:467,column:6},end:{line:468,column:47}},{start:{line:467,column:6},end:{line:468,column:47}}],line:467},"31":{loc:{start:{line:467,column:10},end:{line:467,column:34}},type:"binary-expr",locations:[{start:{line:467,column:10},end:{line:467,column:15}},{start:{line:467,column:19},end:{line:467,column:34}}],line:467},"32":{loc:{start:{line:473,column:6},end:{line:474,column:38}},type:"if",locations:[{start:{line:473,column:6},end:{line:474,column:38}},{start:{line:473,column:6},end:{line:474,column:38}}],line:473},"33":{loc:{start:{line:478,column:6},end:{line:479,column:46}},type:"if",locations:[{start:{line:478,column:6},end:{line:479,column:46}},{start:{line:478,column:6},end:{line:479,column:46}}],line:478},"34":{loc:{start:{line:491,column:4},end:{line:492,column:16}},type:"if",locations:[{start:{line:491,column:4},end:{line:492,column:16}},{start:{line:491,column:4},end:{line:492,column:16}}],line:491},"35":{loc:{start:{line:494,column:4},end:{line:495,column:16}},type:"if",locations:[{start:{line:494,column:4},end:{line:495,column:16}},{start:{line:494,column:4},end:{line:495,column:16}}],line:494},"36":{loc:{start:{line:499,column:4},end:{line:500,column:16}},type:"if",locations:[{start:{line:499,column:4},end:{line:500,column:16}},{start:{line:499,column:4},end:{line:500,column:16}}],line:499},"37":{loc:{start:{line:557,column:14},end:{line:557,column:42}},type:"cond-expr",locations:[{start:{line:557,column:31},end:{line:557,column:37}},{start:{line:557,column:40},end:{line:557,column:42}}],line:557},"38":{loc:{start:{line:564,column:22},end:{line:566,column:14}},type:"cond-expr",locations:[{start:{line:565,column:10},end:{line:565,column:37}},{start:{line:566,column:10},end:{line:566,column:14}}],line:564},"39":{loc:{start:{line:664,column:4},end:{line:668,column:5}},type:"if",locations:[{start:{line:664,column:4},end:{line:668,column:5}},{start:{line:664,column:4},end:{line:668,column:5}}],line:664},"40":{loc:{start:{line:702,column:4},end:{line:703,column:36}},type:"if",locations:[{start:{line:702,column:4},end:{line:703,column:36}},{start:{line:702,column:4},end:{line:703,column:36}}],line:702},"41":{loc:{start:{line:861,column:8},end:{line:862,column:19}},type:"if",locations:[{start:{line:861,column:8},end:{line:862,column:19}},{start:{line:861,column:8},end:{line:862,column:19}}],line:861},"42":{loc:{start:{line:867,column:8},end:{line:868,column:19}},type:"if",locations:[{start:{line:867,column:8},end:{line:868,column:19}},{start:{line:867,column:8},end:{line:868,column:19}}],line:867},"43":{loc:{start:{line:876,column:8},end:{line:877,column:19}},type:"if",locations:[{start:{line:876,column:8},end:{line:877,column:19}},{start:{line:876,column:8},end:{line:877,column:19}}],line:876}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"437ecf0a02e052fcb042d1af1631236b1e205d04"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_15wu0g9ke1=function(){return actualCoverage;};}return actualCoverage;}cov_15wu0g9ke1();const assert=(cov_15wu0g9ke1().s[0]++,require('bsert'));const bio=(cov_15wu0g9ke1().s[1]++,require('bufio'));const{BufferSet}=(cov_15wu0g9ke1().s[2]++,require('buffer-map'));const hash256=(cov_15wu0g9ke1().s[3]++,require('bcrypto/lib/hash256'));const merkle=(cov_15wu0g9ke1().s[4]++,require('bcrypto/lib/merkle'));const consensus=(cov_15wu0g9ke1().s[5]++,require('../protocol/consensus'));const AbstractBlock=(cov_15wu0g9ke1().s[6]++,require('./abstractblock'));const TX=(cov_15wu0g9ke1().s[7]++,require('./tx'));const MerkleBlock=(cov_15wu0g9ke1().s[8]++,require('./merkleblock'));const Headers=(cov_15wu0g9ke1().s[9]++,require('./headers'));const Network=(cov_15wu0g9ke1().s[10]++,require('../protocol/network'));const util=(cov_15wu0g9ke1().s[11]++,require('../utils/util'));const{encoding}=(cov_15wu0g9ke1().s[12]++,bio);const{inspectSymbol}=(cov_15wu0g9ke1().s[13]++,require('../utils'));const GCSFilter=(cov_15wu0g9ke1().s[14]++,require('../golomb/golomb'));const{opcodes}=(cov_15wu0g9ke1().s[15]++,require('../script/common'));/**
 * Block
 * Represents a full block.
 * @alias module:primitives.Block
 * @extends AbstractBlock
 */class Block extends AbstractBlock{/**
   * Create a block.
   * @constructor
   * @param {Object} options
   */constructor(options){cov_15wu0g9ke1().f[0]++;cov_15wu0g9ke1().s[16]++;super();cov_15wu0g9ke1().s[17]++;this.txs=[];cov_15wu0g9ke1().s[18]++;this._raw=null;cov_15wu0g9ke1().s[19]++;this._size=-1;cov_15wu0g9ke1().s[20]++;this._witness=-1;cov_15wu0g9ke1().s[21]++;if(options){cov_15wu0g9ke1().b[0][0]++;cov_15wu0g9ke1().s[22]++;this.fromOptions(options);}else{cov_15wu0g9ke1().b[0][1]++;}}/**
   * Inject properties from options object.
   * @private
   * @param {Object} options
   */fromOptions(options){cov_15wu0g9ke1().f[1]++;cov_15wu0g9ke1().s[23]++;this.parseOptions(options);cov_15wu0g9ke1().s[24]++;if(options.txs){cov_15wu0g9ke1().b[1][0]++;cov_15wu0g9ke1().s[25]++;assert(Array.isArray(options.txs));cov_15wu0g9ke1().s[26]++;for(const tx of options.txs){cov_15wu0g9ke1().s[27]++;assert(tx instanceof TX);cov_15wu0g9ke1().s[28]++;this.txs.push(tx);}}else{cov_15wu0g9ke1().b[1][1]++;}cov_15wu0g9ke1().s[29]++;return this;}/**
   * Instantiate block from options.
   * @param {Object} options
   * @returns {Block}
   */static fromOptions(options){cov_15wu0g9ke1().f[2]++;cov_15wu0g9ke1().s[30]++;return new this().fromOptions(options);}/**
   * Clear any cached values.
   * @param {Boolean?} all - Clear transactions.
   */refresh(all){cov_15wu0g9ke1().f[3]++;cov_15wu0g9ke1().s[31]++;this._refresh();cov_15wu0g9ke1().s[32]++;this._raw=null;cov_15wu0g9ke1().s[33]++;this._size=-1;cov_15wu0g9ke1().s[34]++;this._witness=-1;cov_15wu0g9ke1().s[35]++;if(!all){cov_15wu0g9ke1().b[2][0]++;cov_15wu0g9ke1().s[36]++;return this;}else{cov_15wu0g9ke1().b[2][1]++;}cov_15wu0g9ke1().s[37]++;for(const tx of this.txs){cov_15wu0g9ke1().s[38]++;tx.refresh();}cov_15wu0g9ke1().s[39]++;return this;}/**
   * Serialize the block. Include witnesses if present.
   * @returns {Buffer}
   */toRaw(){cov_15wu0g9ke1().f[4]++;cov_15wu0g9ke1().s[40]++;return this.frame().data;}/**
   * Check if block has been serialized.
   * @returns {Buffer}
   */hasRaw(){cov_15wu0g9ke1().f[5]++;cov_15wu0g9ke1().s[41]++;return Boolean(this._raw);}/**
   * Serialize the block, do not include witnesses.
   * @returns {Buffer}
   */toNormal(){cov_15wu0g9ke1().f[6]++;cov_15wu0g9ke1().s[42]++;if(this.hasWitness()){cov_15wu0g9ke1().b[3][0]++;cov_15wu0g9ke1().s[43]++;return this.frameNormal().data;}else{cov_15wu0g9ke1().b[3][1]++;}cov_15wu0g9ke1().s[44]++;return this.toRaw();}/**
   * Serialize the block. Include witnesses if present.
   * @param {BufferWriter} bw
   */toWriter(bw){cov_15wu0g9ke1().f[7]++;cov_15wu0g9ke1().s[45]++;if(this.mutable){cov_15wu0g9ke1().b[4][0]++;cov_15wu0g9ke1().s[46]++;return this.writeWitness(bw);}else{cov_15wu0g9ke1().b[4][1]++;}const raw=(cov_15wu0g9ke1().s[47]++,this.frame());cov_15wu0g9ke1().s[48]++;bw.writeBytes(raw.data);cov_15wu0g9ke1().s[49]++;return bw;}/**
   * Serialize the block, do not include witnesses.
   * @param {BufferWriter} bw
   */toNormalWriter(bw){cov_15wu0g9ke1().f[8]++;cov_15wu0g9ke1().s[50]++;if(this.hasWitness()){cov_15wu0g9ke1().b[5][0]++;cov_15wu0g9ke1().s[51]++;this.writeNormal(bw);cov_15wu0g9ke1().s[52]++;return bw;}else{cov_15wu0g9ke1().b[5][1]++;}cov_15wu0g9ke1().s[53]++;return this.toWriter(bw);}/**
   * Get the raw block serialization.
   * Include witnesses if present.
   * @private
   * @returns {RawBlock}
   */frame(){cov_15wu0g9ke1().f[9]++;cov_15wu0g9ke1().s[54]++;if(this.mutable){cov_15wu0g9ke1().b[6][0]++;cov_15wu0g9ke1().s[55]++;assert(!this._raw);cov_15wu0g9ke1().s[56]++;return this.frameWitness();}else{cov_15wu0g9ke1().b[6][1]++;}cov_15wu0g9ke1().s[57]++;if(this._raw){cov_15wu0g9ke1().b[7][0]++;cov_15wu0g9ke1().s[58]++;assert(this._size>=0);cov_15wu0g9ke1().s[59]++;assert(this._witness>=0);const raw=(cov_15wu0g9ke1().s[60]++,new RawBlock(this._size,this._witness));cov_15wu0g9ke1().s[61]++;raw.data=this._raw;cov_15wu0g9ke1().s[62]++;return raw;}else{cov_15wu0g9ke1().b[7][1]++;}const raw=(cov_15wu0g9ke1().s[63]++,this.frameWitness());cov_15wu0g9ke1().s[64]++;this._raw=raw.data;cov_15wu0g9ke1().s[65]++;this._size=raw.size;cov_15wu0g9ke1().s[66]++;this._witness=raw.witness;cov_15wu0g9ke1().s[67]++;return raw;}/**
   * Calculate real size and size of the witness bytes.
   * @returns {Object} Contains `size` and `witness`.
   */getSizes(){cov_15wu0g9ke1().f[10]++;cov_15wu0g9ke1().s[68]++;if(this.mutable){cov_15wu0g9ke1().b[8][0]++;cov_15wu0g9ke1().s[69]++;return this.getWitnessSizes();}else{cov_15wu0g9ke1().b[8][1]++;}cov_15wu0g9ke1().s[70]++;return this.frame();}/**
   * Calculate virtual block size.
   * @returns {Number} Virtual size.
   */getVirtualSize(){cov_15wu0g9ke1().f[11]++;const scale=(cov_15wu0g9ke1().s[71]++,consensus.WITNESS_SCALE_FACTOR);cov_15wu0g9ke1().s[72]++;return(this.getWeight()+scale-1)/scale|0;}/**
   * Calculate block weight.
   * @returns {Number} weight
   */getWeight(){cov_15wu0g9ke1().f[12]++;const raw=(cov_15wu0g9ke1().s[73]++,this.getSizes());const base=(cov_15wu0g9ke1().s[74]++,raw.size-raw.witness);cov_15wu0g9ke1().s[75]++;return base*(consensus.WITNESS_SCALE_FACTOR-1)+raw.size;}/**
   * Get real block size.
   * @returns {Number} size
   */getSize(){cov_15wu0g9ke1().f[13]++;cov_15wu0g9ke1().s[76]++;return this.getSizes().size;}/**
   * Get base block size (without witness).
   * @returns {Number} size
   */getBaseSize(){cov_15wu0g9ke1().f[14]++;const raw=(cov_15wu0g9ke1().s[77]++,this.getSizes());cov_15wu0g9ke1().s[78]++;return raw.size-raw.witness;}/**
   * Test whether the block contains a
   * transaction with a non-empty witness.
   * @returns {Boolean}
   */hasWitness(){cov_15wu0g9ke1().f[15]++;cov_15wu0g9ke1().s[79]++;if(this._witness!==-1){cov_15wu0g9ke1().b[9][0]++;cov_15wu0g9ke1().s[80]++;return this._witness!==0;}else{cov_15wu0g9ke1().b[9][1]++;}cov_15wu0g9ke1().s[81]++;for(const tx of this.txs){cov_15wu0g9ke1().s[82]++;if(tx.hasWitness()){cov_15wu0g9ke1().b[10][0]++;cov_15wu0g9ke1().s[83]++;return true;}else{cov_15wu0g9ke1().b[10][1]++;}}cov_15wu0g9ke1().s[84]++;return false;}/**
   * Test the block's transaction vector against a hash.
   * @param {Hash} hash
   * @returns {Boolean}
   */hasTX(hash){cov_15wu0g9ke1().f[16]++;cov_15wu0g9ke1().s[85]++;return this.indexOf(hash)!==-1;}/**
   * Find the index of a transaction in the block.
   * @param {Hash} hash
   * @returns {Number} index (-1 if not present).
   */indexOf(hash){cov_15wu0g9ke1().f[17]++;cov_15wu0g9ke1().s[86]++;for(let i=(cov_15wu0g9ke1().s[87]++,0);i<this.txs.length;i++){const tx=(cov_15wu0g9ke1().s[88]++,this.txs[i]);cov_15wu0g9ke1().s[89]++;if(tx.hash().equals(hash)){cov_15wu0g9ke1().b[11][0]++;cov_15wu0g9ke1().s[90]++;return i;}else{cov_15wu0g9ke1().b[11][1]++;}}cov_15wu0g9ke1().s[91]++;return-1;}/**
   * Calculate merkle root. Returns null
   * if merkle tree has been malleated.
   * @param {String?} enc - Encoding, can be `'hex'` or null.
   * @returns {Hash|null}
   */createMerkleRoot(enc){cov_15wu0g9ke1().f[18]++;const leaves=(cov_15wu0g9ke1().s[92]++,[]);cov_15wu0g9ke1().s[93]++;for(const tx of this.txs){cov_15wu0g9ke1().s[94]++;leaves.push(tx.hash());}const[root,malleated]=(cov_15wu0g9ke1().s[95]++,merkle.createRoot(hash256,leaves));cov_15wu0g9ke1().s[96]++;if(malleated){cov_15wu0g9ke1().b[12][0]++;cov_15wu0g9ke1().s[97]++;return null;}else{cov_15wu0g9ke1().b[12][1]++;}cov_15wu0g9ke1().s[98]++;return enc==='hex'?(cov_15wu0g9ke1().b[13][0]++,root.toString('hex')):(cov_15wu0g9ke1().b[13][1]++,root);}/**
   * Create a witness nonce (for mining).
   * @returns {Buffer}
   */createWitnessNonce(){cov_15wu0g9ke1().f[19]++;cov_15wu0g9ke1().s[99]++;return Buffer.from(consensus.ZERO_HASH);}/**
   * Calculate commitment hash (the root of the
   * witness merkle tree hashed with the witnessNonce).
   * @param {String?} enc - Encoding, can be `'hex'` or null.
   * @returns {Hash}
   */createCommitmentHash(enc){cov_15wu0g9ke1().f[20]++;const nonce=(cov_15wu0g9ke1().s[100]++,this.getWitnessNonce());const leaves=(cov_15wu0g9ke1().s[101]++,[]);cov_15wu0g9ke1().s[102]++;assert(nonce,'No witness nonce present.');cov_15wu0g9ke1().s[103]++;leaves.push(consensus.ZERO_HASH);cov_15wu0g9ke1().s[104]++;for(let i=(cov_15wu0g9ke1().s[105]++,1);i<this.txs.length;i++){const tx=(cov_15wu0g9ke1().s[106]++,this.txs[i]);cov_15wu0g9ke1().s[107]++;leaves.push(tx.witnessHash());}const[root]=(cov_15wu0g9ke1().s[108]++,merkle.createRoot(hash256,leaves));// Note: malleation check ignored here.
// assert(!malleated);
const hash=(cov_15wu0g9ke1().s[109]++,hash256.root(root,nonce));cov_15wu0g9ke1().s[110]++;return enc==='hex'?(cov_15wu0g9ke1().b[14][0]++,hash.toString('hex')):(cov_15wu0g9ke1().b[14][1]++,hash);}/**
   * Retrieve the merkle root from the block header.
   * @param {String?} enc
   * @returns {Hash}
   */getMerkleRoot(enc){cov_15wu0g9ke1().f[21]++;cov_15wu0g9ke1().s[111]++;if(enc==='hex'){cov_15wu0g9ke1().b[15][0]++;cov_15wu0g9ke1().s[112]++;return this.merkleRoot.toString('hex');}else{cov_15wu0g9ke1().b[15][1]++;}cov_15wu0g9ke1().s[113]++;return this.merkleRoot;}/**
   * Retrieve the witness nonce from the
   * coinbase's witness vector (if present).
   * @returns {Buffer|null}
   */getWitnessNonce(){cov_15wu0g9ke1().f[22]++;cov_15wu0g9ke1().s[114]++;if(this.txs.length===0){cov_15wu0g9ke1().b[16][0]++;cov_15wu0g9ke1().s[115]++;return null;}else{cov_15wu0g9ke1().b[16][1]++;}const coinbase=(cov_15wu0g9ke1().s[116]++,this.txs[0]);cov_15wu0g9ke1().s[117]++;if(coinbase.inputs.length!==1){cov_15wu0g9ke1().b[17][0]++;cov_15wu0g9ke1().s[118]++;return null;}else{cov_15wu0g9ke1().b[17][1]++;}const input=(cov_15wu0g9ke1().s[119]++,coinbase.inputs[0]);cov_15wu0g9ke1().s[120]++;if(input.witness.items.length!==1){cov_15wu0g9ke1().b[18][0]++;cov_15wu0g9ke1().s[121]++;return null;}else{cov_15wu0g9ke1().b[18][1]++;}cov_15wu0g9ke1().s[122]++;if(input.witness.items[0].length!==32){cov_15wu0g9ke1().b[19][0]++;cov_15wu0g9ke1().s[123]++;return null;}else{cov_15wu0g9ke1().b[19][1]++;}cov_15wu0g9ke1().s[124]++;return input.witness.items[0];}/**
   * Retrieve the commitment hash
   * from the coinbase's outputs.
   * @param {String?} enc
   * @returns {Hash|null}
   */getCommitmentHash(enc){cov_15wu0g9ke1().f[23]++;cov_15wu0g9ke1().s[125]++;if(this.txs.length===0){cov_15wu0g9ke1().b[20][0]++;cov_15wu0g9ke1().s[126]++;return null;}else{cov_15wu0g9ke1().b[20][1]++;}const coinbase=(cov_15wu0g9ke1().s[127]++,this.txs[0]);let hash=(cov_15wu0g9ke1().s[128]++,null);cov_15wu0g9ke1().s[129]++;for(let i=(cov_15wu0g9ke1().s[130]++,coinbase.outputs.length-1);i>=0;i--){const output=(cov_15wu0g9ke1().s[131]++,coinbase.outputs[i]);cov_15wu0g9ke1().s[132]++;if(output.script.isCommitment()){cov_15wu0g9ke1().b[21][0]++;cov_15wu0g9ke1().s[133]++;hash=output.script.getCommitment();cov_15wu0g9ke1().s[134]++;break;}else{cov_15wu0g9ke1().b[21][1]++;}}cov_15wu0g9ke1().s[135]++;if(!hash){cov_15wu0g9ke1().b[22][0]++;cov_15wu0g9ke1().s[136]++;return null;}else{cov_15wu0g9ke1().b[22][1]++;}cov_15wu0g9ke1().s[137]++;return enc==='hex'?(cov_15wu0g9ke1().b[23][0]++,hash.toString('hex')):(cov_15wu0g9ke1().b[23][1]++,hash);}/**
   * Do non-contextual verification on the block. Including checking the block
   * size, the coinbase and the merkle root. This is consensus-critical.
   * @returns {Boolean}
   */verifyBody(){cov_15wu0g9ke1().f[24]++;const[valid]=(cov_15wu0g9ke1().s[138]++,this.checkBody());cov_15wu0g9ke1().s[139]++;return valid;}/**
   * Do non-contextual verification on the block. Including checking the block
   * size, the coinbase and the merkle root. This is consensus-critical.
   * @returns {Array} [valid, reason, score]
   */checkBody(){cov_15wu0g9ke1().f[25]++;cov_15wu0g9ke1().s[140]++;// Check base size.
if((cov_15wu0g9ke1().b[25][0]++,this.txs.length===0)||(cov_15wu0g9ke1().b[25][1]++,this.txs.length>consensus.MAX_BLOCK_SIZE)||(cov_15wu0g9ke1().b[25][2]++,this.getBaseSize()>consensus.MAX_BLOCK_SIZE)){cov_15wu0g9ke1().b[24][0]++;cov_15wu0g9ke1().s[141]++;return[false,'bad-blk-length',100];}else{cov_15wu0g9ke1().b[24][1]++;}// First TX must be a coinbase.
cov_15wu0g9ke1().s[142]++;if((cov_15wu0g9ke1().b[27][0]++,this.txs.length===0)||(cov_15wu0g9ke1().b[27][1]++,!this.txs[0].isCoinbase())){cov_15wu0g9ke1().b[26][0]++;cov_15wu0g9ke1().s[143]++;return[false,'bad-cb-missing',100];}else{cov_15wu0g9ke1().b[26][1]++;}// Check merkle root.
const root=(cov_15wu0g9ke1().s[144]++,this.createMerkleRoot());// If the merkle is mutated,
// we have duplicate txs.
cov_15wu0g9ke1().s[145]++;if(!root){cov_15wu0g9ke1().b[28][0]++;cov_15wu0g9ke1().s[146]++;return[false,'bad-txns-duplicate',100];}else{cov_15wu0g9ke1().b[28][1]++;}cov_15wu0g9ke1().s[147]++;if(!this.merkleRoot.equals(root)){cov_15wu0g9ke1().b[29][0]++;cov_15wu0g9ke1().s[148]++;return[false,'bad-txnmrklroot',100];}else{cov_15wu0g9ke1().b[29][1]++;}// Test all transactions.
const scale=(cov_15wu0g9ke1().s[149]++,consensus.WITNESS_SCALE_FACTOR);let sigops=(cov_15wu0g9ke1().s[150]++,0);cov_15wu0g9ke1().s[151]++;for(let i=(cov_15wu0g9ke1().s[152]++,0);i<this.txs.length;i++){const tx=(cov_15wu0g9ke1().s[153]++,this.txs[i]);// The rest of the txs must not be coinbases.
cov_15wu0g9ke1().s[154]++;if((cov_15wu0g9ke1().b[31][0]++,i>0)&&(cov_15wu0g9ke1().b[31][1]++,tx.isCoinbase())){cov_15wu0g9ke1().b[30][0]++;cov_15wu0g9ke1().s[155]++;return[false,'bad-cb-multiple',100];}else{cov_15wu0g9ke1().b[30][1]++;}// Sanity checks.
const[valid,reason,score]=(cov_15wu0g9ke1().s[156]++,tx.checkSanity());cov_15wu0g9ke1().s[157]++;if(!valid){cov_15wu0g9ke1().b[32][0]++;cov_15wu0g9ke1().s[158]++;return[valid,reason,score];}else{cov_15wu0g9ke1().b[32][1]++;}// Count legacy sigops (do not count scripthash or witness).
cov_15wu0g9ke1().s[159]++;sigops+=tx.getLegacySigops();cov_15wu0g9ke1().s[160]++;if(sigops*scale>consensus.MAX_BLOCK_SIGOPS_COST){cov_15wu0g9ke1().b[33][0]++;cov_15wu0g9ke1().s[161]++;return[false,'bad-blk-sigops',100];}else{cov_15wu0g9ke1().b[33][1]++;}}cov_15wu0g9ke1().s[162]++;return[true,'valid',0];}/**
   * Retrieve the coinbase height from the coinbase input script.
   * @returns {Number} height (-1 if not present).
   */getCoinbaseHeight(){cov_15wu0g9ke1().f[26]++;cov_15wu0g9ke1().s[163]++;if(this.version<2){cov_15wu0g9ke1().b[34][0]++;cov_15wu0g9ke1().s[164]++;return-1;}else{cov_15wu0g9ke1().b[34][1]++;}cov_15wu0g9ke1().s[165]++;if(this.txs.length===0){cov_15wu0g9ke1().b[35][0]++;cov_15wu0g9ke1().s[166]++;return-1;}else{cov_15wu0g9ke1().b[35][1]++;}const coinbase=(cov_15wu0g9ke1().s[167]++,this.txs[0]);cov_15wu0g9ke1().s[168]++;if(coinbase.inputs.length===0){cov_15wu0g9ke1().b[36][0]++;cov_15wu0g9ke1().s[169]++;return-1;}else{cov_15wu0g9ke1().b[36][1]++;}cov_15wu0g9ke1().s[170]++;return coinbase.inputs[0].script.getCoinbaseHeight();}/**
   * Get the "claimed" reward by the coinbase.
   * @returns {Amount} claimed
   */getClaimed(){cov_15wu0g9ke1().f[27]++;cov_15wu0g9ke1().s[171]++;assert(this.txs.length>0);cov_15wu0g9ke1().s[172]++;assert(this.txs[0].isCoinbase());cov_15wu0g9ke1().s[173]++;return this.txs[0].getOutputValue();}/**
   * Get all unique outpoint hashes in the
   * block. Coinbases are ignored.
   * @returns {Hash[]} Outpoint hashes.
   */getPrevout(){cov_15wu0g9ke1().f[28]++;const prevout=(cov_15wu0g9ke1().s[174]++,new BufferSet());cov_15wu0g9ke1().s[175]++;for(let i=(cov_15wu0g9ke1().s[176]++,1);i<this.txs.length;i++){const tx=(cov_15wu0g9ke1().s[177]++,this.txs[i]);cov_15wu0g9ke1().s[178]++;for(const input of tx.inputs){cov_15wu0g9ke1().s[179]++;prevout.add(input.prevout.hash);}}cov_15wu0g9ke1().s[180]++;return prevout.toArray();}/**
   * Inspect the block and return a more
   * user-friendly representation of the data.
   * @returns {Object}
   */[inspectSymbol](){cov_15wu0g9ke1().f[29]++;cov_15wu0g9ke1().s[181]++;return this.format();}/**
   * Inspect the block and return a more
   * user-friendly representation of the data.
   * @param {CoinView} view
   * @param {Number} height
   * @returns {Object}
   */format(view,height){cov_15wu0g9ke1().f[30]++;const commitmentHash=(cov_15wu0g9ke1().s[182]++,this.getCommitmentHash());cov_15wu0g9ke1().s[183]++;return{hash:this.rhash(),height:height!=null?(cov_15wu0g9ke1().b[37][0]++,height):(cov_15wu0g9ke1().b[37][1]++,-1),size:this.getSize(),virtualSize:this.getVirtualSize(),date:util.date(this.time),version:this.version.toString(16),prevBlock:util.revHex(this.prevBlock),merkleRoot:util.revHex(this.merkleRoot),commitmentHash:commitmentHash?(cov_15wu0g9ke1().b[38][0]++,util.revHex(commitmentHash)):(cov_15wu0g9ke1().b[38][1]++,null),time:this.time,bits:this.bits,nonce:this.nonce,txs:this.txs.map((tx,i)=>{cov_15wu0g9ke1().f[31]++;cov_15wu0g9ke1().s[184]++;return tx.format(view,null,i);})};}/**
   * Convert the block to an object suitable
   * for JSON serialization.
   * @returns {Object}
   */toJSON(){cov_15wu0g9ke1().f[32]++;cov_15wu0g9ke1().s[185]++;return this.getJSON();}/**
   * Convert the block to an object suitable
   * for JSON serialization. Note that the hashes
   * will be reversed to abide by bitcoind's legacy
   * of little-endian uint256s.
   * @param {Network} network
   * @param {CoinView} view
   * @param {Number} height
   * @param {Number} depth
   * @returns {Object}
   */getJSON(network,view,height,depth){cov_15wu0g9ke1().f[33]++;cov_15wu0g9ke1().s[186]++;network=Network.get(network);cov_15wu0g9ke1().s[187]++;return{hash:this.rhash(),height:height,depth:depth,version:this.version,prevBlock:util.revHex(this.prevBlock),merkleRoot:util.revHex(this.merkleRoot),time:this.time,bits:this.bits,nonce:this.nonce,txs:this.txs.map((tx,i)=>{cov_15wu0g9ke1().f[34]++;cov_15wu0g9ke1().s[188]++;return tx.getJSON(network,view,null,i);})};}/**
   * Inject properties from json object.
   * @private
   * @param {Object} json
   */fromJSON(json){cov_15wu0g9ke1().f[35]++;cov_15wu0g9ke1().s[189]++;assert(json,'Block data is required.');cov_15wu0g9ke1().s[190]++;assert(Array.isArray(json.txs));cov_15wu0g9ke1().s[191]++;this.parseJSON(json);cov_15wu0g9ke1().s[192]++;for(const tx of json.txs){cov_15wu0g9ke1().s[193]++;this.txs.push(TX.fromJSON(tx));}cov_15wu0g9ke1().s[194]++;return this;}/**
   * Instantiate a block from a jsonified block object.
   * @param {Object} json - The jsonified block object.
   * @returns {Block}
   */static fromJSON(json){cov_15wu0g9ke1().f[36]++;cov_15wu0g9ke1().s[195]++;return new this().fromJSON(json);}/**
   * Inject properties from serialized data.
   * @private
   * @param {Buffer} data
   */fromReader(br){cov_15wu0g9ke1().f[37]++;cov_15wu0g9ke1().s[196]++;br.start();cov_15wu0g9ke1().s[197]++;this.readHead(br);const count=(cov_15wu0g9ke1().s[198]++,br.readVarint());let witness=(cov_15wu0g9ke1().s[199]++,0);cov_15wu0g9ke1().s[200]++;for(let i=(cov_15wu0g9ke1().s[201]++,0);i<count;i++){const tx=(cov_15wu0g9ke1().s[202]++,TX.fromReader(br,true));cov_15wu0g9ke1().s[203]++;witness+=tx._witness;cov_15wu0g9ke1().s[204]++;this.txs.push(tx);}cov_15wu0g9ke1().s[205]++;if(!this.mutable){cov_15wu0g9ke1().b[39][0]++;cov_15wu0g9ke1().s[206]++;this._raw=br.endData();cov_15wu0g9ke1().s[207]++;this._size=this._raw.length;cov_15wu0g9ke1().s[208]++;this._witness=witness;}else{cov_15wu0g9ke1().b[39][1]++;}cov_15wu0g9ke1().s[209]++;return this;}/**
   * Inject properties from serialized data.
   * @private
   * @param {Buffer} data
   */fromRaw(data){cov_15wu0g9ke1().f[38]++;cov_15wu0g9ke1().s[210]++;return this.fromReader(bio.read(data));}/**
   * Instantiate a block from a serialized Buffer.
   * @param {Buffer} data
   * @param {String?} enc - Encoding, can be `'hex'` or null.
   * @returns {Block}
   */static fromReader(data){cov_15wu0g9ke1().f[39]++;cov_15wu0g9ke1().s[211]++;return new this().fromReader(data);}/**
   * Instantiate a block from a serialized Buffer.
   * @param {Buffer} data
   * @param {String?} enc - Encoding, can be `'hex'` or null.
   * @returns {Block}
   */static fromRaw(data,enc){cov_15wu0g9ke1().f[40]++;cov_15wu0g9ke1().s[212]++;if(typeof data==='string'){cov_15wu0g9ke1().b[40][0]++;cov_15wu0g9ke1().s[213]++;data=Buffer.from(data,enc);}else{cov_15wu0g9ke1().b[40][1]++;}cov_15wu0g9ke1().s[214]++;return new this().fromRaw(data);}/**
   * Convert the Block to a MerkleBlock.
   * @param {Bloom} filter - Bloom filter for transactions
   * to match. The merkle block will contain only the
   * matched transactions.
   * @returns {MerkleBlock}
   */toMerkle(filter){cov_15wu0g9ke1().f[41]++;cov_15wu0g9ke1().s[215]++;return MerkleBlock.fromBlock(this,filter);}/**
   * Serialze block with or without witness data.
   * @private
   * @param {Boolean} witness
   * @param {BufferWriter?} writer
   * @returns {Buffer}
   */writeNormal(bw){cov_15wu0g9ke1().f[42]++;cov_15wu0g9ke1().s[216]++;this.writeHead(bw);cov_15wu0g9ke1().s[217]++;bw.writeVarint(this.txs.length);cov_15wu0g9ke1().s[218]++;for(const tx of this.txs){cov_15wu0g9ke1().s[219]++;tx.toNormalWriter(bw);}cov_15wu0g9ke1().s[220]++;return bw;}/**
   * Serialze block with or without witness data.
   * @private
   * @param {Boolean} witness
   * @param {BufferWriter?} writer
   * @returns {Buffer}
   */writeWitness(bw){cov_15wu0g9ke1().f[43]++;cov_15wu0g9ke1().s[221]++;this.writeHead(bw);cov_15wu0g9ke1().s[222]++;bw.writeVarint(this.txs.length);cov_15wu0g9ke1().s[223]++;for(const tx of this.txs){cov_15wu0g9ke1().s[224]++;tx.toWriter(bw,true);}cov_15wu0g9ke1().s[225]++;return bw;}/**
   * Serialze block with or without witness data.
   * @private
   * @param {Boolean} witness
   * @param {BufferWriter?} writer
   * @returns {Buffer}
   */frameNormal(){cov_15wu0g9ke1().f[44]++;const raw=(cov_15wu0g9ke1().s[226]++,this.getNormalSizes());const bw=(cov_15wu0g9ke1().s[227]++,bio.write(raw.size));cov_15wu0g9ke1().s[228]++;this.writeNormal(bw);cov_15wu0g9ke1().s[229]++;raw.data=bw.render();cov_15wu0g9ke1().s[230]++;return raw;}/**
   * Serialze block without witness data.
   * @private
   * @param {BufferWriter?} writer
   * @returns {Buffer}
   */frameWitness(){cov_15wu0g9ke1().f[45]++;const raw=(cov_15wu0g9ke1().s[231]++,this.getWitnessSizes());const bw=(cov_15wu0g9ke1().s[232]++,bio.write(raw.size));cov_15wu0g9ke1().s[233]++;this.writeWitness(bw);cov_15wu0g9ke1().s[234]++;raw.data=bw.render();cov_15wu0g9ke1().s[235]++;return raw;}/**
   * Convert the block to a headers object.
   * @returns {Headers}
   */toHeaders(){cov_15wu0g9ke1().f[46]++;cov_15wu0g9ke1().s[236]++;return Headers.fromBlock(this);}/**
   * Get real block size without witness.
   * @returns {RawBlock}
   */getNormalSizes(){cov_15wu0g9ke1().f[47]++;let size=(cov_15wu0g9ke1().s[237]++,0);cov_15wu0g9ke1().s[238]++;size+=80;cov_15wu0g9ke1().s[239]++;size+=encoding.sizeVarint(this.txs.length);cov_15wu0g9ke1().s[240]++;for(const tx of this.txs){cov_15wu0g9ke1().s[241]++;size+=tx.getBaseSize();}cov_15wu0g9ke1().s[242]++;return new RawBlock(size,0);}/**
   * Get real block size with witness.
   * @returns {RawBlock}
   */getWitnessSizes(){cov_15wu0g9ke1().f[48]++;let size=(cov_15wu0g9ke1().s[243]++,0);let witness=(cov_15wu0g9ke1().s[244]++,0);cov_15wu0g9ke1().s[245]++;size+=80;cov_15wu0g9ke1().s[246]++;size+=encoding.sizeVarint(this.txs.length);cov_15wu0g9ke1().s[247]++;for(const tx of this.txs){const raw=(cov_15wu0g9ke1().s[248]++,tx.getSizes());cov_15wu0g9ke1().s[249]++;size+=raw.size;cov_15wu0g9ke1().s[250]++;witness+=raw.witness;}cov_15wu0g9ke1().s[251]++;return new RawBlock(size,witness);}/**
   * Test whether an object is a Block.
   * @param {Object} obj
   * @returns {Boolean}
   */static isBlock(obj){cov_15wu0g9ke1().f[49]++;cov_15wu0g9ke1().s[252]++;return obj instanceof Block;}/*
   * Get block filter (BIP 158)
   * @see https://github.com/bitcoin/bips/blob/master/bip-0158.mediawiki
   * @param {CoinView} view
   * @returns {Object} See {@link Golomb}
   */toFilter(view){cov_15wu0g9ke1().f[50]++;const hash=(cov_15wu0g9ke1().s[253]++,this.hash());const key=(cov_15wu0g9ke1().s[254]++,hash.slice(0,16));const items=(cov_15wu0g9ke1().s[255]++,new BufferSet());cov_15wu0g9ke1().s[256]++;for(let i=(cov_15wu0g9ke1().s[257]++,0);i<this.txs.length;i++){const tx=(cov_15wu0g9ke1().s[258]++,this.txs[i]);cov_15wu0g9ke1().s[259]++;for(const output of tx.outputs){cov_15wu0g9ke1().s[260]++;if(output.script.length===0){cov_15wu0g9ke1().b[41][0]++;cov_15wu0g9ke1().s[261]++;continue;}else{cov_15wu0g9ke1().b[41][1]++;}// In order to allow the filters to later be committed
// to within an OP_RETURN output, we ignore all
// OP_RETURNs to avoid a circular dependency.
cov_15wu0g9ke1().s[262]++;if(output.script.raw[0]===opcodes.OP_RETURN){cov_15wu0g9ke1().b[42][0]++;cov_15wu0g9ke1().s[263]++;continue;}else{cov_15wu0g9ke1().b[42][1]++;}cov_15wu0g9ke1().s[264]++;items.add(output.script.raw);}}cov_15wu0g9ke1().s[265]++;for(const[,coins]of view.map){cov_15wu0g9ke1().s[266]++;for(const[,coin]of coins.outputs){cov_15wu0g9ke1().s[267]++;if(coin.output.script.length===0){cov_15wu0g9ke1().b[43][0]++;cov_15wu0g9ke1().s[268]++;continue;}else{cov_15wu0g9ke1().b[43][1]++;}cov_15wu0g9ke1().s[269]++;items.add(coin.output.script.raw);}}cov_15wu0g9ke1().s[270]++;return GCSFilter.fromItems(19,key,items);}}/*
 * Helpers
 */class RawBlock{constructor(size,witness){cov_15wu0g9ke1().f[51]++;cov_15wu0g9ke1().s[271]++;this.data=null;cov_15wu0g9ke1().s[272]++;this.size=size;cov_15wu0g9ke1().s[273]++;this.witness=witness;}}/*
 * Expose
 */cov_15wu0g9ke1().s[274]++;module.exports=Block;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2NrLmpzIl0sIm5hbWVzIjpbImFzc2VydCIsInJlcXVpcmUiLCJiaW8iLCJCdWZmZXJTZXQiLCJoYXNoMjU2IiwibWVya2xlIiwiY29uc2Vuc3VzIiwiQWJzdHJhY3RCbG9jayIsIlRYIiwiTWVya2xlQmxvY2siLCJIZWFkZXJzIiwiTmV0d29yayIsInV0aWwiLCJlbmNvZGluZyIsImluc3BlY3RTeW1ib2wiLCJHQ1NGaWx0ZXIiLCJvcGNvZGVzIiwiQmxvY2siLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0eHMiLCJfcmF3IiwiX3NpemUiLCJfd2l0bmVzcyIsImZyb21PcHRpb25zIiwicGFyc2VPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwidHgiLCJwdXNoIiwicmVmcmVzaCIsImFsbCIsIl9yZWZyZXNoIiwidG9SYXciLCJmcmFtZSIsImRhdGEiLCJoYXNSYXciLCJCb29sZWFuIiwidG9Ob3JtYWwiLCJoYXNXaXRuZXNzIiwiZnJhbWVOb3JtYWwiLCJ0b1dyaXRlciIsImJ3IiwibXV0YWJsZSIsIndyaXRlV2l0bmVzcyIsInJhdyIsIndyaXRlQnl0ZXMiLCJ0b05vcm1hbFdyaXRlciIsIndyaXRlTm9ybWFsIiwiZnJhbWVXaXRuZXNzIiwiUmF3QmxvY2siLCJzaXplIiwid2l0bmVzcyIsImdldFNpemVzIiwiZ2V0V2l0bmVzc1NpemVzIiwiZ2V0VmlydHVhbFNpemUiLCJzY2FsZSIsIldJVE5FU1NfU0NBTEVfRkFDVE9SIiwiZ2V0V2VpZ2h0IiwiYmFzZSIsImdldFNpemUiLCJnZXRCYXNlU2l6ZSIsImhhc1RYIiwiaGFzaCIsImluZGV4T2YiLCJpIiwibGVuZ3RoIiwiZXF1YWxzIiwiY3JlYXRlTWVya2xlUm9vdCIsImVuYyIsImxlYXZlcyIsInJvb3QiLCJtYWxsZWF0ZWQiLCJjcmVhdGVSb290IiwidG9TdHJpbmciLCJjcmVhdGVXaXRuZXNzTm9uY2UiLCJCdWZmZXIiLCJmcm9tIiwiWkVST19IQVNIIiwiY3JlYXRlQ29tbWl0bWVudEhhc2giLCJub25jZSIsImdldFdpdG5lc3NOb25jZSIsIndpdG5lc3NIYXNoIiwiZ2V0TWVya2xlUm9vdCIsIm1lcmtsZVJvb3QiLCJjb2luYmFzZSIsImlucHV0cyIsImlucHV0IiwiaXRlbXMiLCJnZXRDb21taXRtZW50SGFzaCIsIm91dHB1dHMiLCJvdXRwdXQiLCJzY3JpcHQiLCJpc0NvbW1pdG1lbnQiLCJnZXRDb21taXRtZW50IiwidmVyaWZ5Qm9keSIsInZhbGlkIiwiY2hlY2tCb2R5IiwiTUFYX0JMT0NLX1NJWkUiLCJpc0NvaW5iYXNlIiwic2lnb3BzIiwicmVhc29uIiwic2NvcmUiLCJjaGVja1Nhbml0eSIsImdldExlZ2FjeVNpZ29wcyIsIk1BWF9CTE9DS19TSUdPUFNfQ09TVCIsImdldENvaW5iYXNlSGVpZ2h0IiwidmVyc2lvbiIsImdldENsYWltZWQiLCJnZXRPdXRwdXRWYWx1ZSIsImdldFByZXZvdXQiLCJwcmV2b3V0IiwiYWRkIiwidG9BcnJheSIsImZvcm1hdCIsInZpZXciLCJoZWlnaHQiLCJjb21taXRtZW50SGFzaCIsInJoYXNoIiwidmlydHVhbFNpemUiLCJkYXRlIiwidGltZSIsInByZXZCbG9jayIsInJldkhleCIsImJpdHMiLCJtYXAiLCJ0b0pTT04iLCJnZXRKU09OIiwibmV0d29yayIsImRlcHRoIiwiZ2V0IiwiZnJvbUpTT04iLCJqc29uIiwicGFyc2VKU09OIiwiZnJvbVJlYWRlciIsImJyIiwic3RhcnQiLCJyZWFkSGVhZCIsImNvdW50IiwicmVhZFZhcmludCIsImVuZERhdGEiLCJmcm9tUmF3IiwicmVhZCIsInRvTWVya2xlIiwiZmlsdGVyIiwiZnJvbUJsb2NrIiwid3JpdGVIZWFkIiwid3JpdGVWYXJpbnQiLCJnZXROb3JtYWxTaXplcyIsIndyaXRlIiwicmVuZGVyIiwidG9IZWFkZXJzIiwic2l6ZVZhcmludCIsImlzQmxvY2siLCJvYmoiLCJ0b0ZpbHRlciIsImtleSIsInNsaWNlIiwiT1BfUkVUVVJOIiwiY29pbnMiLCJjb2luIiwiZnJvbUl0ZW1zIiwi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QUtqQixJQUFMLENBQVksSUFBWixDQUR5QiwwQkFFekIsS0FBS2dCLElBQUwsQ0FBWUEsSUFBWixDQUZ5QiwwQkFHekIsS0FBS0MsT0FBTCxDQUFlQSxPQUFmLENBQ0QsQ0FMWSxDQVFmO0FBQ0E7QUFDQSxHLDBCQUVBOEcsTUFBTSxDQUFDQyxPQUFQLENBQWlCbEosS0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogYmxvY2suanMgLSBibG9jayBvYmplY3QgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGZWRvciBJbmR1dG55IChNSVQgTGljZW5zZSlcclxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Jjb2luLW9yZy9iY29pblxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2JzZXJ0Jyk7XHJcbmNvbnN0IGJpbyA9IHJlcXVpcmUoJ2J1ZmlvJyk7XHJcbmNvbnN0IHtCdWZmZXJTZXR9ID0gcmVxdWlyZSgnYnVmZmVyLW1hcCcpO1xyXG5jb25zdCBoYXNoMjU2ID0gcmVxdWlyZSgnYmNyeXB0by9saWIvaGFzaDI1NicpO1xyXG5jb25zdCBtZXJrbGUgPSByZXF1aXJlKCdiY3J5cHRvL2xpYi9tZXJrbGUnKTtcclxuY29uc3QgY29uc2Vuc3VzID0gcmVxdWlyZSgnLi4vcHJvdG9jb2wvY29uc2Vuc3VzJyk7XHJcbmNvbnN0IEFic3RyYWN0QmxvY2sgPSByZXF1aXJlKCcuL2Fic3RyYWN0YmxvY2snKTtcclxuY29uc3QgVFggPSByZXF1aXJlKCcuL3R4Jyk7XHJcbmNvbnN0IE1lcmtsZUJsb2NrID0gcmVxdWlyZSgnLi9tZXJrbGVibG9jaycpO1xyXG5jb25zdCBIZWFkZXJzID0gcmVxdWlyZSgnLi9oZWFkZXJzJyk7XHJcbmNvbnN0IE5ldHdvcmsgPSByZXF1aXJlKCcuLi9wcm90b2NvbC9uZXR3b3JrJyk7XHJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi91dGlscy91dGlsJyk7XHJcbmNvbnN0IHtlbmNvZGluZ30gPSBiaW87XHJcbmNvbnN0IHtpbnNwZWN0U3ltYm9sfSA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XHJcbmNvbnN0IEdDU0ZpbHRlciA9IHJlcXVpcmUoJy4uL2dvbG9tYi9nb2xvbWInKTtcclxuY29uc3Qge29wY29kZXN9ID0gcmVxdWlyZSgnLi4vc2NyaXB0L2NvbW1vbicpO1xyXG5cclxuLyoqXHJcbiAqIEJsb2NrXHJcbiAqIFJlcHJlc2VudHMgYSBmdWxsIGJsb2NrLlxyXG4gKiBAYWxpYXMgbW9kdWxlOnByaW1pdGl2ZXMuQmxvY2tcclxuICogQGV4dGVuZHMgQWJzdHJhY3RCbG9ja1xyXG4gKi9cclxuXHJcbmNsYXNzIEJsb2NrIGV4dGVuZHMgQWJzdHJhY3RCbG9jayB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgYmxvY2suXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLnR4cyA9IFtdO1xyXG5cclxuICAgIHRoaXMuX3JhdyA9IG51bGw7XHJcbiAgICB0aGlzLl9zaXplID0gLTE7XHJcbiAgICB0aGlzLl93aXRuZXNzID0gLTE7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMpXHJcbiAgICAgIHRoaXMuZnJvbU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmplY3QgcHJvcGVydGllcyBmcm9tIG9wdGlvbnMgb2JqZWN0LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuXHJcbiAgZnJvbU9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgdGhpcy5wYXJzZU9wdGlvbnMob3B0aW9ucyk7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMudHhzKSB7XHJcbiAgICAgIGFzc2VydChBcnJheS5pc0FycmF5KG9wdGlvbnMudHhzKSk7XHJcbiAgICAgIGZvciAoY29uc3QgdHggb2Ygb3B0aW9ucy50eHMpIHtcclxuICAgICAgICBhc3NlcnQodHggaW5zdGFuY2VvZiBUWCk7XHJcbiAgICAgICAgdGhpcy50eHMucHVzaCh0eCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIGJsb2NrIGZyb20gb3B0aW9ucy5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm5zIHtCbG9ja31cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21PcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21PcHRpb25zKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYW55IGNhY2hlZCB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtCb29sZWFuP30gYWxsIC0gQ2xlYXIgdHJhbnNhY3Rpb25zLlxyXG4gICAqL1xyXG5cclxuICByZWZyZXNoKGFsbCkge1xyXG4gICAgdGhpcy5fcmVmcmVzaCgpO1xyXG5cclxuICAgIHRoaXMuX3JhdyA9IG51bGw7XHJcbiAgICB0aGlzLl9zaXplID0gLTE7XHJcbiAgICB0aGlzLl93aXRuZXNzID0gLTE7XHJcblxyXG4gICAgaWYgKCFhbGwpXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIGZvciAoY29uc3QgdHggb2YgdGhpcy50eHMpXHJcbiAgICAgIHR4LnJlZnJlc2goKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZSB0aGUgYmxvY2suIEluY2x1ZGUgd2l0bmVzc2VzIGlmIHByZXNlbnQuXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgdG9SYXcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mcmFtZSgpLmRhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBibG9jayBoYXMgYmVlbiBzZXJpYWxpemVkLlxyXG4gICAqIEByZXR1cm5zIHtCdWZmZXJ9XHJcbiAgICovXHJcblxyXG4gIGhhc1JhdygpIHtcclxuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX3Jhdyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemUgdGhlIGJsb2NrLCBkbyBub3QgaW5jbHVkZSB3aXRuZXNzZXMuXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgdG9Ob3JtYWwoKSB7XHJcbiAgICBpZiAodGhpcy5oYXNXaXRuZXNzKCkpXHJcbiAgICAgIHJldHVybiB0aGlzLmZyYW1lTm9ybWFsKCkuZGF0YTtcclxuICAgIHJldHVybiB0aGlzLnRvUmF3KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemUgdGhlIGJsb2NrLiBJbmNsdWRlIHdpdG5lc3NlcyBpZiBwcmVzZW50LlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyV3JpdGVyfSBid1xyXG4gICAqL1xyXG5cclxuICB0b1dyaXRlcihidykge1xyXG4gICAgaWYgKHRoaXMubXV0YWJsZSlcclxuICAgICAgcmV0dXJuIHRoaXMud3JpdGVXaXRuZXNzKGJ3KTtcclxuXHJcbiAgICBjb25zdCByYXcgPSB0aGlzLmZyYW1lKCk7XHJcbiAgICBidy53cml0ZUJ5dGVzKHJhdy5kYXRhKTtcclxuXHJcbiAgICByZXR1cm4gYnc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemUgdGhlIGJsb2NrLCBkbyBub3QgaW5jbHVkZSB3aXRuZXNzZXMuXHJcbiAgICogQHBhcmFtIHtCdWZmZXJXcml0ZXJ9IGJ3XHJcbiAgICovXHJcblxyXG4gIHRvTm9ybWFsV3JpdGVyKGJ3KSB7XHJcbiAgICBpZiAodGhpcy5oYXNXaXRuZXNzKCkpIHtcclxuICAgICAgdGhpcy53cml0ZU5vcm1hbChidyk7XHJcbiAgICAgIHJldHVybiBidztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnRvV3JpdGVyKGJ3KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcmF3IGJsb2NrIHNlcmlhbGl6YXRpb24uXHJcbiAgICogSW5jbHVkZSB3aXRuZXNzZXMgaWYgcHJlc2VudC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEByZXR1cm5zIHtSYXdCbG9ja31cclxuICAgKi9cclxuXHJcbiAgZnJhbWUoKSB7XHJcbiAgICBpZiAodGhpcy5tdXRhYmxlKSB7XHJcbiAgICAgIGFzc2VydCghdGhpcy5fcmF3KTtcclxuICAgICAgcmV0dXJuIHRoaXMuZnJhbWVXaXRuZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX3Jhdykge1xyXG4gICAgICBhc3NlcnQodGhpcy5fc2l6ZSA+PSAwKTtcclxuICAgICAgYXNzZXJ0KHRoaXMuX3dpdG5lc3MgPj0gMCk7XHJcbiAgICAgIGNvbnN0IHJhdyA9IG5ldyBSYXdCbG9jayh0aGlzLl9zaXplLCB0aGlzLl93aXRuZXNzKTtcclxuICAgICAgcmF3LmRhdGEgPSB0aGlzLl9yYXc7XHJcbiAgICAgIHJldHVybiByYXc7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmF3ID0gdGhpcy5mcmFtZVdpdG5lc3MoKTtcclxuXHJcbiAgICB0aGlzLl9yYXcgPSByYXcuZGF0YTtcclxuICAgIHRoaXMuX3NpemUgPSByYXcuc2l6ZTtcclxuICAgIHRoaXMuX3dpdG5lc3MgPSByYXcud2l0bmVzcztcclxuXHJcbiAgICByZXR1cm4gcmF3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIHJlYWwgc2l6ZSBhbmQgc2l6ZSBvZiB0aGUgd2l0bmVzcyBieXRlcy5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDb250YWlucyBgc2l6ZWAgYW5kIGB3aXRuZXNzYC5cclxuICAgKi9cclxuXHJcbiAgZ2V0U2l6ZXMoKSB7XHJcbiAgICBpZiAodGhpcy5tdXRhYmxlKVxyXG4gICAgICByZXR1cm4gdGhpcy5nZXRXaXRuZXNzU2l6ZXMoKTtcclxuICAgIHJldHVybiB0aGlzLmZyYW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgdmlydHVhbCBibG9jayBzaXplLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFZpcnR1YWwgc2l6ZS5cclxuICAgKi9cclxuXHJcbiAgZ2V0VmlydHVhbFNpemUoKSB7XHJcbiAgICBjb25zdCBzY2FsZSA9IGNvbnNlbnN1cy5XSVRORVNTX1NDQUxFX0ZBQ1RPUjtcclxuICAgIHJldHVybiAodGhpcy5nZXRXZWlnaHQoKSArIHNjYWxlIC0gMSkgLyBzY2FsZSB8IDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgYmxvY2sgd2VpZ2h0LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IHdlaWdodFxyXG4gICAqL1xyXG5cclxuICBnZXRXZWlnaHQoKSB7XHJcbiAgICBjb25zdCByYXcgPSB0aGlzLmdldFNpemVzKCk7XHJcbiAgICBjb25zdCBiYXNlID0gcmF3LnNpemUgLSByYXcud2l0bmVzcztcclxuICAgIHJldHVybiBiYXNlICogKGNvbnNlbnN1cy5XSVRORVNTX1NDQUxFX0ZBQ1RPUiAtIDEpICsgcmF3LnNpemU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgcmVhbCBibG9jayBzaXplLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IHNpemVcclxuICAgKi9cclxuXHJcbiAgZ2V0U2l6ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNpemVzKCkuc2l6ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBiYXNlIGJsb2NrIHNpemUgKHdpdGhvdXQgd2l0bmVzcykuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gc2l6ZVxyXG4gICAqL1xyXG5cclxuICBnZXRCYXNlU2l6ZSgpIHtcclxuICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0U2l6ZXMoKTtcclxuICAgIHJldHVybiByYXcuc2l6ZSAtIHJhdy53aXRuZXNzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB3aGV0aGVyIHRoZSBibG9jayBjb250YWlucyBhXHJcbiAgICogdHJhbnNhY3Rpb24gd2l0aCBhIG5vbi1lbXB0eSB3aXRuZXNzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBoYXNXaXRuZXNzKCkge1xyXG4gICAgaWYgKHRoaXMuX3dpdG5lc3MgIT09IC0xKVxyXG4gICAgICByZXR1cm4gdGhpcy5fd2l0bmVzcyAhPT0gMDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHR4IG9mIHRoaXMudHhzKSB7XHJcbiAgICAgIGlmICh0eC5oYXNXaXRuZXNzKCkpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB0aGUgYmxvY2sncyB0cmFuc2FjdGlvbiB2ZWN0b3IgYWdhaW5zdCBhIGhhc2guXHJcbiAgICogQHBhcmFtIHtIYXNofSBoYXNoXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIGhhc1RYKGhhc2gpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4T2YoaGFzaCkgIT09IC0xO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZCB0aGUgaW5kZXggb2YgYSB0cmFuc2FjdGlvbiBpbiB0aGUgYmxvY2suXHJcbiAgICogQHBhcmFtIHtIYXNofSBoYXNoXHJcbiAgICogQHJldHVybnMge051bWJlcn0gaW5kZXggKC0xIGlmIG5vdCBwcmVzZW50KS5cclxuICAgKi9cclxuXHJcbiAgaW5kZXhPZihoYXNoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHR4ID0gdGhpcy50eHNbaV07XHJcbiAgICAgIGlmICh0eC5oYXNoKCkuZXF1YWxzKGhhc2gpKVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAtMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZSBtZXJrbGUgcm9vdC4gUmV0dXJucyBudWxsXHJcbiAgICogaWYgbWVya2xlIHRyZWUgaGFzIGJlZW4gbWFsbGVhdGVkLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nP30gZW5jIC0gRW5jb2RpbmcsIGNhbiBiZSBgJ2hleCdgIG9yIG51bGwuXHJcbiAgICogQHJldHVybnMge0hhc2h8bnVsbH1cclxuICAgKi9cclxuXHJcbiAgY3JlYXRlTWVya2xlUm9vdChlbmMpIHtcclxuICAgIGNvbnN0IGxlYXZlcyA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgdHggb2YgdGhpcy50eHMpXHJcbiAgICAgIGxlYXZlcy5wdXNoKHR4Lmhhc2goKSk7XHJcblxyXG4gICAgY29uc3QgW3Jvb3QsIG1hbGxlYXRlZF0gPSBtZXJrbGUuY3JlYXRlUm9vdChoYXNoMjU2LCBsZWF2ZXMpO1xyXG5cclxuICAgIGlmIChtYWxsZWF0ZWQpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBlbmMgPT09ICdoZXgnID8gcm9vdC50b1N0cmluZygnaGV4JykgOiByb290O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgd2l0bmVzcyBub25jZSAoZm9yIG1pbmluZykuXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgY3JlYXRlV2l0bmVzc05vbmNlKCkge1xyXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNvbnNlbnN1cy5aRVJPX0hBU0gpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIGNvbW1pdG1lbnQgaGFzaCAodGhlIHJvb3Qgb2YgdGhlXHJcbiAgICogd2l0bmVzcyBtZXJrbGUgdHJlZSBoYXNoZWQgd2l0aCB0aGUgd2l0bmVzc05vbmNlKS5cclxuICAgKiBAcGFyYW0ge1N0cmluZz99IGVuYyAtIEVuY29kaW5nLCBjYW4gYmUgYCdoZXgnYCBvciBudWxsLlxyXG4gICAqIEByZXR1cm5zIHtIYXNofVxyXG4gICAqL1xyXG5cclxuICBjcmVhdGVDb21taXRtZW50SGFzaChlbmMpIHtcclxuICAgIGNvbnN0IG5vbmNlID0gdGhpcy5nZXRXaXRuZXNzTm9uY2UoKTtcclxuICAgIGNvbnN0IGxlYXZlcyA9IFtdO1xyXG5cclxuICAgIGFzc2VydChub25jZSwgJ05vIHdpdG5lc3Mgbm9uY2UgcHJlc2VudC4nKTtcclxuXHJcbiAgICBsZWF2ZXMucHVzaChjb25zZW5zdXMuWkVST19IQVNIKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMudHhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHR4ID0gdGhpcy50eHNbaV07XHJcbiAgICAgIGxlYXZlcy5wdXNoKHR4LndpdG5lc3NIYXNoKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IFtyb290XSA9IG1lcmtsZS5jcmVhdGVSb290KGhhc2gyNTYsIGxlYXZlcyk7XHJcblxyXG4gICAgLy8gTm90ZTogbWFsbGVhdGlvbiBjaGVjayBpZ25vcmVkIGhlcmUuXHJcbiAgICAvLyBhc3NlcnQoIW1hbGxlYXRlZCk7XHJcblxyXG4gICAgY29uc3QgaGFzaCA9IGhhc2gyNTYucm9vdChyb290LCBub25jZSk7XHJcblxyXG4gICAgcmV0dXJuIGVuYyA9PT0gJ2hleCdcclxuICAgICAgPyBoYXNoLnRvU3RyaW5nKCdoZXgnKVxyXG4gICAgICA6IGhhc2g7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZSB0aGUgbWVya2xlIHJvb3QgZnJvbSB0aGUgYmxvY2sgaGVhZGVyLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nP30gZW5jXHJcbiAgICogQHJldHVybnMge0hhc2h9XHJcbiAgICovXHJcblxyXG4gIGdldE1lcmtsZVJvb3QoZW5jKSB7XHJcbiAgICBpZiAoZW5jID09PSAnaGV4JylcclxuICAgICAgcmV0dXJuIHRoaXMubWVya2xlUm9vdC50b1N0cmluZygnaGV4Jyk7XHJcbiAgICByZXR1cm4gdGhpcy5tZXJrbGVSb290O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmUgdGhlIHdpdG5lc3Mgbm9uY2UgZnJvbSB0aGVcclxuICAgKiBjb2luYmFzZSdzIHdpdG5lc3MgdmVjdG9yIChpZiBwcmVzZW50KS5cclxuICAgKiBAcmV0dXJucyB7QnVmZmVyfG51bGx9XHJcbiAgICovXHJcblxyXG4gIGdldFdpdG5lc3NOb25jZSgpIHtcclxuICAgIGlmICh0aGlzLnR4cy5sZW5ndGggPT09IDApXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGNvaW5iYXNlID0gdGhpcy50eHNbMF07XHJcblxyXG4gICAgaWYgKGNvaW5iYXNlLmlucHV0cy5sZW5ndGggIT09IDEpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGlucHV0ID0gY29pbmJhc2UuaW5wdXRzWzBdO1xyXG5cclxuICAgIGlmIChpbnB1dC53aXRuZXNzLml0ZW1zLmxlbmd0aCAhPT0gMSlcclxuICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgaWYgKGlucHV0LndpdG5lc3MuaXRlbXNbMF0ubGVuZ3RoICE9PSAzMilcclxuICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIGlucHV0LndpdG5lc3MuaXRlbXNbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZSB0aGUgY29tbWl0bWVudCBoYXNoXHJcbiAgICogZnJvbSB0aGUgY29pbmJhc2UncyBvdXRwdXRzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nP30gZW5jXHJcbiAgICogQHJldHVybnMge0hhc2h8bnVsbH1cclxuICAgKi9cclxuXHJcbiAgZ2V0Q29tbWl0bWVudEhhc2goZW5jKSB7XHJcbiAgICBpZiAodGhpcy50eHMubGVuZ3RoID09PSAwKVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCBjb2luYmFzZSA9IHRoaXMudHhzWzBdO1xyXG5cclxuICAgIGxldCBoYXNoID0gbnVsbDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gY29pbmJhc2Uub3V0cHV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSBjb2luYmFzZS5vdXRwdXRzW2ldO1xyXG4gICAgICBpZiAob3V0cHV0LnNjcmlwdC5pc0NvbW1pdG1lbnQoKSkge1xyXG4gICAgICAgIGhhc2ggPSBvdXRwdXQuc2NyaXB0LmdldENvbW1pdG1lbnQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghaGFzaClcclxuICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIGVuYyA9PT0gJ2hleCdcclxuICAgICAgPyBoYXNoLnRvU3RyaW5nKCdoZXgnKVxyXG4gICAgICA6IGhhc2g7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEbyBub24tY29udGV4dHVhbCB2ZXJpZmljYXRpb24gb24gdGhlIGJsb2NrLiBJbmNsdWRpbmcgY2hlY2tpbmcgdGhlIGJsb2NrXHJcbiAgICogc2l6ZSwgdGhlIGNvaW5iYXNlIGFuZCB0aGUgbWVya2xlIHJvb3QuIFRoaXMgaXMgY29uc2Vuc3VzLWNyaXRpY2FsLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICB2ZXJpZnlCb2R5KCkge1xyXG4gICAgY29uc3QgW3ZhbGlkXSA9IHRoaXMuY2hlY2tCb2R5KCk7XHJcbiAgICByZXR1cm4gdmFsaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEbyBub24tY29udGV4dHVhbCB2ZXJpZmljYXRpb24gb24gdGhlIGJsb2NrLiBJbmNsdWRpbmcgY2hlY2tpbmcgdGhlIGJsb2NrXHJcbiAgICogc2l6ZSwgdGhlIGNvaW5iYXNlIGFuZCB0aGUgbWVya2xlIHJvb3QuIFRoaXMgaXMgY29uc2Vuc3VzLWNyaXRpY2FsLlxyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gW3ZhbGlkLCByZWFzb24sIHNjb3JlXVxyXG4gICAqL1xyXG5cclxuICBjaGVja0JvZHkoKSB7XHJcbiAgICAvLyBDaGVjayBiYXNlIHNpemUuXHJcbiAgICBpZiAodGhpcy50eHMubGVuZ3RoID09PSAwXHJcbiAgICAgICAgfHwgdGhpcy50eHMubGVuZ3RoID4gY29uc2Vuc3VzLk1BWF9CTE9DS19TSVpFXHJcbiAgICAgICAgfHwgdGhpcy5nZXRCYXNlU2l6ZSgpID4gY29uc2Vuc3VzLk1BWF9CTE9DS19TSVpFKSB7XHJcbiAgICAgIHJldHVybiBbZmFsc2UsICdiYWQtYmxrLWxlbmd0aCcsIDEwMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmlyc3QgVFggbXVzdCBiZSBhIGNvaW5iYXNlLlxyXG4gICAgaWYgKHRoaXMudHhzLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy50eHNbMF0uaXNDb2luYmFzZSgpKVxyXG4gICAgICByZXR1cm4gW2ZhbHNlLCAnYmFkLWNiLW1pc3NpbmcnLCAxMDBdO1xyXG5cclxuICAgIC8vIENoZWNrIG1lcmtsZSByb290LlxyXG4gICAgY29uc3Qgcm9vdCA9IHRoaXMuY3JlYXRlTWVya2xlUm9vdCgpO1xyXG5cclxuICAgIC8vIElmIHRoZSBtZXJrbGUgaXMgbXV0YXRlZCxcclxuICAgIC8vIHdlIGhhdmUgZHVwbGljYXRlIHR4cy5cclxuICAgIGlmICghcm9vdClcclxuICAgICAgcmV0dXJuIFtmYWxzZSwgJ2JhZC10eG5zLWR1cGxpY2F0ZScsIDEwMF07XHJcblxyXG4gICAgaWYgKCF0aGlzLm1lcmtsZVJvb3QuZXF1YWxzKHJvb3QpKVxyXG4gICAgICByZXR1cm4gW2ZhbHNlLCAnYmFkLXR4bm1ya2xyb290JywgMTAwXTtcclxuXHJcbiAgICAvLyBUZXN0IGFsbCB0cmFuc2FjdGlvbnMuXHJcbiAgICBjb25zdCBzY2FsZSA9IGNvbnNlbnN1cy5XSVRORVNTX1NDQUxFX0ZBQ1RPUjtcclxuXHJcbiAgICBsZXQgc2lnb3BzID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHR4ID0gdGhpcy50eHNbaV07XHJcblxyXG4gICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgdHhzIG11c3Qgbm90IGJlIGNvaW5iYXNlcy5cclxuICAgICAgaWYgKGkgPiAwICYmIHR4LmlzQ29pbmJhc2UoKSlcclxuICAgICAgICByZXR1cm4gW2ZhbHNlLCAnYmFkLWNiLW11bHRpcGxlJywgMTAwXTtcclxuXHJcbiAgICAgIC8vIFNhbml0eSBjaGVja3MuXHJcbiAgICAgIGNvbnN0IFt2YWxpZCwgcmVhc29uLCBzY29yZV0gPSB0eC5jaGVja1Nhbml0eSgpO1xyXG5cclxuICAgICAgaWYgKCF2YWxpZClcclxuICAgICAgICByZXR1cm4gW3ZhbGlkLCByZWFzb24sIHNjb3JlXTtcclxuXHJcbiAgICAgIC8vIENvdW50IGxlZ2FjeSBzaWdvcHMgKGRvIG5vdCBjb3VudCBzY3JpcHRoYXNoIG9yIHdpdG5lc3MpLlxyXG4gICAgICBzaWdvcHMgKz0gdHguZ2V0TGVnYWN5U2lnb3BzKCk7XHJcbiAgICAgIGlmIChzaWdvcHMgKiBzY2FsZSA+IGNvbnNlbnN1cy5NQVhfQkxPQ0tfU0lHT1BTX0NPU1QpXHJcbiAgICAgICAgcmV0dXJuIFtmYWxzZSwgJ2JhZC1ibGstc2lnb3BzJywgMTAwXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW3RydWUsICd2YWxpZCcsIDBdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmUgdGhlIGNvaW5iYXNlIGhlaWdodCBmcm9tIHRoZSBjb2luYmFzZSBpbnB1dCBzY3JpcHQuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gaGVpZ2h0ICgtMSBpZiBub3QgcHJlc2VudCkuXHJcbiAgICovXHJcblxyXG4gIGdldENvaW5iYXNlSGVpZ2h0KCkge1xyXG4gICAgaWYgKHRoaXMudmVyc2lvbiA8IDIpXHJcbiAgICAgIHJldHVybiAtMTtcclxuXHJcbiAgICBpZiAodGhpcy50eHMubGVuZ3RoID09PSAwKVxyXG4gICAgICByZXR1cm4gLTE7XHJcblxyXG4gICAgY29uc3QgY29pbmJhc2UgPSB0aGlzLnR4c1swXTtcclxuXHJcbiAgICBpZiAoY29pbmJhc2UuaW5wdXRzLmxlbmd0aCA9PT0gMClcclxuICAgICAgcmV0dXJuIC0xO1xyXG5cclxuICAgIHJldHVybiBjb2luYmFzZS5pbnB1dHNbMF0uc2NyaXB0LmdldENvaW5iYXNlSGVpZ2h0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIFwiY2xhaW1lZFwiIHJld2FyZCBieSB0aGUgY29pbmJhc2UuXHJcbiAgICogQHJldHVybnMge0Ftb3VudH0gY2xhaW1lZFxyXG4gICAqL1xyXG5cclxuICBnZXRDbGFpbWVkKCkge1xyXG4gICAgYXNzZXJ0KHRoaXMudHhzLmxlbmd0aCA+IDApO1xyXG4gICAgYXNzZXJ0KHRoaXMudHhzWzBdLmlzQ29pbmJhc2UoKSk7XHJcbiAgICByZXR1cm4gdGhpcy50eHNbMF0uZ2V0T3V0cHV0VmFsdWUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgdW5pcXVlIG91dHBvaW50IGhhc2hlcyBpbiB0aGVcclxuICAgKiBibG9jay4gQ29pbmJhc2VzIGFyZSBpZ25vcmVkLlxyXG4gICAqIEByZXR1cm5zIHtIYXNoW119IE91dHBvaW50IGhhc2hlcy5cclxuICAgKi9cclxuXHJcbiAgZ2V0UHJldm91dCgpIHtcclxuICAgIGNvbnN0IHByZXZvdXQgPSBuZXcgQnVmZmVyU2V0KCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnR4cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCB0eCA9IHRoaXMudHhzW2ldO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiB0eC5pbnB1dHMpXHJcbiAgICAgICAgcHJldm91dC5hZGQoaW5wdXQucHJldm91dC5oYXNoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcHJldm91dC50b0FycmF5KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnNwZWN0IHRoZSBibG9jayBhbmQgcmV0dXJuIGEgbW9yZVxyXG4gICAqIHVzZXItZnJpZW5kbHkgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGEuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuXHJcbiAgW2luc3BlY3RTeW1ib2xdKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnNwZWN0IHRoZSBibG9jayBhbmQgcmV0dXJuIGEgbW9yZVxyXG4gICAqIHVzZXItZnJpZW5kbHkgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGEuXHJcbiAgICogQHBhcmFtIHtDb2luVmlld30gdmlld1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG5cclxuICBmb3JtYXQodmlldywgaGVpZ2h0KSB7XHJcbiAgICBjb25zdCBjb21taXRtZW50SGFzaCA9IHRoaXMuZ2V0Q29tbWl0bWVudEhhc2goKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhhc2g6IHRoaXMucmhhc2goKSxcclxuICAgICAgaGVpZ2h0OiBoZWlnaHQgIT0gbnVsbCA/IGhlaWdodCA6IC0xLFxyXG4gICAgICBzaXplOiB0aGlzLmdldFNpemUoKSxcclxuICAgICAgdmlydHVhbFNpemU6IHRoaXMuZ2V0VmlydHVhbFNpemUoKSxcclxuICAgICAgZGF0ZTogdXRpbC5kYXRlKHRoaXMudGltZSksXHJcbiAgICAgIHZlcnNpb246IHRoaXMudmVyc2lvbi50b1N0cmluZygxNiksXHJcbiAgICAgIHByZXZCbG9jazogdXRpbC5yZXZIZXgodGhpcy5wcmV2QmxvY2spLFxyXG4gICAgICBtZXJrbGVSb290OiB1dGlsLnJldkhleCh0aGlzLm1lcmtsZVJvb3QpLFxyXG4gICAgICBjb21taXRtZW50SGFzaDogY29tbWl0bWVudEhhc2hcclxuICAgICAgICA/IHV0aWwucmV2SGV4KGNvbW1pdG1lbnRIYXNoKVxyXG4gICAgICAgIDogbnVsbCxcclxuICAgICAgdGltZTogdGhpcy50aW1lLFxyXG4gICAgICBiaXRzOiB0aGlzLmJpdHMsXHJcbiAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxyXG4gICAgICB0eHM6IHRoaXMudHhzLm1hcCgodHgsIGkpID0+IHtcclxuICAgICAgICByZXR1cm4gdHguZm9ybWF0KHZpZXcsIG51bGwsIGkpO1xyXG4gICAgICB9KVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGhlIGJsb2NrIHRvIGFuIG9iamVjdCBzdWl0YWJsZVxyXG4gICAqIGZvciBKU09OIHNlcmlhbGl6YXRpb24uXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0SlNPTigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCB0aGUgYmxvY2sgdG8gYW4gb2JqZWN0IHN1aXRhYmxlXHJcbiAgICogZm9yIEpTT04gc2VyaWFsaXphdGlvbi4gTm90ZSB0aGF0IHRoZSBoYXNoZXNcclxuICAgKiB3aWxsIGJlIHJldmVyc2VkIHRvIGFiaWRlIGJ5IGJpdGNvaW5kJ3MgbGVnYWN5XHJcbiAgICogb2YgbGl0dGxlLWVuZGlhbiB1aW50MjU2cy5cclxuICAgKiBAcGFyYW0ge05ldHdvcmt9IG5ldHdvcmtcclxuICAgKiBAcGFyYW0ge0NvaW5WaWV3fSB2aWV3XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZXB0aFxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcblxyXG4gIGdldEpTT04obmV0d29yaywgdmlldywgaGVpZ2h0LCBkZXB0aCkge1xyXG4gICAgbmV0d29yayA9IE5ldHdvcmsuZ2V0KG5ldHdvcmspO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGFzaDogdGhpcy5yaGFzaCgpLFxyXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgZGVwdGg6IGRlcHRoLFxyXG4gICAgICB2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXHJcbiAgICAgIHByZXZCbG9jazogdXRpbC5yZXZIZXgodGhpcy5wcmV2QmxvY2spLFxyXG4gICAgICBtZXJrbGVSb290OiB1dGlsLnJldkhleCh0aGlzLm1lcmtsZVJvb3QpLFxyXG4gICAgICB0aW1lOiB0aGlzLnRpbWUsXHJcbiAgICAgIGJpdHM6IHRoaXMuYml0cyxcclxuICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXHJcbiAgICAgIHR4czogdGhpcy50eHMubWFwKCh0eCwgaSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0eC5nZXRKU09OKG5ldHdvcmssIHZpZXcsIG51bGwsIGkpO1xyXG4gICAgICB9KVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluamVjdCBwcm9wZXJ0aWVzIGZyb20ganNvbiBvYmplY3QuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvblxyXG4gICAqL1xyXG5cclxuICBmcm9tSlNPTihqc29uKSB7XHJcbiAgICBhc3NlcnQoanNvbiwgJ0Jsb2NrIGRhdGEgaXMgcmVxdWlyZWQuJyk7XHJcbiAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShqc29uLnR4cykpO1xyXG5cclxuICAgIHRoaXMucGFyc2VKU09OKGpzb24pO1xyXG5cclxuICAgIGZvciAoY29uc3QgdHggb2YganNvbi50eHMpXHJcbiAgICAgIHRoaXMudHhzLnB1c2goVFguZnJvbUpTT04odHgpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIGEgYmxvY2sgZnJvbSBhIGpzb25pZmllZCBibG9jayBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gLSBUaGUganNvbmlmaWVkIGJsb2NrIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7QmxvY2t9XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tSlNPTihqc29uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluamVjdCBwcm9wZXJ0aWVzIGZyb20gc2VyaWFsaXplZCBkYXRhLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGFcclxuICAgKi9cclxuXHJcbiAgZnJvbVJlYWRlcihicikge1xyXG4gICAgYnIuc3RhcnQoKTtcclxuXHJcbiAgICB0aGlzLnJlYWRIZWFkKGJyKTtcclxuXHJcbiAgICBjb25zdCBjb3VudCA9IGJyLnJlYWRWYXJpbnQoKTtcclxuICAgIGxldCB3aXRuZXNzID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgY29uc3QgdHggPSBUWC5mcm9tUmVhZGVyKGJyLCB0cnVlKTtcclxuICAgICAgd2l0bmVzcyArPSB0eC5fd2l0bmVzcztcclxuICAgICAgdGhpcy50eHMucHVzaCh0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLm11dGFibGUpIHtcclxuICAgICAgdGhpcy5fcmF3ID0gYnIuZW5kRGF0YSgpO1xyXG4gICAgICB0aGlzLl9zaXplID0gdGhpcy5fcmF3Lmxlbmd0aDtcclxuICAgICAgdGhpcy5fd2l0bmVzcyA9IHdpdG5lc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmplY3QgcHJvcGVydGllcyBmcm9tIHNlcmlhbGl6ZWQgZGF0YS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICovXHJcblxyXG4gIGZyb21SYXcoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJvbVJlYWRlcihiaW8ucmVhZChkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnN0YW50aWF0ZSBhIGJsb2NrIGZyb20gYSBzZXJpYWxpemVkIEJ1ZmZlci5cclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nP30gZW5jIC0gRW5jb2RpbmcsIGNhbiBiZSBgJ2hleCdgIG9yIG51bGwuXHJcbiAgICogQHJldHVybnMge0Jsb2NrfVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbVJlYWRlcihkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tUmVhZGVyKGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYSBibG9jayBmcm9tIGEgc2VyaWFsaXplZCBCdWZmZXIuXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGFcclxuICAgKiBAcGFyYW0ge1N0cmluZz99IGVuYyAtIEVuY29kaW5nLCBjYW4gYmUgYCdoZXgnYCBvciBudWxsLlxyXG4gICAqIEByZXR1cm5zIHtCbG9ja31cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21SYXcoZGF0YSwgZW5jKSB7XHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKVxyXG4gICAgICBkYXRhID0gQnVmZmVyLmZyb20oZGF0YSwgZW5jKTtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21SYXcoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IHRoZSBCbG9jayB0byBhIE1lcmtsZUJsb2NrLlxyXG4gICAqIEBwYXJhbSB7Qmxvb219IGZpbHRlciAtIEJsb29tIGZpbHRlciBmb3IgdHJhbnNhY3Rpb25zXHJcbiAgICogdG8gbWF0Y2guIFRoZSBtZXJrbGUgYmxvY2sgd2lsbCBjb250YWluIG9ubHkgdGhlXHJcbiAgICogbWF0Y2hlZCB0cmFuc2FjdGlvbnMuXHJcbiAgICogQHJldHVybnMge01lcmtsZUJsb2NrfVxyXG4gICAqL1xyXG5cclxuICB0b01lcmtsZShmaWx0ZXIpIHtcclxuICAgIHJldHVybiBNZXJrbGVCbG9jay5mcm9tQmxvY2sodGhpcywgZmlsdGVyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlcmlhbHplIGJsb2NrIHdpdGggb3Igd2l0aG91dCB3aXRuZXNzIGRhdGEuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHdpdG5lc3NcclxuICAgKiBAcGFyYW0ge0J1ZmZlcldyaXRlcj99IHdyaXRlclxyXG4gICAqIEByZXR1cm5zIHtCdWZmZXJ9XHJcbiAgICovXHJcblxyXG4gIHdyaXRlTm9ybWFsKGJ3KSB7XHJcbiAgICB0aGlzLndyaXRlSGVhZChidyk7XHJcblxyXG4gICAgYncud3JpdGVWYXJpbnQodGhpcy50eHMubGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHR4IG9mIHRoaXMudHhzKVxyXG4gICAgICB0eC50b05vcm1hbFdyaXRlcihidyk7XHJcblxyXG4gICAgcmV0dXJuIGJ3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VyaWFsemUgYmxvY2sgd2l0aCBvciB3aXRob3V0IHdpdG5lc3MgZGF0YS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gd2l0bmVzc1xyXG4gICAqIEBwYXJhbSB7QnVmZmVyV3JpdGVyP30gd3JpdGVyXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgd3JpdGVXaXRuZXNzKGJ3KSB7XHJcbiAgICB0aGlzLndyaXRlSGVhZChidyk7XHJcblxyXG4gICAgYncud3JpdGVWYXJpbnQodGhpcy50eHMubGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHR4IG9mIHRoaXMudHhzKVxyXG4gICAgICB0eC50b1dyaXRlcihidywgdHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGJ3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VyaWFsemUgYmxvY2sgd2l0aCBvciB3aXRob3V0IHdpdG5lc3MgZGF0YS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gd2l0bmVzc1xyXG4gICAqIEBwYXJhbSB7QnVmZmVyV3JpdGVyP30gd3JpdGVyXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgZnJhbWVOb3JtYWwoKSB7XHJcbiAgICBjb25zdCByYXcgPSB0aGlzLmdldE5vcm1hbFNpemVzKCk7XHJcbiAgICBjb25zdCBidyA9IGJpby53cml0ZShyYXcuc2l6ZSk7XHJcbiAgICB0aGlzLndyaXRlTm9ybWFsKGJ3KTtcclxuICAgIHJhdy5kYXRhID0gYncucmVuZGVyKCk7XHJcbiAgICByZXR1cm4gcmF3O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VyaWFsemUgYmxvY2sgd2l0aG91dCB3aXRuZXNzIGRhdGEuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge0J1ZmZlcldyaXRlcj99IHdyaXRlclxyXG4gICAqIEByZXR1cm5zIHtCdWZmZXJ9XHJcbiAgICovXHJcblxyXG4gIGZyYW1lV2l0bmVzcygpIHtcclxuICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0V2l0bmVzc1NpemVzKCk7XHJcbiAgICBjb25zdCBidyA9IGJpby53cml0ZShyYXcuc2l6ZSk7XHJcbiAgICB0aGlzLndyaXRlV2l0bmVzcyhidyk7XHJcbiAgICByYXcuZGF0YSA9IGJ3LnJlbmRlcigpO1xyXG4gICAgcmV0dXJuIHJhdztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGhlIGJsb2NrIHRvIGEgaGVhZGVycyBvYmplY3QuXHJcbiAgICogQHJldHVybnMge0hlYWRlcnN9XHJcbiAgICovXHJcblxyXG4gIHRvSGVhZGVycygpIHtcclxuICAgIHJldHVybiBIZWFkZXJzLmZyb21CbG9jayh0aGlzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCByZWFsIGJsb2NrIHNpemUgd2l0aG91dCB3aXRuZXNzLlxyXG4gICAqIEByZXR1cm5zIHtSYXdCbG9ja31cclxuICAgKi9cclxuXHJcbiAgZ2V0Tm9ybWFsU2l6ZXMoKSB7XHJcbiAgICBsZXQgc2l6ZSA9IDA7XHJcblxyXG4gICAgc2l6ZSArPSA4MDtcclxuICAgIHNpemUgKz0gZW5jb2Rpbmcuc2l6ZVZhcmludCh0aGlzLnR4cy5sZW5ndGgpO1xyXG5cclxuICAgIGZvciAoY29uc3QgdHggb2YgdGhpcy50eHMpXHJcbiAgICAgIHNpemUgKz0gdHguZ2V0QmFzZVNpemUoKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFJhd0Jsb2NrKHNpemUsIDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHJlYWwgYmxvY2sgc2l6ZSB3aXRoIHdpdG5lc3MuXHJcbiAgICogQHJldHVybnMge1Jhd0Jsb2NrfVxyXG4gICAqL1xyXG5cclxuICBnZXRXaXRuZXNzU2l6ZXMoKSB7XHJcbiAgICBsZXQgc2l6ZSA9IDA7XHJcbiAgICBsZXQgd2l0bmVzcyA9IDA7XHJcblxyXG4gICAgc2l6ZSArPSA4MDtcclxuICAgIHNpemUgKz0gZW5jb2Rpbmcuc2l6ZVZhcmludCh0aGlzLnR4cy5sZW5ndGgpO1xyXG5cclxuICAgIGZvciAoY29uc3QgdHggb2YgdGhpcy50eHMpIHtcclxuICAgICAgY29uc3QgcmF3ID0gdHguZ2V0U2l6ZXMoKTtcclxuICAgICAgc2l6ZSArPSByYXcuc2l6ZTtcclxuICAgICAgd2l0bmVzcyArPSByYXcud2l0bmVzcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFJhd0Jsb2NrKHNpemUsIHdpdG5lc3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIEJsb2NrLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGlzQmxvY2sob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgQmxvY2s7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIEdldCBibG9jayBmaWx0ZXIgKEJJUCAxNTgpXHJcbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi9iaXBzL2Jsb2IvbWFzdGVyL2JpcC0wMTU4Lm1lZGlhd2lraVxyXG4gICAqIEBwYXJhbSB7Q29pblZpZXd9IHZpZXdcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBTZWUge0BsaW5rIEdvbG9tYn1cclxuICAgKi9cclxuXHJcbiAgdG9GaWx0ZXIodmlldykge1xyXG4gICAgY29uc3QgaGFzaCA9IHRoaXMuaGFzaCgpO1xyXG4gICAgY29uc3Qga2V5ID0gaGFzaC5zbGljZSgwLCAxNik7XHJcbiAgICBjb25zdCBpdGVtcyA9IG5ldyBCdWZmZXJTZXQoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHhzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHR4ID0gdGhpcy50eHNbaV07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiB0eC5vdXRwdXRzKSB7XHJcbiAgICAgICAgaWYgKG91dHB1dC5zY3JpcHQubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGFsbG93IHRoZSBmaWx0ZXJzIHRvIGxhdGVyIGJlIGNvbW1pdHRlZFxyXG4gICAgICAgIC8vIHRvIHdpdGhpbiBhbiBPUF9SRVRVUk4gb3V0cHV0LCB3ZSBpZ25vcmUgYWxsXHJcbiAgICAgICAgLy8gT1BfUkVUVVJOcyB0byBhdm9pZCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kuXHJcbiAgICAgICAgaWYgKG91dHB1dC5zY3JpcHQucmF3WzBdID09PSBvcGNvZGVzLk9QX1JFVFVSTilcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBpdGVtcy5hZGQob3V0cHV0LnNjcmlwdC5yYXcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChjb25zdCBbLCBjb2luc10gb2Ygdmlldy5tYXApIHtcclxuICAgICAgZm9yIChjb25zdCBbLCBjb2luXSBvZiBjb2lucy5vdXRwdXRzKSB7XHJcbiAgICAgICAgaWYgKGNvaW4ub3V0cHV0LnNjcmlwdC5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgaXRlbXMuYWRkKGNvaW4ub3V0cHV0LnNjcmlwdC5yYXcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEdDU0ZpbHRlci5mcm9tSXRlbXMoMTksIGtleSwgaXRlbXMpO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICogSGVscGVyc1xyXG4gKi9cclxuXHJcbmNsYXNzIFJhd0Jsb2NrIHtcclxuICBjb25zdHJ1Y3RvcihzaXplLCB3aXRuZXNzKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgIHRoaXMud2l0bmVzcyA9IHdpdG5lc3M7XHJcbiAgfVxyXG59XHJcblxyXG4vKlxyXG4gKiBFeHBvc2VcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJsb2NrO1xyXG4iXX0=