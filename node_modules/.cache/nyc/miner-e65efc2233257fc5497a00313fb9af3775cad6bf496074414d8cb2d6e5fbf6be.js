/*!
 * miner.js - block generator for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_auul6mcoh(){var path="E:\\Projects\\Test\\bcoin\\lib\\mining\\miner.js";var hash="ffaece778babacaeb89aa5e789103c0f70d5c307";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\mining\\miner.js",statementMap:{"0":{start:{line:10,column:15},end:{line:10,column:31}},"1":{start:{line:11,column:21},end:{line:11,column:38}},"2":{start:{line:12,column:13},end:{line:12,column:29}},"3":{start:{line:13,column:20},end:{line:13,column:41}},"4":{start:{line:14,column:15},end:{line:14,column:44}},"5":{start:{line:15,column:15},end:{line:15,column:39}},"6":{start:{line:16,column:16},end:{line:16,column:48}},"7":{start:{line:17,column:22},end:{line:17,column:43}},"8":{start:{line:18,column:16},end:{line:18,column:46}},"9":{start:{line:19,column:18},end:{line:19,column:50}},"10":{start:{line:20,column:15},end:{line:20,column:44}},"11":{start:{line:21,column:17},end:{line:21,column:38}},"12":{start:{line:22,column:21},end:{line:22,column:34}},"13":{start:{line:39,column:4},end:{line:39,column:12}},"14":{start:{line:41,column:4},end:{line:41,column:24}},"15":{start:{line:42,column:4},end:{line:42,column:45}},"16":{start:{line:43,column:4},end:{line:43,column:40}},"17":{start:{line:44,column:4},end:{line:44,column:55}},"18":{start:{line:45,column:4},end:{line:45,column:40}},"19":{start:{line:46,column:4},end:{line:46,column:36}},"20":{start:{line:47,column:4},end:{line:47,column:40}},"21":{start:{line:48,column:4},end:{line:48,column:44}},"22":{start:{line:49,column:4},end:{line:49,column:36}},"23":{start:{line:50,column:4},end:{line:50,column:34}},"24":{start:{line:52,column:4},end:{line:52,column:16}},"25":{start:{line:60,column:4},end:{line:62,column:7}},"26":{start:{line:61,column:6},end:{line:61,column:30}},"27":{start:{line:71,column:4},end:{line:71,column:51}},"28":{start:{line:72,column:4},end:{line:72,column:23}},"29":{start:{line:74,column:4},end:{line:74,column:26}},"30":{start:{line:76,column:4},end:{line:77,column:51}},"31":{start:{line:79,column:4},end:{line:80,column:65}},"32":{start:{line:80,column:6},end:{line:80,column:65}},"33":{start:{line:89,column:4},end:{line:89,column:46}},"34":{start:{line:90,column:4},end:{line:90,column:24}},"35":{start:{line:91,column:4},end:{line:91,column:28}},"36":{start:{line:103,column:19},end:{line:103,column:43}},"37":{start:{line:104,column:4},end:{line:108,column:5}},"38":{start:{line:105,column:6},end:{line:105,column:51}},"39":{start:{line:107,column:6},end:{line:107,column:15}},"40":{start:{line:121,column:18},end:{line:121,column:38}},"41":{start:{line:123,column:4},end:{line:124,column:27}},"42":{start:{line:124,column:6},end:{line:124,column:27}},"43":{start:{line:126,column:4},end:{line:127,column:34}},"44":{start:{line:127,column:6},end:{line:127,column:34}},"45":{start:{line:129,column:4},end:{line:130,column:58}},"46":{start:{line:130,column:6},end:{line:130,column:58}},"47":{start:{line:132,column:16},end:{line:132,column:51}},"48":{start:{line:133,column:17},end:{line:133,column:54}},"49":{start:{line:135,column:18},end:{line:135,column:60}},"50":{start:{line:136,column:19},end:{line:136,column:56}},"51":{start:{line:138,column:21},end:{line:138,column:48}},"52":{start:{line:140,column:20},end:{line:155,column:6}},"53":{start:{line:157,column:4},end:{line:157,column:27}},"54":{start:{line:159,column:4},end:{line:165,column:31}},"55":{start:{line:167,column:4},end:{line:184,column:5}},"56":{start:{line:168,column:20},end:{line:168,column:37}},"57":{start:{line:170,column:6},end:{line:179,column:7}},"58":{start:{line:171,column:8},end:{line:171,column:45}},"59":{start:{line:173,column:8},end:{line:177,column:9}},"60":{start:{line:174,column:10},end:{line:174,column:62}},"61":{start:{line:175,column:10},end:{line:175,column:31}},"62":{start:{line:176,column:10},end:{line:176,column:63}},"63":{start:{line:178,column:8},end:{line:178,column:16}},"64":{start:{line:181,column:6},end:{line:183,column:24}},"65":{start:{line:186,column:4},end:{line:186,column:19}},"66":{start:{line:195,column:4},end:{line:195,column:65}},"67":{start:{line:207,column:4},end:{line:207,column:44}},"68":{start:{line:219,column:4},end:{line:219,column:44}},"69":{start:{line:228,column:4},end:{line:228,column:46}},"70":{start:{line:237,column:4},end:{line:238,column:27}},"71":{start:{line:238,column:6},end:{line:238,column:27}},"72":{start:{line:239,column:4},end:{line:239,column:72}},"73":{start:{line:250,column:4},end:{line:253,column:5}},"74":{start:{line:251,column:6},end:{line:251,column:24}},"75":{start:{line:252,column:6},end:{line:252,column:13}},"76":{start:{line:255,column:4},end:{line:256,column:61}},"77":{start:{line:258,column:19},end:{line:258,column:34}},"78":{start:{line:259,column:18},end:{line:259,column:35}},"79":{start:{line:261,column:19},end:{line:261,column:50}},"80":{start:{line:263,column:4},end:{line:264,column:29}},"81":{start:{line:264,column:6},end:{line:264,column:29}},"82":{start:{line:266,column:4},end:{line:291,column:5}},"83":{start:{line:267,column:19},end:{line:267,column:55}},"84":{start:{line:268,column:17},end:{line:268,column:24}},"85":{start:{line:270,column:6},end:{line:271,column:57}},"86":{start:{line:271,column:8},end:{line:271,column:57}},"87":{start:{line:273,column:6},end:{line:285,column:7}},"88":{start:{line:274,column:21},end:{line:274,column:33}},"89":{start:{line:276,column:8},end:{line:277,column:19}},"90":{start:{line:277,column:10},end:{line:277,column:19}},"91":{start:{line:279,column:8},end:{line:279,column:27}},"92":{start:{line:281,column:8},end:{line:282,column:31}},"93":{start:{line:282,column:10},end:{line:282,column:31}},"94":{start:{line:284,column:8},end:{line:284,column:36}},"95":{start:{line:287,column:6},end:{line:288,column:17}},"96":{start:{line:288,column:8},end:{line:288,column:17}},"97":{start:{line:290,column:6},end:{line:290,column:25}},"98":{start:{line:293,column:4},end:{line:345,column:5}},"99":{start:{line:294,column:19},end:{line:294,column:32}},"100":{start:{line:295,column:17},end:{line:295,column:24}},"101":{start:{line:296,column:19},end:{line:296,column:28}},"102":{start:{line:298,column:19},end:{line:298,column:33}},"103":{start:{line:299,column:19},end:{line:299,column:33}},"104":{start:{line:301,column:6},end:{line:302,column:17}},"105":{start:{line:302,column:8},end:{line:302,column:17}},"106":{start:{line:304,column:6},end:{line:305,column:17}},"107":{start:{line:305,column:8},end:{line:305,column:17}},"108":{start:{line:307,column:6},end:{line:307,column:31}},"109":{start:{line:309,column:6},end:{line:310,column:17}},"110":{start:{line:310,column:8},end:{line:310,column:17}},"111":{start:{line:312,column:6},end:{line:312,column:28}},"112":{start:{line:314,column:6},end:{line:315,column:17}},"113":{start:{line:315,column:8},end:{line:315,column:17}},"114":{start:{line:317,column:6},end:{line:329,column:7}},"115":{start:{line:318,column:8},end:{line:325,column:9}},"116":{start:{line:320,column:10},end:{line:320,column:27}},"117":{start:{line:321,column:10},end:{line:321,column:29}},"118":{start:{line:322,column:10},end:{line:322,column:23}},"119":{start:{line:323,column:10},end:{line:323,column:29}},"120":{start:{line:324,column:10},end:{line:324,column:19}},"121":{start:{line:327,column:8},end:{line:328,column:19}},"122":{start:{line:328,column:10},end:{line:328,column:19}},"123":{start:{line:331,column:6},end:{line:331,column:30}},"124":{start:{line:332,column:6},end:{line:332,column:30}},"125":{start:{line:333,column:6},end:{line:333,column:31}},"126":{start:{line:334,column:6},end:{line:334,column:31}},"127":{start:{line:336,column:19},end:{line:336,column:35}},"128":{start:{line:338,column:6},end:{line:339,column:17}},"129":{start:{line:339,column:8},end:{line:339,column:17}},"130":{start:{line:341,column:6},end:{line:344,column:7}},"131":{start:{line:342,column:8},end:{line:343,column:29}},"132":{start:{line:343,column:10},end:{line:343,column:29}},"133":{start:{line:347,column:4},end:{line:347,column:22}},"134":{start:{line:349,column:4},end:{line:350,column:40}},"135":{start:{line:352,column:4},end:{line:360,column:5}},"136":{start:{line:353,column:20},end:{line:353,column:37}},"137":{start:{line:355,column:6},end:{line:356,column:42}},"138":{start:{line:358,column:6},end:{line:359,column:41}},"139":{start:{line:377,column:4},end:{line:377,column:35}},"140":{start:{line:378,column:4},end:{line:378,column:23}},"141":{start:{line:379,column:4},end:{line:379,column:24}},"142":{start:{line:380,column:4},end:{line:380,column:22}},"143":{start:{line:381,column:4},end:{line:381,column:24}},"144":{start:{line:383,column:4},end:{line:383,column:22}},"145":{start:{line:384,column:4},end:{line:384,column:24}},"146":{start:{line:385,column:4},end:{line:385,column:64}},"147":{start:{line:386,column:4},end:{line:386,column:27}},"148":{start:{line:388,column:4},end:{line:388,column:45}},"149":{start:{line:389,column:4},end:{line:389,column:45}},"150":{start:{line:390,column:4},end:{line:390,column:55}},"151":{start:{line:391,column:4},end:{line:391,column:61}},"152":{start:{line:392,column:4},end:{line:392,column:53}},"153":{start:{line:393,column:4},end:{line:393,column:31}},"154":{start:{line:394,column:4},end:{line:394,column:30}},"155":{start:{line:396,column:4},end:{line:396,column:30}},"156":{start:{line:407,column:4},end:{line:407,column:47}},"157":{start:{line:408,column:4},end:{line:409,column:38}},"158":{start:{line:411,column:4},end:{line:411,column:31}},"159":{start:{line:412,column:4},end:{line:412,column:41}},"160":{start:{line:413,column:4},end:{line:413,column:39}},"161":{start:{line:414,column:4},end:{line:414,column:41}},"162":{start:{line:416,column:4},end:{line:419,column:5}},"163":{start:{line:417,column:6},end:{line:417,column:49}},"164":{start:{line:418,column:6},end:{line:418,column:35}},"165":{start:{line:421,column:4},end:{line:424,column:5}},"166":{start:{line:422,column:6},end:{line:422,column:50}},"167":{start:{line:423,column:6},end:{line:423,column:37}},"168":{start:{line:426,column:4},end:{line:429,column:5}},"169":{start:{line:427,column:6},end:{line:427,column:50}},"170":{start:{line:428,column:6},end:{line:428,column:37}},"171":{start:{line:431,column:4},end:{line:434,column:5}},"172":{start:{line:432,column:6},end:{line:432,column:58}},"173":{start:{line:433,column:6},end:{line:433,column:37}},"174":{start:{line:436,column:4},end:{line:443,column:5}},"175":{start:{line:437,column:6},end:{line:442,column:7}},"176":{start:{line:438,column:8},end:{line:439,column:49}},"177":{start:{line:439,column:10},end:{line:439,column:49}},"178":{start:{line:441,column:8},end:{line:441,column:58}},"179":{start:{line:445,column:4},end:{line:449,column:5}},"180":{start:{line:446,column:6},end:{line:446,column:47}},"181":{start:{line:447,column:6},end:{line:448,column:47}},"182":{start:{line:448,column:8},end:{line:448,column:47}},"183":{start:{line:451,column:4},end:{line:458,column:5}},"184":{start:{line:452,column:18},end:{line:452,column:39}},"185":{start:{line:453,column:6},end:{line:454,column:43}},"186":{start:{line:454,column:8},end:{line:454,column:43}},"187":{start:{line:455,column:6},end:{line:455,column:37}},"188":{start:{line:456,column:6},end:{line:456,column:63}},"189":{start:{line:457,column:6},end:{line:457,column:33}},"190":{start:{line:460,column:4},end:{line:463,column:5}},"191":{start:{line:461,column:6},end:{line:461,column:53}},"192":{start:{line:462,column:6},end:{line:462,column:41}},"193":{start:{line:465,column:4},end:{line:468,column:5}},"194":{start:{line:466,column:6},end:{line:466,column:62}},"195":{start:{line:467,column:6},end:{line:467,column:41}},"196":{start:{line:470,column:4},end:{line:475,column:5}},"197":{start:{line:471,column:6},end:{line:471,column:62}},"198":{start:{line:472,column:6},end:{line:473,column:53}},"199":{start:{line:474,column:6},end:{line:474,column:41}},"200":{start:{line:477,column:4},end:{line:482,column:5}},"201":{start:{line:478,column:6},end:{line:478,column:62}},"202":{start:{line:479,column:6},end:{line:480,column:58}},"203":{start:{line:481,column:6},end:{line:481,column:41}},"204":{start:{line:484,column:4},end:{line:487,column:5}},"205":{start:{line:485,column:6},end:{line:485,column:72}},"206":{start:{line:486,column:6},end:{line:486,column:51}},"207":{start:{line:489,column:4},end:{line:492,column:5}},"208":{start:{line:490,column:6},end:{line:490,column:78}},"209":{start:{line:491,column:6},end:{line:491,column:57}},"210":{start:{line:494,column:4},end:{line:497,column:5}},"211":{start:{line:495,column:6},end:{line:495,column:72}},"212":{start:{line:496,column:6},end:{line:496,column:51}},"213":{start:{line:499,column:4},end:{line:502,column:5}},"214":{start:{line:500,column:6},end:{line:500,column:72}},"215":{start:{line:501,column:6},end:{line:501,column:51}},"216":{start:{line:504,column:4},end:{line:504,column:16}},"217":{start:{line:514,column:4},end:{line:514,column:43}},"218":{start:{line:523,column:2},end:{line:524,column:25}},"219":{start:{line:524,column:4},end:{line:524,column:25}},"220":{start:{line:525,column:2},end:{line:525,column:33}},"221":{start:{line:529,column:10},end:{line:529,column:16}},"222":{start:{line:530,column:10},end:{line:530,column:16}},"223":{start:{line:532,column:2},end:{line:533,column:19}},"224":{start:{line:533,column:4},end:{line:533,column:19}},"225":{start:{line:535,column:2},end:{line:536,column:19}},"226":{start:{line:536,column:4},end:{line:536,column:19}},"227":{start:{line:538,column:2},end:{line:541,column:3}},"228":{start:{line:539,column:4},end:{line:539,column:19}},"229":{start:{line:540,column:4},end:{line:540,column:19}},"230":{start:{line:543,column:2},end:{line:543,column:15}},"231":{start:{line:550,column:0},end:{line:550,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:23},end:{line:53,column:3}},line:38},"1":{name:"(anonymous_1)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:9},end:{line:63,column:3}},line:59},"2":{name:"(anonymous_2)",decl:{start:{line:60,column:25},end:{line:60,column:26}},loc:{start:{line:60,column:34},end:{line:62,column:5}},line:60},"3":{name:"(anonymous_3)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:15},end:{line:81,column:3}},line:70},"4":{name:"(anonymous_4)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:16},end:{line:92,column:3}},line:88},"5":{name:"(anonymous_5)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:34},end:{line:109,column:3}},line:102},"6":{name:"(anonymous_6)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:35},end:{line:187,column:3}},line:120},"7":{name:"(anonymous_7)",decl:{start:{line:194,column:2},end:{line:194,column:3}},loc:{start:{line:194,column:22},end:{line:196,column:3}},line:194},"8":{name:"(anonymous_8)",decl:{start:{line:206,column:2},end:{line:206,column:3}},loc:{start:{line:206,column:26},end:{line:208,column:3}},line:206},"9":{name:"(anonymous_9)",decl:{start:{line:218,column:2},end:{line:218,column:3}},loc:{start:{line:218,column:26},end:{line:220,column:3}},line:218},"10":{name:"(anonymous_10)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:22},end:{line:229,column:3}},line:227},"11":{name:"(anonymous_11)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:15},end:{line:240,column:3}},line:236},"12":{name:"(anonymous_12)",decl:{start:{line:249,column:2},end:{line:249,column:3}},loc:{start:{line:249,column:20},end:{line:361,column:3}},line:249},"13":{name:"(anonymous_13)",decl:{start:{line:376,column:2},end:{line:376,column:3}},loc:{start:{line:376,column:23},end:{line:397,column:3}},line:376},"14":{name:"(anonymous_14)",decl:{start:{line:406,column:2},end:{line:406,column:3}},loc:{start:{line:406,column:23},end:{line:505,column:3}},line:406},"15":{name:"(anonymous_15)",decl:{start:{line:513,column:2},end:{line:513,column:3}},loc:{start:{line:513,column:30},end:{line:515,column:3}},line:513},"16":{name:"cmpPriority",decl:{start:{line:522,column:9},end:{line:522,column:20}},loc:{start:{line:522,column:27},end:{line:526,column:1}},line:522},"17":{name:"cmpRate",decl:{start:{line:528,column:9},end:{line:528,column:16}},loc:{start:{line:528,column:23},end:{line:544,column:1}},line:528}},branchMap:{"0":{loc:{start:{line:79,column:4},end:{line:80,column:65}},type:"if",locations:[{start:{line:79,column:4},end:{line:80,column:65}},{start:{line:79,column:4},end:{line:80,column:65}}],line:79},"1":{loc:{start:{line:123,column:4},end:{line:124,column:27}},type:"if",locations:[{start:{line:123,column:4},end:{line:124,column:27}},{start:{line:123,column:4},end:{line:124,column:27}}],line:123},"2":{loc:{start:{line:126,column:4},end:{line:127,column:34}},type:"if",locations:[{start:{line:126,column:4},end:{line:127,column:34}},{start:{line:126,column:4},end:{line:127,column:34}}],line:126},"3":{loc:{start:{line:129,column:4},end:{line:130,column:58}},type:"if",locations:[{start:{line:129,column:4},end:{line:130,column:58}},{start:{line:129,column:4},end:{line:130,column:58}}],line:129},"4":{loc:{start:{line:138,column:21},end:{line:138,column:48}},type:"cond-expr",locations:[{start:{line:138,column:38},end:{line:138,column:41}},{start:{line:138,column:44},end:{line:138,column:48}}],line:138},"5":{loc:{start:{line:167,column:4},end:{line:184,column:5}},type:"if",locations:[{start:{line:167,column:4},end:{line:184,column:5}},{start:{line:167,column:4},end:{line:184,column:5}}],line:167},"6":{loc:{start:{line:173,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:173,column:8},end:{line:177,column:9}},{start:{line:173,column:8},end:{line:177,column:9}}],line:173},"7":{loc:{start:{line:237,column:4},end:{line:238,column:27}},type:"if",locations:[{start:{line:237,column:4},end:{line:238,column:27}},{start:{line:237,column:4},end:{line:238,column:27}}],line:237},"8":{loc:{start:{line:250,column:4},end:{line:253,column:5}},type:"if",locations:[{start:{line:250,column:4},end:{line:253,column:5}},{start:{line:250,column:4},end:{line:253,column:5}}],line:250},"9":{loc:{start:{line:263,column:4},end:{line:264,column:29}},type:"if",locations:[{start:{line:263,column:4},end:{line:264,column:29}},{start:{line:263,column:4},end:{line:264,column:29}}],line:263},"10":{loc:{start:{line:270,column:6},end:{line:271,column:57}},type:"if",locations:[{start:{line:270,column:6},end:{line:271,column:57}},{start:{line:270,column:6},end:{line:271,column:57}}],line:270},"11":{loc:{start:{line:276,column:8},end:{line:277,column:19}},type:"if",locations:[{start:{line:276,column:8},end:{line:277,column:19}},{start:{line:276,column:8},end:{line:277,column:19}}],line:276},"12":{loc:{start:{line:281,column:8},end:{line:282,column:31}},type:"if",locations:[{start:{line:281,column:8},end:{line:282,column:31}},{start:{line:281,column:8},end:{line:282,column:31}}],line:281},"13":{loc:{start:{line:287,column:6},end:{line:288,column:17}},type:"if",locations:[{start:{line:287,column:6},end:{line:288,column:17}},{start:{line:287,column:6},end:{line:288,column:17}}],line:287},"14":{loc:{start:{line:301,column:6},end:{line:302,column:17}},type:"if",locations:[{start:{line:301,column:6},end:{line:302,column:17}},{start:{line:301,column:6},end:{line:302,column:17}}],line:301},"15":{loc:{start:{line:304,column:6},end:{line:305,column:17}},type:"if",locations:[{start:{line:304,column:6},end:{line:305,column:17}},{start:{line:304,column:6},end:{line:305,column:17}}],line:304},"16":{loc:{start:{line:304,column:10},end:{line:304,column:45}},type:"binary-expr",locations:[{start:{line:304,column:10},end:{line:304,column:26}},{start:{line:304,column:30},end:{line:304,column:45}}],line:304},"17":{loc:{start:{line:309,column:6},end:{line:310,column:17}},type:"if",locations:[{start:{line:309,column:6},end:{line:310,column:17}},{start:{line:309,column:6},end:{line:310,column:17}}],line:309},"18":{loc:{start:{line:314,column:6},end:{line:315,column:17}},type:"if",locations:[{start:{line:314,column:6},end:{line:315,column:17}},{start:{line:314,column:6},end:{line:315,column:17}}],line:314},"19":{loc:{start:{line:317,column:6},end:{line:329,column:7}},type:"if",locations:[{start:{line:317,column:6},end:{line:329,column:7}},{start:{line:317,column:6},end:{line:329,column:7}}],line:317},"20":{loc:{start:{line:318,column:8},end:{line:325,column:9}},type:"if",locations:[{start:{line:318,column:8},end:{line:325,column:9}},{start:{line:318,column:8},end:{line:325,column:9}}],line:318},"21":{loc:{start:{line:318,column:12},end:{line:319,column:61}},type:"binary-expr",locations:[{start:{line:318,column:12},end:{line:318,column:48}},{start:{line:319,column:15},end:{line:319,column:61}}],line:318},"22":{loc:{start:{line:327,column:8},end:{line:328,column:19}},type:"if",locations:[{start:{line:327,column:8},end:{line:328,column:19}},{start:{line:327,column:8},end:{line:328,column:19}}],line:327},"23":{loc:{start:{line:327,column:12},end:{line:327,column:57}},type:"binary-expr",locations:[{start:{line:327,column:12},end:{line:327,column:21}},{start:{line:327,column:25},end:{line:327,column:57}}],line:327},"24":{loc:{start:{line:338,column:6},end:{line:339,column:17}},type:"if",locations:[{start:{line:338,column:6},end:{line:339,column:17}},{start:{line:338,column:6},end:{line:339,column:17}}],line:338},"25":{loc:{start:{line:342,column:8},end:{line:343,column:29}},type:"if",locations:[{start:{line:342,column:8},end:{line:343,column:29}},{start:{line:342,column:8},end:{line:343,column:29}}],line:342},"26":{loc:{start:{line:352,column:4},end:{line:360,column:5}},type:"if",locations:[{start:{line:352,column:4},end:{line:360,column:5}},{start:{line:352,column:4},end:{line:360,column:5}}],line:352},"27":{loc:{start:{line:408,column:11},end:{line:408,column:61}},type:"binary-expr",locations:[{start:{line:408,column:11},end:{line:408,column:24}},{start:{line:408,column:28},end:{line:408,column:61}}],line:408},"28":{loc:{start:{line:416,column:4},end:{line:419,column:5}},type:"if",locations:[{start:{line:416,column:4},end:{line:419,column:5}},{start:{line:416,column:4},end:{line:419,column:5}}],line:416},"29":{loc:{start:{line:421,column:4},end:{line:424,column:5}},type:"if",locations:[{start:{line:421,column:4},end:{line:424,column:5}},{start:{line:421,column:4},end:{line:424,column:5}}],line:421},"30":{loc:{start:{line:426,column:4},end:{line:429,column:5}},type:"if",locations:[{start:{line:426,column:4},end:{line:429,column:5}},{start:{line:426,column:4},end:{line:429,column:5}}],line:426},"31":{loc:{start:{line:431,column:4},end:{line:434,column:5}},type:"if",locations:[{start:{line:431,column:4},end:{line:434,column:5}},{start:{line:431,column:4},end:{line:434,column:5}}],line:431},"32":{loc:{start:{line:436,column:4},end:{line:443,column:5}},type:"if",locations:[{start:{line:436,column:4},end:{line:443,column:5}},{start:{line:436,column:4},end:{line:443,column:5}}],line:436},"33":{loc:{start:{line:437,column:6},end:{line:442,column:7}},type:"if",locations:[{start:{line:437,column:6},end:{line:442,column:7}},{start:{line:437,column:6},end:{line:442,column:7}}],line:437},"34":{loc:{start:{line:445,column:4},end:{line:449,column:5}},type:"if",locations:[{start:{line:445,column:4},end:{line:449,column:5}},{start:{line:445,column:4},end:{line:449,column:5}}],line:445},"35":{loc:{start:{line:451,column:4},end:{line:458,column:5}},type:"if",locations:[{start:{line:451,column:4},end:{line:458,column:5}},{start:{line:451,column:4},end:{line:458,column:5}}],line:451},"36":{loc:{start:{line:453,column:6},end:{line:454,column:43}},type:"if",locations:[{start:{line:453,column:6},end:{line:454,column:43}},{start:{line:453,column:6},end:{line:454,column:43}}],line:453},"37":{loc:{start:{line:460,column:4},end:{line:463,column:5}},type:"if",locations:[{start:{line:460,column:4},end:{line:463,column:5}},{start:{line:460,column:4},end:{line:463,column:5}}],line:460},"38":{loc:{start:{line:465,column:4},end:{line:468,column:5}},type:"if",locations:[{start:{line:465,column:4},end:{line:468,column:5}},{start:{line:465,column:4},end:{line:468,column:5}}],line:465},"39":{loc:{start:{line:470,column:4},end:{line:475,column:5}},type:"if",locations:[{start:{line:470,column:4},end:{line:475,column:5}},{start:{line:470,column:4},end:{line:475,column:5}}],line:470},"40":{loc:{start:{line:477,column:4},end:{line:482,column:5}},type:"if",locations:[{start:{line:477,column:4},end:{line:482,column:5}},{start:{line:477,column:4},end:{line:482,column:5}}],line:477},"41":{loc:{start:{line:484,column:4},end:{line:487,column:5}},type:"if",locations:[{start:{line:484,column:4},end:{line:487,column:5}},{start:{line:484,column:4},end:{line:487,column:5}}],line:484},"42":{loc:{start:{line:489,column:4},end:{line:492,column:5}},type:"if",locations:[{start:{line:489,column:4},end:{line:492,column:5}},{start:{line:489,column:4},end:{line:492,column:5}}],line:489},"43":{loc:{start:{line:494,column:4},end:{line:497,column:5}},type:"if",locations:[{start:{line:494,column:4},end:{line:497,column:5}},{start:{line:494,column:4},end:{line:497,column:5}}],line:494},"44":{loc:{start:{line:499,column:4},end:{line:502,column:5}},type:"if",locations:[{start:{line:499,column:4},end:{line:502,column:5}},{start:{line:499,column:4},end:{line:502,column:5}}],line:499},"45":{loc:{start:{line:523,column:2},end:{line:524,column:25}},type:"if",locations:[{start:{line:523,column:2},end:{line:524,column:25}},{start:{line:523,column:2},end:{line:524,column:25}}],line:523},"46":{loc:{start:{line:532,column:2},end:{line:533,column:19}},type:"if",locations:[{start:{line:532,column:2},end:{line:533,column:19}},{start:{line:532,column:2},end:{line:533,column:19}}],line:532},"47":{loc:{start:{line:535,column:2},end:{line:536,column:19}},type:"if",locations:[{start:{line:535,column:2},end:{line:536,column:19}},{start:{line:535,column:2},end:{line:536,column:19}}],line:535},"48":{loc:{start:{line:538,column:2},end:{line:541,column:3}},type:"if",locations:[{start:{line:538,column:2},end:{line:541,column:3}},{start:{line:538,column:2},end:{line:541,column:3}}],line:538}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ffaece778babacaeb89aa5e789103c0f70d5c307"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_auul6mcoh=function(){return actualCoverage;};}return actualCoverage;}cov_auul6mcoh();const assert=(cov_auul6mcoh().s[0]++,require('bsert'));const EventEmitter=(cov_auul6mcoh().s[1]++,require('events'));const Heap=(cov_auul6mcoh().s[2]++,require('bheep'));const{BufferMap}=(cov_auul6mcoh().s[3]++,require('buffer-map'));const random=(cov_auul6mcoh().s[4]++,require('bcrypto/lib/random'));const Amount=(cov_auul6mcoh().s[5]++,require('../btc/amount'));const Address=(cov_auul6mcoh().s[6]++,require('../primitives/address'));const BlockTemplate=(cov_auul6mcoh().s[7]++,require('./template'));const Network=(cov_auul6mcoh().s[8]++,require('../protocol/network'));const consensus=(cov_auul6mcoh().s[9]++,require('../protocol/consensus'));const policy=(cov_auul6mcoh().s[10]++,require('../protocol/policy'));const CPUMiner=(cov_auul6mcoh().s[11]++,require('./cpuminer'));const{BlockEntry}=(cov_auul6mcoh().s[12]++,BlockTemplate);/**
 * Miner
 * A bitcoin miner and block generator.
 * @alias module:mining.Miner
 * @extends EventEmitter
 */class Miner extends EventEmitter{/**
   * Create a bitcoin miner.
   * @constructor
   * @param {Object} options
   */constructor(options){cov_auul6mcoh().f[0]++;cov_auul6mcoh().s[13]++;super();cov_auul6mcoh().s[14]++;this.opened=false;cov_auul6mcoh().s[15]++;this.options=new MinerOptions(options);cov_auul6mcoh().s[16]++;this.network=this.options.network;cov_auul6mcoh().s[17]++;this.logger=this.options.logger.context('miner');cov_auul6mcoh().s[18]++;this.workers=this.options.workers;cov_auul6mcoh().s[19]++;this.chain=this.options.chain;cov_auul6mcoh().s[20]++;this.mempool=this.options.mempool;cov_auul6mcoh().s[21]++;this.addresses=this.options.addresses;cov_auul6mcoh().s[22]++;this.locker=this.chain.locker;cov_auul6mcoh().s[23]++;this.cpu=new CPUMiner(this);cov_auul6mcoh().s[24]++;this.init();}/**
   * Initialize the miner.
   */init(){cov_auul6mcoh().f[1]++;cov_auul6mcoh().s[25]++;this.cpu.on('error',err=>{cov_auul6mcoh().f[2]++;cov_auul6mcoh().s[26]++;this.emit('error',err);});}/**
   * Open the miner, wait for the chain and mempool to load.
   * @returns {Promise}
   */async open(){cov_auul6mcoh().f[3]++;cov_auul6mcoh().s[27]++;assert(!this.opened,'Miner is already open.');cov_auul6mcoh().s[28]++;this.opened=true;cov_auul6mcoh().s[29]++;await this.cpu.open();cov_auul6mcoh().s[30]++;this.logger.info('Miner loaded (flags=%s).',this.options.coinbaseFlags.toString('utf8'));cov_auul6mcoh().s[31]++;if(this.addresses.length===0){cov_auul6mcoh().b[0][0]++;cov_auul6mcoh().s[32]++;this.logger.warning('No reward address is set for miner!');}else{cov_auul6mcoh().b[0][1]++;}}/**
   * Close the miner.
   * @returns {Promise}
   */async close(){cov_auul6mcoh().f[4]++;cov_auul6mcoh().s[33]++;assert(this.opened,'Miner is not open.');cov_auul6mcoh().s[34]++;this.opened=false;cov_auul6mcoh().s[35]++;return this.cpu.close();}/**
   * Create a block template.
   * @method
   * @param {ChainEntry?} tip
   * @param {Address?} address
   * @returns {Promise} - Returns {@link BlockTemplate}.
   */async createBlock(tip,address){cov_auul6mcoh().f[5]++;const unlock=(cov_auul6mcoh().s[36]++,await this.locker.lock());cov_auul6mcoh().s[37]++;try{cov_auul6mcoh().s[38]++;return await this._createBlock(tip,address);}finally{cov_auul6mcoh().s[39]++;unlock();}}/**
   * Create a block template (without a lock).
   * @method
   * @private
   * @param {ChainEntry?} tip
   * @param {Address?} address
   * @returns {Promise} - Returns {@link BlockTemplate}.
   */async _createBlock(tip,address){cov_auul6mcoh().f[6]++;let version=(cov_auul6mcoh().s[40]++,this.options.version);cov_auul6mcoh().s[41]++;if(!tip){cov_auul6mcoh().b[1][0]++;cov_auul6mcoh().s[42]++;tip=this.chain.tip;}else{cov_auul6mcoh().b[1][1]++;}cov_auul6mcoh().s[43]++;if(!address){cov_auul6mcoh().b[2][0]++;cov_auul6mcoh().s[44]++;address=this.getAddress();}else{cov_auul6mcoh().b[2][1]++;}cov_auul6mcoh().s[45]++;if(version===-1){cov_auul6mcoh().b[3][0]++;cov_auul6mcoh().s[46]++;version=await this.chain.computeBlockVersion(tip);}else{cov_auul6mcoh().b[3][1]++;}const mtp=(cov_auul6mcoh().s[47]++,await this.chain.getMedianTime(tip));const time=(cov_auul6mcoh().s[48]++,Math.max(this.network.now(),mtp+1));const state=(cov_auul6mcoh().s[49]++,await this.chain.getDeployments(time,tip));const target=(cov_auul6mcoh().s[50]++,await this.chain.getTarget(time,tip));const locktime=(cov_auul6mcoh().s[51]++,state.hasMTP()?(cov_auul6mcoh().b[4][0]++,mtp):(cov_auul6mcoh().b[4][1]++,time));const attempt=(cov_auul6mcoh().s[52]++,new BlockTemplate({prevBlock:tip.hash,height:tip.height+1,version:version,time:time,bits:target,locktime:locktime,mtp:mtp,flags:state.flags,address:address,coinbaseFlags:this.options.coinbaseFlags,witness:state.hasWitness(),interval:this.network.halvingInterval,weight:this.options.reservedWeight,sigops:this.options.reservedSigops}));cov_auul6mcoh().s[53]++;this.assemble(attempt);cov_auul6mcoh().s[54]++;this.logger.debug('Created block tmpl (height=%d, weight=%d, fees=%d, txs=%s, diff=%d).',attempt.height,attempt.weight,Amount.btc(attempt.fees),attempt.items.length+1,attempt.getDifficulty());cov_auul6mcoh().s[55]++;if(this.options.preverify){cov_auul6mcoh().b[5][0]++;const block=(cov_auul6mcoh().s[56]++,attempt.toBlock());cov_auul6mcoh().s[57]++;try{cov_auul6mcoh().s[58]++;await this.chain._verifyBlock(block);}catch(e){cov_auul6mcoh().s[59]++;if(e.type==='VerifyError'){cov_auul6mcoh().b[6][0]++;cov_auul6mcoh().s[60]++;this.logger.warning('Miner created invalid block!');cov_auul6mcoh().s[61]++;this.logger.error(e);cov_auul6mcoh().s[62]++;throw new Error('BUG: Miner created invalid block.');}else{cov_auul6mcoh().b[6][1]++;}cov_auul6mcoh().s[63]++;throw e;}cov_auul6mcoh().s[64]++;this.logger.debug('Preverified block %d successfully!',attempt.height);}else{cov_auul6mcoh().b[5][1]++;}cov_auul6mcoh().s[65]++;return attempt;}/**
   * Update block timestamp.
   * @param {BlockTemplate} attempt
   */updateTime(attempt){cov_auul6mcoh().f[7]++;cov_auul6mcoh().s[66]++;attempt.time=Math.max(this.network.now(),attempt.mtp+1);}/**
   * Create a cpu miner job.
   * @method
   * @param {ChainEntry?} tip
   * @param {Address?} address
   * @returns {Promise} Returns {@link CPUJob}.
   */createJob(tip,address){cov_auul6mcoh().f[8]++;cov_auul6mcoh().s[67]++;return this.cpu.createJob(tip,address);}/**
   * Mine a single block.
   * @method
   * @param {ChainEntry?} tip
   * @param {Address?} address
   * @returns {Promise} Returns {@link Block}.
   */mineBlock(tip,address){cov_auul6mcoh().f[9]++;cov_auul6mcoh().s[68]++;return this.cpu.mineBlock(tip,address);}/**
   * Add an address to the address list.
   * @param {Address} address
   */addAddress(address){cov_auul6mcoh().f[10]++;cov_auul6mcoh().s[69]++;this.addresses.push(new Address(address));}/**
   * Get a random address from the address list.
   * @returns {Address}
   */getAddress(){cov_auul6mcoh().f[11]++;cov_auul6mcoh().s[70]++;if(this.addresses.length===0){cov_auul6mcoh().b[7][0]++;cov_auul6mcoh().s[71]++;return new Address();}else{cov_auul6mcoh().b[7][1]++;}cov_auul6mcoh().s[72]++;return this.addresses[random.randomRange(0,this.addresses.length)];}/**
   * Get mempool entries, sort by dependency order.
   * Prioritize by priority and fee rates.
   * @param {BlockTemplate} attempt
   * @returns {MempoolEntry[]}
   */assemble(attempt){cov_auul6mcoh().f[12]++;cov_auul6mcoh().s[73]++;if(!this.mempool){cov_auul6mcoh().b[8][0]++;cov_auul6mcoh().s[74]++;attempt.refresh();cov_auul6mcoh().s[75]++;return;}else{cov_auul6mcoh().b[8][1]++;}cov_auul6mcoh().s[76]++;assert(this.mempool.tip.equals(this.chain.tip.hash),'Mempool/chain tip mismatch! Unsafe to create block.');const depMap=(cov_auul6mcoh().s[77]++,new BufferMap());const queue=(cov_auul6mcoh().s[78]++,new Heap(cmpRate));let priority=(cov_auul6mcoh().s[79]++,this.options.priorityWeight>0);cov_auul6mcoh().s[80]++;if(priority){cov_auul6mcoh().b[9][0]++;cov_auul6mcoh().s[81]++;queue.set(cmpPriority);}else{cov_auul6mcoh().b[9][1]++;}cov_auul6mcoh().s[82]++;for(const entry of this.mempool.map.values()){const item=(cov_auul6mcoh().s[83]++,BlockEntry.fromEntry(entry,attempt));const tx=(cov_auul6mcoh().s[84]++,item.tx);cov_auul6mcoh().s[85]++;if(tx.isCoinbase()){cov_auul6mcoh().b[10][0]++;cov_auul6mcoh().s[86]++;throw new Error('Cannot add coinbase to block.');}else{cov_auul6mcoh().b[10][1]++;}cov_auul6mcoh().s[87]++;for(const{prevout}of tx.inputs){const hash=(cov_auul6mcoh().s[88]++,prevout.hash);cov_auul6mcoh().s[89]++;if(!this.mempool.hasEntry(hash)){cov_auul6mcoh().b[11][0]++;cov_auul6mcoh().s[90]++;continue;}else{cov_auul6mcoh().b[11][1]++;}cov_auul6mcoh().s[91]++;item.depCount+=1;cov_auul6mcoh().s[92]++;if(!depMap.has(hash)){cov_auul6mcoh().b[12][0]++;cov_auul6mcoh().s[93]++;depMap.set(hash,[]);}else{cov_auul6mcoh().b[12][1]++;}cov_auul6mcoh().s[94]++;depMap.get(hash).push(item);}cov_auul6mcoh().s[95]++;if(item.depCount>0){cov_auul6mcoh().b[13][0]++;cov_auul6mcoh().s[96]++;continue;}else{cov_auul6mcoh().b[13][1]++;}cov_auul6mcoh().s[97]++;queue.insert(item);}cov_auul6mcoh().s[98]++;while(queue.size()>0){const item=(cov_auul6mcoh().s[99]++,queue.shift());const tx=(cov_auul6mcoh().s[100]++,item.tx);const hash=(cov_auul6mcoh().s[101]++,item.hash);let weight=(cov_auul6mcoh().s[102]++,attempt.weight);let sigops=(cov_auul6mcoh().s[103]++,attempt.sigops);cov_auul6mcoh().s[104]++;if(!tx.isFinal(attempt.height,attempt.locktime)){cov_auul6mcoh().b[14][0]++;cov_auul6mcoh().s[105]++;continue;}else{cov_auul6mcoh().b[14][1]++;}cov_auul6mcoh().s[106]++;if((cov_auul6mcoh().b[16][0]++,!attempt.witness)&&(cov_auul6mcoh().b[16][1]++,tx.hasWitness())){cov_auul6mcoh().b[15][0]++;cov_auul6mcoh().s[107]++;continue;}else{cov_auul6mcoh().b[15][1]++;}cov_auul6mcoh().s[108]++;weight+=tx.getWeight();cov_auul6mcoh().s[109]++;if(weight>this.options.maxWeight){cov_auul6mcoh().b[17][0]++;cov_auul6mcoh().s[110]++;continue;}else{cov_auul6mcoh().b[17][1]++;}cov_auul6mcoh().s[111]++;sigops+=item.sigops;cov_auul6mcoh().s[112]++;if(sigops>this.options.maxSigops){cov_auul6mcoh().b[18][0]++;cov_auul6mcoh().s[113]++;continue;}else{cov_auul6mcoh().b[18][1]++;}cov_auul6mcoh().s[114]++;if(priority){cov_auul6mcoh().b[19][0]++;cov_auul6mcoh().s[115]++;if((cov_auul6mcoh().b[21][0]++,weight>this.options.priorityWeight)||(cov_auul6mcoh().b[21][1]++,item.priority<this.options.priorityThreshold)){cov_auul6mcoh().b[20][0]++;cov_auul6mcoh().s[116]++;priority=false;cov_auul6mcoh().s[117]++;queue.set(cmpRate);cov_auul6mcoh().s[118]++;queue.init();cov_auul6mcoh().s[119]++;queue.insert(item);cov_auul6mcoh().s[120]++;continue;}else{cov_auul6mcoh().b[20][1]++;}}else{cov_auul6mcoh().b[19][1]++;cov_auul6mcoh().s[121]++;if((cov_auul6mcoh().b[23][0]++,item.free)&&(cov_auul6mcoh().b[23][1]++,weight>=this.options.minWeight)){cov_auul6mcoh().b[22][0]++;cov_auul6mcoh().s[122]++;continue;}else{cov_auul6mcoh().b[22][1]++;}}cov_auul6mcoh().s[123]++;attempt.weight=weight;cov_auul6mcoh().s[124]++;attempt.sigops=sigops;cov_auul6mcoh().s[125]++;attempt.fees+=item.fee;cov_auul6mcoh().s[126]++;attempt.items.push(item);const deps=(cov_auul6mcoh().s[127]++,depMap.get(hash));cov_auul6mcoh().s[128]++;if(!deps){cov_auul6mcoh().b[24][0]++;cov_auul6mcoh().s[129]++;continue;}else{cov_auul6mcoh().b[24][1]++;}cov_auul6mcoh().s[130]++;for(const item of deps){cov_auul6mcoh().s[131]++;if(--item.depCount===0){cov_auul6mcoh().b[25][0]++;cov_auul6mcoh().s[132]++;queue.insert(item);}else{cov_auul6mcoh().b[25][1]++;}}}cov_auul6mcoh().s[133]++;attempt.refresh();cov_auul6mcoh().s[134]++;assert(attempt.weight<=consensus.MAX_BLOCK_WEIGHT,'Block exceeds reserved weight!');cov_auul6mcoh().s[135]++;if(this.options.preverify){cov_auul6mcoh().b[26][0]++;const block=(cov_auul6mcoh().s[136]++,attempt.toBlock());cov_auul6mcoh().s[137]++;assert(block.getWeight()<=attempt.weight,'Block exceeds reserved weight!');cov_auul6mcoh().s[138]++;assert(block.getBaseSize()<=consensus.MAX_BLOCK_SIZE,'Block exceeds max block size.');}else{cov_auul6mcoh().b[26][1]++;}}}/**
 * Miner Options
 * @alias module:mining.MinerOptions
 */class MinerOptions{/**
   * Create miner options.
   * @constructor
   * @param {Object}
   */constructor(options){cov_auul6mcoh().f[13]++;cov_auul6mcoh().s[139]++;this.network=Network.primary;cov_auul6mcoh().s[140]++;this.logger=null;cov_auul6mcoh().s[141]++;this.workers=null;cov_auul6mcoh().s[142]++;this.chain=null;cov_auul6mcoh().s[143]++;this.mempool=null;cov_auul6mcoh().s[144]++;this.version=-1;cov_auul6mcoh().s[145]++;this.addresses=[];cov_auul6mcoh().s[146]++;this.coinbaseFlags=Buffer.from('mined by bcoin','ascii');cov_auul6mcoh().s[147]++;this.preverify=false;cov_auul6mcoh().s[148]++;this.minWeight=policy.MIN_BLOCK_WEIGHT;cov_auul6mcoh().s[149]++;this.maxWeight=policy.MAX_BLOCK_WEIGHT;cov_auul6mcoh().s[150]++;this.priorityWeight=policy.BLOCK_PRIORITY_WEIGHT;cov_auul6mcoh().s[151]++;this.priorityThreshold=policy.BLOCK_PRIORITY_THRESHOLD;cov_auul6mcoh().s[152]++;this.maxSigops=consensus.MAX_BLOCK_SIGOPS_COST;cov_auul6mcoh().s[153]++;this.reservedWeight=4000;cov_auul6mcoh().s[154]++;this.reservedSigops=400;cov_auul6mcoh().s[155]++;this.fromOptions(options);}/**
   * Inject properties from object.
   * @private
   * @param {Object} options
   * @returns {MinerOptions}
   */fromOptions(options){cov_auul6mcoh().f[14]++;cov_auul6mcoh().s[156]++;assert(options,'Miner requires options.');cov_auul6mcoh().s[157]++;assert((cov_auul6mcoh().b[27][0]++,options.chain)&&(cov_auul6mcoh().b[27][1]++,typeof options.chain==='object'),'Miner requires a blockchain.');cov_auul6mcoh().s[158]++;this.chain=options.chain;cov_auul6mcoh().s[159]++;this.network=options.chain.network;cov_auul6mcoh().s[160]++;this.logger=options.chain.logger;cov_auul6mcoh().s[161]++;this.workers=options.chain.workers;cov_auul6mcoh().s[162]++;if(options.logger!=null){cov_auul6mcoh().b[28][0]++;cov_auul6mcoh().s[163]++;assert(typeof options.logger==='object');cov_auul6mcoh().s[164]++;this.logger=options.logger;}else{cov_auul6mcoh().b[28][1]++;}cov_auul6mcoh().s[165]++;if(options.workers!=null){cov_auul6mcoh().b[29][0]++;cov_auul6mcoh().s[166]++;assert(typeof options.workers==='object');cov_auul6mcoh().s[167]++;this.workers=options.workers;}else{cov_auul6mcoh().b[29][1]++;}cov_auul6mcoh().s[168]++;if(options.mempool!=null){cov_auul6mcoh().b[30][0]++;cov_auul6mcoh().s[169]++;assert(typeof options.mempool==='object');cov_auul6mcoh().s[170]++;this.mempool=options.mempool;}else{cov_auul6mcoh().b[30][1]++;}cov_auul6mcoh().s[171]++;if(options.version!=null){cov_auul6mcoh().b[31][0]++;cov_auul6mcoh().s[172]++;assert(options.version>>>0===options.version);cov_auul6mcoh().s[173]++;this.version=options.version;}else{cov_auul6mcoh().b[31][1]++;}cov_auul6mcoh().s[174]++;if(options.address){cov_auul6mcoh().b[32][0]++;cov_auul6mcoh().s[175]++;if(Array.isArray(options.address)){cov_auul6mcoh().b[33][0]++;cov_auul6mcoh().s[176]++;for(const item of options.address){cov_auul6mcoh().s[177]++;this.addresses.push(new Address(item));}}else{cov_auul6mcoh().b[33][1]++;cov_auul6mcoh().s[178]++;this.addresses.push(new Address(options.address));}}else{cov_auul6mcoh().b[32][1]++;}cov_auul6mcoh().s[179]++;if(options.addresses){cov_auul6mcoh().b[34][0]++;cov_auul6mcoh().s[180]++;assert(Array.isArray(options.addresses));cov_auul6mcoh().s[181]++;for(const item of options.addresses){cov_auul6mcoh().s[182]++;this.addresses.push(new Address(item));}}else{cov_auul6mcoh().b[34][1]++;}cov_auul6mcoh().s[183]++;if(options.coinbaseFlags){cov_auul6mcoh().b[35][0]++;let flags=(cov_auul6mcoh().s[184]++,options.coinbaseFlags);cov_auul6mcoh().s[185]++;if(typeof flags==='string'){cov_auul6mcoh().b[36][0]++;cov_auul6mcoh().s[186]++;flags=Buffer.from(flags,'utf8');}else{cov_auul6mcoh().b[36][1]++;}cov_auul6mcoh().s[187]++;assert(Buffer.isBuffer(flags));cov_auul6mcoh().s[188]++;assert(flags.length<=20,'Coinbase flags > 20 bytes.');cov_auul6mcoh().s[189]++;this.coinbaseFlags=flags;}else{cov_auul6mcoh().b[35][1]++;}cov_auul6mcoh().s[190]++;if(options.preverify!=null){cov_auul6mcoh().b[37][0]++;cov_auul6mcoh().s[191]++;assert(typeof options.preverify==='boolean');cov_auul6mcoh().s[192]++;this.preverify=options.preverify;}else{cov_auul6mcoh().b[37][1]++;}cov_auul6mcoh().s[193]++;if(options.minWeight!=null){cov_auul6mcoh().b[38][0]++;cov_auul6mcoh().s[194]++;assert(options.minWeight>>>0===options.minWeight);cov_auul6mcoh().s[195]++;this.minWeight=options.minWeight;}else{cov_auul6mcoh().b[38][1]++;}cov_auul6mcoh().s[196]++;if(options.maxWeight!=null){cov_auul6mcoh().b[39][0]++;cov_auul6mcoh().s[197]++;assert(options.maxWeight>>>0===options.maxWeight);cov_auul6mcoh().s[198]++;assert(options.maxWeight<=consensus.MAX_BLOCK_WEIGHT,'Max weight must be below MAX_BLOCK_WEIGHT');cov_auul6mcoh().s[199]++;this.maxWeight=options.maxWeight;}else{cov_auul6mcoh().b[39][1]++;}cov_auul6mcoh().s[200]++;if(options.maxSigops!=null){cov_auul6mcoh().b[40][0]++;cov_auul6mcoh().s[201]++;assert(options.maxSigops>>>0===options.maxSigops);cov_auul6mcoh().s[202]++;assert(options.maxSigops<=consensus.MAX_BLOCK_SIGOPS_COST,'Max sigops must be below MAX_BLOCK_SIGOPS_COST');cov_auul6mcoh().s[203]++;this.maxSigops=options.maxSigops;}else{cov_auul6mcoh().b[40][1]++;}cov_auul6mcoh().s[204]++;if(options.priorityWeight!=null){cov_auul6mcoh().b[41][0]++;cov_auul6mcoh().s[205]++;assert(options.priorityWeight>>>0===options.priorityWeight);cov_auul6mcoh().s[206]++;this.priorityWeight=options.priorityWeight;}else{cov_auul6mcoh().b[41][1]++;}cov_auul6mcoh().s[207]++;if(options.priorityThreshold!=null){cov_auul6mcoh().b[42][0]++;cov_auul6mcoh().s[208]++;assert(options.priorityThreshold>>>0===options.priorityThreshold);cov_auul6mcoh().s[209]++;this.priorityThreshold=options.priorityThreshold;}else{cov_auul6mcoh().b[42][1]++;}cov_auul6mcoh().s[210]++;if(options.reservedWeight!=null){cov_auul6mcoh().b[43][0]++;cov_auul6mcoh().s[211]++;assert(options.reservedWeight>>>0===options.reservedWeight);cov_auul6mcoh().s[212]++;this.reservedWeight=options.reservedWeight;}else{cov_auul6mcoh().b[43][1]++;}cov_auul6mcoh().s[213]++;if(options.reservedSigops!=null){cov_auul6mcoh().b[44][0]++;cov_auul6mcoh().s[214]++;assert(options.reservedSigops>>>0===options.reservedSigops);cov_auul6mcoh().s[215]++;this.reservedSigops=options.reservedSigops;}else{cov_auul6mcoh().b[44][1]++;}cov_auul6mcoh().s[216]++;return this;}/**
   * Instantiate miner options from object.
   * @param {Object} options
   * @returns {MinerOptions}
   */static fromOptions(options){cov_auul6mcoh().f[15]++;cov_auul6mcoh().s[217]++;return new this().fromOptions(options);}}/*
 * Helpers
 */function cmpPriority(a,b){cov_auul6mcoh().f[16]++;cov_auul6mcoh().s[218]++;if(a.priority===b.priority){cov_auul6mcoh().b[45][0]++;cov_auul6mcoh().s[219]++;return cmpRate(a,b);}else{cov_auul6mcoh().b[45][1]++;}cov_auul6mcoh().s[220]++;return b.priority-a.priority;}function cmpRate(a,b){cov_auul6mcoh().f[17]++;let x=(cov_auul6mcoh().s[221]++,a.rate);let y=(cov_auul6mcoh().s[222]++,b.rate);cov_auul6mcoh().s[223]++;if(a.descRate>a.rate){cov_auul6mcoh().b[46][0]++;cov_auul6mcoh().s[224]++;x=a.descRate;}else{cov_auul6mcoh().b[46][1]++;}cov_auul6mcoh().s[225]++;if(b.descRate>b.rate){cov_auul6mcoh().b[47][0]++;cov_auul6mcoh().s[226]++;y=b.descRate;}else{cov_auul6mcoh().b[47][1]++;}cov_auul6mcoh().s[227]++;if(x===y){cov_auul6mcoh().b[48][0]++;cov_auul6mcoh().s[228]++;x=a.priority;cov_auul6mcoh().s[229]++;y=b.priority;}else{cov_auul6mcoh().b[48][1]++;}cov_auul6mcoh().s[230]++;return y-x;}/*
 * Expose
 */cov_auul6mcoh().s[231]++;module.exports=Miner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pbmVyLmpzIl0sIm5hbWVzIjpbImFzc2VydCIsInJlcXVpcmUiLCJFdmVudEVtaXR0ZXIiLCJIZWFwIiwiQnVmZmVyTWFwIiwicmFuZG9tIiwiQW1vdW50IiwiQWRkcmVzcyIsIkJsb2NrVGVtcGxhdGUiLCJOZXR3b3JrIiwiY29uc2Vuc3VzIiwicG9saWN5IiwiQ1BVTWluZXIiLCJCbG9ja0VudHJ5IiwiTWluZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJvcGVuZWQiLCJNaW5lck9wdGlvbnMiLCJuZXR3b3JrIiwibG9nZ2VyIiwiY29udGV4dCIsIndvcmtlcnMiLCJjaGFpbiIsIm1lbXBvb2wiLCJhZGRyZXNzZXMiLCJsb2NrZXIiLCJjcHUiLCJpbml0Iiwib24iLCJlcnIiLCJlbWl0Iiwib3BlbiIsImluZm8iLCJjb2luYmFzZUZsYWdzIiwidG9TdHJpbmciLCJsZW5ndGgiLCJ3YXJuaW5nIiwiY2xvc2UiLCJjcmVhdGVCbG9jayIsInRpcCIsImFkZHJlc3MiLCJ1bmxvY2siLCJsb2NrIiwiX2NyZWF0ZUJsb2NrIiwidmVyc2lvbiIsImdldEFkZHJlc3MiLCJjb21wdXRlQmxvY2tWZXJzaW9uIiwibXRwIiwiZ2V0TWVkaWFuVGltZSIsInRpbWUiLCJNYXRoIiwibWF4Iiwibm93Iiwic3RhdGUiLCJnZXREZXBsb3ltZW50cyIsInRhcmdldCIsImdldFRhcmdldCIsImxvY2t0aW1lIiwiaGFzTVRQIiwiYXR0ZW1wdCIsInByZXZCbG9jayIsImhhc2giLCJoZWlnaHQiLCJiaXRzIiwiZmxhZ3MiLCJ3aXRuZXNzIiwiaGFzV2l0bmVzcyIsImludGVydmFsIiwiaGFsdmluZ0ludGVydmFsIiwid2VpZ2h0IiwicmVzZXJ2ZWRXZWlnaHQiLCJzaWdvcHMiLCJyZXNlcnZlZFNpZ29wcyIsImFzc2VtYmxlIiwiZGVidWciLCJidGMiLCJmZWVzIiwiaXRlbXMiLCJnZXREaWZmaWN1bHR5IiwicHJldmVyaWZ5IiwiYmxvY2siLCJ0b0Jsb2NrIiwiX3ZlcmlmeUJsb2NrIiwiZSIsInR5cGUiLCJlcnJvciIsIkVycm9yIiwidXBkYXRlVGltZSIsImNyZWF0ZUpvYiIsIm1pbmVCbG9jayIsImFkZEFkZHJlc3MiLCJwdXNoIiwicmFuZG9tUmFuZ2UiLCJyZWZyZXNoIiwiZXF1YWxzIiwiZGVwTWFwIiwicXVldWUiLCJjbXBSYXRlIiwicHJpb3JpdHkiLCJwcmlvcml0eVdlaWdodCIsInNldCIsImNtcFByaW9yaXR5IiwiZW50cnkiLCJtYXAiLCJ2YWx1ZXMiLCJpdGVtIiwiZnJvbUVudHJ5IiwidHgiLCJpc0NvaW5iYXNlIiwicHJldm91dCIsImlucHV0cyIsImhhc0VudHJ5IiwiZGVwQ291bnQiLCJoYXMiLCJnZXQiLCJpbnNlcnQiLCJzaXplIiwic2hpZnQiLCJpc0ZpbmFsIiwiZ2V0V2VpZ2h0IiwibWF4V2VpZ2h0IiwibWF4U2lnb3BzIiwicHJpb3JpdHlUaHJlc2hvbGQiLCJmcmVlIiwibWluV2VpZ2h0IiwiZmVlIiwiZGVwcyIsIk1BWF9CTE9DS19XRUlHSFQiLCJnZXRCYXNlU2l6ZSIsIk1BWF9CTE9DS19TSVpFIiwicHJpbWFyeSIsIkJ1ZmZlciIsImZyb20iLCJNSU5fQkxPQ0tfV0VJR0hUIiwiQkxPQ0tfUFJJT1JJVFlfV0VJR0hUIiwiQkxPQ0tfUFJJT1JJVFlfVEhSRVNIT0xEIiwiTUFYX0JMT0NLX1NJR09QU19DT1NUIiwiZnJvbU9wdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJpc0J1ZmZlciIsImEiLCJiIiwieCIsInJhdGUiLCJ5IiwiZGVzY1JhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FFQSxhLCswNEJBUVk7eUZBTlosS0FBTUEsQ0FBQUEsTUFBTSx5QkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUMsQ0FBQUEsWUFBWSx5QkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU1FLENBQUFBLElBQUkseUJBQUdGLE9B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QUMsQ0FBQ0ssUUFBTixDQUFlLENBRGpCLGlDQUpxQix5QkFPckIsR0FBSUosQ0FBQyxDQUFDSSxRQUFGLENBQWFKLENBQUMsQ0FBQ0UsSUFBbkIsQ0FDRSxxREFBQUMsQ0FBQyxDQUFHSCxDQUFDLENBQUNJLFFBQU4sQ0FBZSxDQURqQixpQ0FQcUIseUJBVXJCLEdBQUlILENBQUMsR0FBS0UsQ0FBVixDQUFhLHFEQUNYRixDQUFDLENBQUdGLENBQUMsQ0FBQzNDLFFBQU4sQ0FEVyx5QkFFWCtDLENBQUMsQ0FBR0gsQ0FBQyxDQUFDNUMsUUFBTixDQUNELENBSEQsaUNBVnFCLHlCQWVyQixNQUFPK0MsQ0FBQUEsQ0FBQyxDQUFHRixDQUFYLENBQ0QsQ0FFRDtBQUNBO0FBQ0EsRyx5QkFFQUksTUFBTSxDQUFDQyxPQUFQLENBQWlCdkksS0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogbWluZXIuanMgLSBibG9jayBnZW5lcmF0b3IgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGZWRvciBJbmR1dG55IChNSVQgTGljZW5zZSlcclxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Jjb2luLW9yZy9iY29pblxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2JzZXJ0Jyk7XHJcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xyXG5jb25zdCBIZWFwID0gcmVxdWlyZSgnYmhlZXAnKTtcclxuY29uc3Qge0J1ZmZlck1hcH0gPSByZXF1aXJlKCdidWZmZXItbWFwJyk7XHJcbmNvbnN0IHJhbmRvbSA9IHJlcXVpcmUoJ2JjcnlwdG8vbGliL3JhbmRvbScpO1xyXG5jb25zdCBBbW91bnQgPSByZXF1aXJlKCcuLi9idGMvYW1vdW50Jyk7XHJcbmNvbnN0IEFkZHJlc3MgPSByZXF1aXJlKCcuLi9wcmltaXRpdmVzL2FkZHJlc3MnKTtcclxuY29uc3QgQmxvY2tUZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGUnKTtcclxuY29uc3QgTmV0d29yayA9IHJlcXVpcmUoJy4uL3Byb3RvY29sL25ldHdvcmsnKTtcclxuY29uc3QgY29uc2Vuc3VzID0gcmVxdWlyZSgnLi4vcHJvdG9jb2wvY29uc2Vuc3VzJyk7XHJcbmNvbnN0IHBvbGljeSA9IHJlcXVpcmUoJy4uL3Byb3RvY29sL3BvbGljeScpO1xyXG5jb25zdCBDUFVNaW5lciA9IHJlcXVpcmUoJy4vY3B1bWluZXInKTtcclxuY29uc3Qge0Jsb2NrRW50cnl9ID0gQmxvY2tUZW1wbGF0ZTtcclxuXHJcbi8qKlxyXG4gKiBNaW5lclxyXG4gKiBBIGJpdGNvaW4gbWluZXIgYW5kIGJsb2NrIGdlbmVyYXRvci5cclxuICogQGFsaWFzIG1vZHVsZTptaW5pbmcuTWluZXJcclxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXHJcbiAqL1xyXG5cclxuY2xhc3MgTWluZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGJpdGNvaW4gbWluZXIuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5vcHRpb25zID0gbmV3IE1pbmVyT3B0aW9ucyhvcHRpb25zKTtcclxuICAgIHRoaXMubmV0d29yayA9IHRoaXMub3B0aW9ucy5uZXR3b3JrO1xyXG4gICAgdGhpcy5sb2dnZXIgPSB0aGlzLm9wdGlvbnMubG9nZ2VyLmNvbnRleHQoJ21pbmVyJyk7XHJcbiAgICB0aGlzLndvcmtlcnMgPSB0aGlzLm9wdGlvbnMud29ya2VycztcclxuICAgIHRoaXMuY2hhaW4gPSB0aGlzLm9wdGlvbnMuY2hhaW47XHJcbiAgICB0aGlzLm1lbXBvb2wgPSB0aGlzLm9wdGlvbnMubWVtcG9vbDtcclxuICAgIHRoaXMuYWRkcmVzc2VzID0gdGhpcy5vcHRpb25zLmFkZHJlc3NlcztcclxuICAgIHRoaXMubG9ja2VyID0gdGhpcy5jaGFpbi5sb2NrZXI7XHJcbiAgICB0aGlzLmNwdSA9IG5ldyBDUFVNaW5lcih0aGlzKTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgdGhlIG1pbmVyLlxyXG4gICAqL1xyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5jcHUub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbiB0aGUgbWluZXIsIHdhaXQgZm9yIHRoZSBjaGFpbiBhbmQgbWVtcG9vbCB0byBsb2FkLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBhc3luYyBvcGVuKCkge1xyXG4gICAgYXNzZXJ0KCF0aGlzLm9wZW5lZCwgJ01pbmVyIGlzIGFscmVhZHkgb3Blbi4nKTtcclxuICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLmNwdS5vcGVuKCk7XHJcblxyXG4gICAgdGhpcy5sb2dnZXIuaW5mbygnTWluZXIgbG9hZGVkIChmbGFncz0lcykuJyxcclxuICAgICAgdGhpcy5vcHRpb25zLmNvaW5iYXNlRmxhZ3MudG9TdHJpbmcoJ3V0ZjgnKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYWRkcmVzc2VzLmxlbmd0aCA9PT0gMClcclxuICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnTm8gcmV3YXJkIGFkZHJlc3MgaXMgc2V0IGZvciBtaW5lciEnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIHRoZSBtaW5lci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgY2xvc2UoKSB7XHJcbiAgICBhc3NlcnQodGhpcy5vcGVuZWQsICdNaW5lciBpcyBub3Qgb3Blbi4nKTtcclxuICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XHJcbiAgICByZXR1cm4gdGhpcy5jcHUuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGJsb2NrIHRlbXBsYXRlLlxyXG4gICAqIEBtZXRob2RcclxuICAgKiBAcGFyYW0ge0NoYWluRW50cnk/fSB0aXBcclxuICAgKiBAcGFyYW0ge0FkZHJlc3M/fSBhZGRyZXNzXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gUmV0dXJucyB7QGxpbmsgQmxvY2tUZW1wbGF0ZX0uXHJcbiAgICovXHJcblxyXG4gIGFzeW5jIGNyZWF0ZUJsb2NrKHRpcCwgYWRkcmVzcykge1xyXG4gICAgY29uc3QgdW5sb2NrID0gYXdhaXQgdGhpcy5sb2NrZXIubG9jaygpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZUJsb2NrKHRpcCwgYWRkcmVzcyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB1bmxvY2soKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGJsb2NrIHRlbXBsYXRlICh3aXRob3V0IGEgbG9jaykuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtDaGFpbkVudHJ5P30gdGlwXHJcbiAgICogQHBhcmFtIHtBZGRyZXNzP30gYWRkcmVzc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFJldHVybnMge0BsaW5rIEJsb2NrVGVtcGxhdGV9LlxyXG4gICAqL1xyXG5cclxuICBhc3luYyBfY3JlYXRlQmxvY2sodGlwLCBhZGRyZXNzKSB7XHJcbiAgICBsZXQgdmVyc2lvbiA9IHRoaXMub3B0aW9ucy52ZXJzaW9uO1xyXG5cclxuICAgIGlmICghdGlwKVxyXG4gICAgICB0aXAgPSB0aGlzLmNoYWluLnRpcDtcclxuXHJcbiAgICBpZiAoIWFkZHJlc3MpXHJcbiAgICAgIGFkZHJlc3MgPSB0aGlzLmdldEFkZHJlc3MoKTtcclxuXHJcbiAgICBpZiAodmVyc2lvbiA9PT0gLTEpXHJcbiAgICAgIHZlcnNpb24gPSBhd2FpdCB0aGlzLmNoYWluLmNvbXB1dGVCbG9ja1ZlcnNpb24odGlwKTtcclxuXHJcbiAgICBjb25zdCBtdHAgPSBhd2FpdCB0aGlzLmNoYWluLmdldE1lZGlhblRpbWUodGlwKTtcclxuICAgIGNvbnN0IHRpbWUgPSBNYXRoLm1heCh0aGlzLm5ldHdvcmsubm93KCksIG10cCArIDEpO1xyXG5cclxuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5jaGFpbi5nZXREZXBsb3ltZW50cyh0aW1lLCB0aXApO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gYXdhaXQgdGhpcy5jaGFpbi5nZXRUYXJnZXQodGltZSwgdGlwKTtcclxuXHJcbiAgICBjb25zdCBsb2NrdGltZSA9IHN0YXRlLmhhc01UUCgpID8gbXRwIDogdGltZTtcclxuXHJcbiAgICBjb25zdCBhdHRlbXB0ID0gbmV3IEJsb2NrVGVtcGxhdGUoe1xyXG4gICAgICBwcmV2QmxvY2s6IHRpcC5oYXNoLFxyXG4gICAgICBoZWlnaHQ6IHRpcC5oZWlnaHQgKyAxLFxyXG4gICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxyXG4gICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICBiaXRzOiB0YXJnZXQsXHJcbiAgICAgIGxvY2t0aW1lOiBsb2NrdGltZSxcclxuICAgICAgbXRwOiBtdHAsXHJcbiAgICAgIGZsYWdzOiBzdGF0ZS5mbGFncyxcclxuICAgICAgYWRkcmVzczogYWRkcmVzcyxcclxuICAgICAgY29pbmJhc2VGbGFnczogdGhpcy5vcHRpb25zLmNvaW5iYXNlRmxhZ3MsXHJcbiAgICAgIHdpdG5lc3M6IHN0YXRlLmhhc1dpdG5lc3MoKSxcclxuICAgICAgaW50ZXJ2YWw6IHRoaXMubmV0d29yay5oYWx2aW5nSW50ZXJ2YWwsXHJcbiAgICAgIHdlaWdodDogdGhpcy5vcHRpb25zLnJlc2VydmVkV2VpZ2h0LFxyXG4gICAgICBzaWdvcHM6IHRoaXMub3B0aW9ucy5yZXNlcnZlZFNpZ29wc1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hc3NlbWJsZShhdHRlbXB0KTtcclxuXHJcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcclxuICAgICAgJ0NyZWF0ZWQgYmxvY2sgdG1wbCAoaGVpZ2h0PSVkLCB3ZWlnaHQ9JWQsIGZlZXM9JWQsIHR4cz0lcywgZGlmZj0lZCkuJyxcclxuICAgICAgYXR0ZW1wdC5oZWlnaHQsXHJcbiAgICAgIGF0dGVtcHQud2VpZ2h0LFxyXG4gICAgICBBbW91bnQuYnRjKGF0dGVtcHQuZmVlcyksXHJcbiAgICAgIGF0dGVtcHQuaXRlbXMubGVuZ3RoICsgMSxcclxuICAgICAgYXR0ZW1wdC5nZXREaWZmaWN1bHR5KCkpO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVyaWZ5KSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrID0gYXR0ZW1wdC50b0Jsb2NrKCk7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuY2hhaW4uX3ZlcmlmeUJsb2NrKGJsb2NrKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdWZXJpZnlFcnJvcicpIHtcclxuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ01pbmVyIGNyZWF0ZWQgaW52YWxpZCBibG9jayEnKTtcclxuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCVUc6IE1pbmVyIGNyZWF0ZWQgaW52YWxpZCBibG9jay4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXHJcbiAgICAgICAgJ1ByZXZlcmlmaWVkIGJsb2NrICVkIHN1Y2Nlc3NmdWxseSEnLFxyXG4gICAgICAgIGF0dGVtcHQuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXR0ZW1wdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSBibG9jayB0aW1lc3RhbXAuXHJcbiAgICogQHBhcmFtIHtCbG9ja1RlbXBsYXRlfSBhdHRlbXB0XHJcbiAgICovXHJcblxyXG4gIHVwZGF0ZVRpbWUoYXR0ZW1wdCkge1xyXG4gICAgYXR0ZW1wdC50aW1lID0gTWF0aC5tYXgodGhpcy5uZXR3b3JrLm5vdygpLCBhdHRlbXB0Lm10cCArIDEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgY3B1IG1pbmVyIGpvYi5cclxuICAgKiBAbWV0aG9kXHJcbiAgICogQHBhcmFtIHtDaGFpbkVudHJ5P30gdGlwXHJcbiAgICogQHBhcmFtIHtBZGRyZXNzP30gYWRkcmVzc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIHtAbGluayBDUFVKb2J9LlxyXG4gICAqL1xyXG5cclxuICBjcmVhdGVKb2IodGlwLCBhZGRyZXNzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jcHUuY3JlYXRlSm9iKHRpcCwgYWRkcmVzcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNaW5lIGEgc2luZ2xlIGJsb2NrLlxyXG4gICAqIEBtZXRob2RcclxuICAgKiBAcGFyYW0ge0NoYWluRW50cnk/fSB0aXBcclxuICAgKiBAcGFyYW0ge0FkZHJlc3M/fSBhZGRyZXNzXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMge0BsaW5rIEJsb2NrfS5cclxuICAgKi9cclxuXHJcbiAgbWluZUJsb2NrKHRpcCwgYWRkcmVzcykge1xyXG4gICAgcmV0dXJuIHRoaXMuY3B1Lm1pbmVCbG9jayh0aXAsIGFkZHJlc3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGFuIGFkZHJlc3MgdG8gdGhlIGFkZHJlc3MgbGlzdC5cclxuICAgKiBAcGFyYW0ge0FkZHJlc3N9IGFkZHJlc3NcclxuICAgKi9cclxuXHJcbiAgYWRkQWRkcmVzcyhhZGRyZXNzKSB7XHJcbiAgICB0aGlzLmFkZHJlc3Nlcy5wdXNoKG5ldyBBZGRyZXNzKGFkZHJlc3MpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHJhbmRvbSBhZGRyZXNzIGZyb20gdGhlIGFkZHJlc3MgbGlzdC5cclxuICAgKiBAcmV0dXJucyB7QWRkcmVzc31cclxuICAgKi9cclxuXHJcbiAgZ2V0QWRkcmVzcygpIHtcclxuICAgIGlmICh0aGlzLmFkZHJlc3Nlcy5sZW5ndGggPT09IDApXHJcbiAgICAgIHJldHVybiBuZXcgQWRkcmVzcygpO1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzc2VzW3JhbmRvbS5yYW5kb21SYW5nZSgwLCB0aGlzLmFkZHJlc3Nlcy5sZW5ndGgpXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBtZW1wb29sIGVudHJpZXMsIHNvcnQgYnkgZGVwZW5kZW5jeSBvcmRlci5cclxuICAgKiBQcmlvcml0aXplIGJ5IHByaW9yaXR5IGFuZCBmZWUgcmF0ZXMuXHJcbiAgICogQHBhcmFtIHtCbG9ja1RlbXBsYXRlfSBhdHRlbXB0XHJcbiAgICogQHJldHVybnMge01lbXBvb2xFbnRyeVtdfVxyXG4gICAqL1xyXG5cclxuICBhc3NlbWJsZShhdHRlbXB0KSB7XHJcbiAgICBpZiAoIXRoaXMubWVtcG9vbCkge1xyXG4gICAgICBhdHRlbXB0LnJlZnJlc2goKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2VydCh0aGlzLm1lbXBvb2wudGlwLmVxdWFscyh0aGlzLmNoYWluLnRpcC5oYXNoKSxcclxuICAgICAgJ01lbXBvb2wvY2hhaW4gdGlwIG1pc21hdGNoISBVbnNhZmUgdG8gY3JlYXRlIGJsb2NrLicpO1xyXG5cclxuICAgIGNvbnN0IGRlcE1hcCA9IG5ldyBCdWZmZXJNYXAoKTtcclxuICAgIGNvbnN0IHF1ZXVlID0gbmV3IEhlYXAoY21wUmF0ZSk7XHJcblxyXG4gICAgbGV0IHByaW9yaXR5ID0gdGhpcy5vcHRpb25zLnByaW9yaXR5V2VpZ2h0ID4gMDtcclxuXHJcbiAgICBpZiAocHJpb3JpdHkpXHJcbiAgICAgIHF1ZXVlLnNldChjbXBQcmlvcml0eSk7XHJcblxyXG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1lbXBvb2wubWFwLnZhbHVlcygpKSB7XHJcbiAgICAgIGNvbnN0IGl0ZW0gPSBCbG9ja0VudHJ5LmZyb21FbnRyeShlbnRyeSwgYXR0ZW1wdCk7XHJcbiAgICAgIGNvbnN0IHR4ID0gaXRlbS50eDtcclxuXHJcbiAgICAgIGlmICh0eC5pc0NvaW5iYXNlKCkpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIGNvaW5iYXNlIHRvIGJsb2NrLicpO1xyXG5cclxuICAgICAgZm9yIChjb25zdCB7cHJldm91dH0gb2YgdHguaW5wdXRzKSB7XHJcbiAgICAgICAgY29uc3QgaGFzaCA9IHByZXZvdXQuaGFzaDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1lbXBvb2wuaGFzRW50cnkoaGFzaCkpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgaXRlbS5kZXBDb3VudCArPSAxO1xyXG5cclxuICAgICAgICBpZiAoIWRlcE1hcC5oYXMoaGFzaCkpXHJcbiAgICAgICAgICBkZXBNYXAuc2V0KGhhc2gsIFtdKTtcclxuXHJcbiAgICAgICAgZGVwTWFwLmdldChoYXNoKS5wdXNoKGl0ZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXRlbS5kZXBDb3VudCA+IDApXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBxdWV1ZS5pbnNlcnQoaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKHF1ZXVlLnNpemUoKSA+IDApIHtcclxuICAgICAgY29uc3QgaXRlbSA9IHF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgIGNvbnN0IHR4ID0gaXRlbS50eDtcclxuICAgICAgY29uc3QgaGFzaCA9IGl0ZW0uaGFzaDtcclxuXHJcbiAgICAgIGxldCB3ZWlnaHQgPSBhdHRlbXB0LndlaWdodDtcclxuICAgICAgbGV0IHNpZ29wcyA9IGF0dGVtcHQuc2lnb3BzO1xyXG5cclxuICAgICAgaWYgKCF0eC5pc0ZpbmFsKGF0dGVtcHQuaGVpZ2h0LCBhdHRlbXB0LmxvY2t0aW1lKSlcclxuICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgIGlmICghYXR0ZW1wdC53aXRuZXNzICYmIHR4Lmhhc1dpdG5lc3MoKSlcclxuICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgIHdlaWdodCArPSB0eC5nZXRXZWlnaHQoKTtcclxuXHJcbiAgICAgIGlmICh3ZWlnaHQgPiB0aGlzLm9wdGlvbnMubWF4V2VpZ2h0KVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgc2lnb3BzICs9IGl0ZW0uc2lnb3BzO1xyXG5cclxuICAgICAgaWYgKHNpZ29wcyA+IHRoaXMub3B0aW9ucy5tYXhTaWdvcHMpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBpZiAocHJpb3JpdHkpIHtcclxuICAgICAgICBpZiAod2VpZ2h0ID4gdGhpcy5vcHRpb25zLnByaW9yaXR5V2VpZ2h0XHJcbiAgICAgICAgICAgIHx8IGl0ZW0ucHJpb3JpdHkgPCB0aGlzLm9wdGlvbnMucHJpb3JpdHlUaHJlc2hvbGQpIHtcclxuICAgICAgICAgIHByaW9yaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgICBxdWV1ZS5zZXQoY21wUmF0ZSk7XHJcbiAgICAgICAgICBxdWV1ZS5pbml0KCk7XHJcbiAgICAgICAgICBxdWV1ZS5pbnNlcnQoaXRlbSk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uZnJlZSAmJiB3ZWlnaHQgPj0gdGhpcy5vcHRpb25zLm1pbldlaWdodClcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhdHRlbXB0LndlaWdodCA9IHdlaWdodDtcclxuICAgICAgYXR0ZW1wdC5zaWdvcHMgPSBzaWdvcHM7XHJcbiAgICAgIGF0dGVtcHQuZmVlcyArPSBpdGVtLmZlZTtcclxuICAgICAgYXR0ZW1wdC5pdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgY29uc3QgZGVwcyA9IGRlcE1hcC5nZXQoaGFzaCk7XHJcblxyXG4gICAgICBpZiAoIWRlcHMpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGVwcykge1xyXG4gICAgICAgIGlmICgtLWl0ZW0uZGVwQ291bnQgPT09IDApXHJcbiAgICAgICAgICBxdWV1ZS5pbnNlcnQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhdHRlbXB0LnJlZnJlc2goKTtcclxuXHJcbiAgICBhc3NlcnQoYXR0ZW1wdC53ZWlnaHQgPD0gY29uc2Vuc3VzLk1BWF9CTE9DS19XRUlHSFQsXHJcbiAgICAgICdCbG9jayBleGNlZWRzIHJlc2VydmVkIHdlaWdodCEnKTtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlcmlmeSkge1xyXG4gICAgICBjb25zdCBibG9jayA9IGF0dGVtcHQudG9CbG9jaygpO1xyXG5cclxuICAgICAgYXNzZXJ0KGJsb2NrLmdldFdlaWdodCgpIDw9IGF0dGVtcHQud2VpZ2h0LFxyXG4gICAgICAgICdCbG9jayBleGNlZWRzIHJlc2VydmVkIHdlaWdodCEnKTtcclxuXHJcbiAgICAgIGFzc2VydChibG9jay5nZXRCYXNlU2l6ZSgpIDw9IGNvbnNlbnN1cy5NQVhfQkxPQ0tfU0laRSxcclxuICAgICAgICAnQmxvY2sgZXhjZWVkcyBtYXggYmxvY2sgc2l6ZS4nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNaW5lciBPcHRpb25zXHJcbiAqIEBhbGlhcyBtb2R1bGU6bWluaW5nLk1pbmVyT3B0aW9uc1xyXG4gKi9cclxuXHJcbmNsYXNzIE1pbmVyT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIG1pbmVyIG9wdGlvbnMuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9XHJcbiAgICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMubmV0d29yayA9IE5ldHdvcmsucHJpbWFyeTtcclxuICAgIHRoaXMubG9nZ2VyID0gbnVsbDtcclxuICAgIHRoaXMud29ya2VycyA9IG51bGw7XHJcbiAgICB0aGlzLmNoYWluID0gbnVsbDtcclxuICAgIHRoaXMubWVtcG9vbCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy52ZXJzaW9uID0gLTE7XHJcbiAgICB0aGlzLmFkZHJlc3NlcyA9IFtdO1xyXG4gICAgdGhpcy5jb2luYmFzZUZsYWdzID0gQnVmZmVyLmZyb20oJ21pbmVkIGJ5IGJjb2luJywgJ2FzY2lpJyk7XHJcbiAgICB0aGlzLnByZXZlcmlmeSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMubWluV2VpZ2h0ID0gcG9saWN5Lk1JTl9CTE9DS19XRUlHSFQ7XHJcbiAgICB0aGlzLm1heFdlaWdodCA9IHBvbGljeS5NQVhfQkxPQ0tfV0VJR0hUO1xyXG4gICAgdGhpcy5wcmlvcml0eVdlaWdodCA9IHBvbGljeS5CTE9DS19QUklPUklUWV9XRUlHSFQ7XHJcbiAgICB0aGlzLnByaW9yaXR5VGhyZXNob2xkID0gcG9saWN5LkJMT0NLX1BSSU9SSVRZX1RIUkVTSE9MRDtcclxuICAgIHRoaXMubWF4U2lnb3BzID0gY29uc2Vuc3VzLk1BWF9CTE9DS19TSUdPUFNfQ09TVDtcclxuICAgIHRoaXMucmVzZXJ2ZWRXZWlnaHQgPSA0MDAwO1xyXG4gICAgdGhpcy5yZXNlcnZlZFNpZ29wcyA9IDQwMDtcclxuXHJcbiAgICB0aGlzLmZyb21PcHRpb25zKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSBvYmplY3QuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm5zIHtNaW5lck9wdGlvbnN9XHJcbiAgICovXHJcblxyXG4gIGZyb21PcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIGFzc2VydChvcHRpb25zLCAnTWluZXIgcmVxdWlyZXMgb3B0aW9ucy4nKTtcclxuICAgIGFzc2VydChvcHRpb25zLmNoYWluICYmIHR5cGVvZiBvcHRpb25zLmNoYWluID09PSAnb2JqZWN0JyxcclxuICAgICAgJ01pbmVyIHJlcXVpcmVzIGEgYmxvY2tjaGFpbi4nKTtcclxuXHJcbiAgICB0aGlzLmNoYWluID0gb3B0aW9ucy5jaGFpbjtcclxuICAgIHRoaXMubmV0d29yayA9IG9wdGlvbnMuY2hhaW4ubmV0d29yaztcclxuICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5jaGFpbi5sb2dnZXI7XHJcbiAgICB0aGlzLndvcmtlcnMgPSBvcHRpb25zLmNoYWluLndvcmtlcnM7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMubG9nZ2VyICE9IG51bGwpIHtcclxuICAgICAgYXNzZXJ0KHR5cGVvZiBvcHRpb25zLmxvZ2dlciA9PT0gJ29iamVjdCcpO1xyXG4gICAgICB0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLndvcmtlcnMgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQodHlwZW9mIG9wdGlvbnMud29ya2VycyA9PT0gJ29iamVjdCcpO1xyXG4gICAgICB0aGlzLndvcmtlcnMgPSBvcHRpb25zLndvcmtlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMubWVtcG9vbCAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydCh0eXBlb2Ygb3B0aW9ucy5tZW1wb29sID09PSAnb2JqZWN0Jyk7XHJcbiAgICAgIHRoaXMubWVtcG9vbCA9IG9wdGlvbnMubWVtcG9vbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy52ZXJzaW9uICE9IG51bGwpIHtcclxuICAgICAgYXNzZXJ0KChvcHRpb25zLnZlcnNpb24gPj4+IDApID09PSBvcHRpb25zLnZlcnNpb24pO1xyXG4gICAgICB0aGlzLnZlcnNpb24gPSBvcHRpb25zLnZlcnNpb247XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuYWRkcmVzcykge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmFkZHJlc3MpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG9wdGlvbnMuYWRkcmVzcylcclxuICAgICAgICAgIHRoaXMuYWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3MoaXRlbSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3Mob3B0aW9ucy5hZGRyZXNzKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5hZGRyZXNzZXMpIHtcclxuICAgICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkob3B0aW9ucy5hZGRyZXNzZXMpKTtcclxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG9wdGlvbnMuYWRkcmVzc2VzKVxyXG4gICAgICAgIHRoaXMuYWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3MoaXRlbSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLmNvaW5iYXNlRmxhZ3MpIHtcclxuICAgICAgbGV0IGZsYWdzID0gb3B0aW9ucy5jb2luYmFzZUZsYWdzO1xyXG4gICAgICBpZiAodHlwZW9mIGZsYWdzID09PSAnc3RyaW5nJylcclxuICAgICAgICBmbGFncyA9IEJ1ZmZlci5mcm9tKGZsYWdzLCAndXRmOCcpO1xyXG4gICAgICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKGZsYWdzKSk7XHJcbiAgICAgIGFzc2VydChmbGFncy5sZW5ndGggPD0gMjAsICdDb2luYmFzZSBmbGFncyA+IDIwIGJ5dGVzLicpO1xyXG4gICAgICB0aGlzLmNvaW5iYXNlRmxhZ3MgPSBmbGFncztcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5wcmV2ZXJpZnkgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQodHlwZW9mIG9wdGlvbnMucHJldmVyaWZ5ID09PSAnYm9vbGVhbicpO1xyXG4gICAgICB0aGlzLnByZXZlcmlmeSA9IG9wdGlvbnMucHJldmVyaWZ5O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLm1pbldlaWdodCAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydCgob3B0aW9ucy5taW5XZWlnaHQgPj4+IDApID09PSBvcHRpb25zLm1pbldlaWdodCk7XHJcbiAgICAgIHRoaXMubWluV2VpZ2h0ID0gb3B0aW9ucy5taW5XZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMubWF4V2VpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgYXNzZXJ0KChvcHRpb25zLm1heFdlaWdodCA+Pj4gMCkgPT09IG9wdGlvbnMubWF4V2VpZ2h0KTtcclxuICAgICAgYXNzZXJ0KG9wdGlvbnMubWF4V2VpZ2h0IDw9IGNvbnNlbnN1cy5NQVhfQkxPQ0tfV0VJR0hULFxyXG4gICAgICAgICdNYXggd2VpZ2h0IG11c3QgYmUgYmVsb3cgTUFYX0JMT0NLX1dFSUdIVCcpO1xyXG4gICAgICB0aGlzLm1heFdlaWdodCA9IG9wdGlvbnMubWF4V2VpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRpb25zLm1heFNpZ29wcyAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydCgob3B0aW9ucy5tYXhTaWdvcHMgPj4+IDApID09PSBvcHRpb25zLm1heFNpZ29wcyk7XHJcbiAgICAgIGFzc2VydChvcHRpb25zLm1heFNpZ29wcyA8PSBjb25zZW5zdXMuTUFYX0JMT0NLX1NJR09QU19DT1NULFxyXG4gICAgICAgICdNYXggc2lnb3BzIG11c3QgYmUgYmVsb3cgTUFYX0JMT0NLX1NJR09QU19DT1NUJyk7XHJcbiAgICAgIHRoaXMubWF4U2lnb3BzID0gb3B0aW9ucy5tYXhTaWdvcHM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucHJpb3JpdHlXZWlnaHQgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQoKG9wdGlvbnMucHJpb3JpdHlXZWlnaHQgPj4+IDApID09PSBvcHRpb25zLnByaW9yaXR5V2VpZ2h0KTtcclxuICAgICAgdGhpcy5wcmlvcml0eVdlaWdodCA9IG9wdGlvbnMucHJpb3JpdHlXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucHJpb3JpdHlUaHJlc2hvbGQgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQoKG9wdGlvbnMucHJpb3JpdHlUaHJlc2hvbGQgPj4+IDApID09PSBvcHRpb25zLnByaW9yaXR5VGhyZXNob2xkKTtcclxuICAgICAgdGhpcy5wcmlvcml0eVRocmVzaG9sZCA9IG9wdGlvbnMucHJpb3JpdHlUaHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucmVzZXJ2ZWRXZWlnaHQgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQoKG9wdGlvbnMucmVzZXJ2ZWRXZWlnaHQgPj4+IDApID09PSBvcHRpb25zLnJlc2VydmVkV2VpZ2h0KTtcclxuICAgICAgdGhpcy5yZXNlcnZlZFdlaWdodCA9IG9wdGlvbnMucmVzZXJ2ZWRXZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucmVzZXJ2ZWRTaWdvcHMgIT0gbnVsbCkge1xyXG4gICAgICBhc3NlcnQoKG9wdGlvbnMucmVzZXJ2ZWRTaWdvcHMgPj4+IDApID09PSBvcHRpb25zLnJlc2VydmVkU2lnb3BzKTtcclxuICAgICAgdGhpcy5yZXNlcnZlZFNpZ29wcyA9IG9wdGlvbnMucmVzZXJ2ZWRTaWdvcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnN0YW50aWF0ZSBtaW5lciBvcHRpb25zIGZyb20gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHJldHVybnMge01pbmVyT3B0aW9uc31cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21PcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21PcHRpb25zKG9wdGlvbnMpO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICogSGVscGVyc1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGNtcFByaW9yaXR5KGEsIGIpIHtcclxuICBpZiAoYS5wcmlvcml0eSA9PT0gYi5wcmlvcml0eSlcclxuICAgIHJldHVybiBjbXBSYXRlKGEsIGIpO1xyXG4gIHJldHVybiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eTtcclxufVxyXG5cclxuZnVuY3Rpb24gY21wUmF0ZShhLCBiKSB7XHJcbiAgbGV0IHggPSBhLnJhdGU7XHJcbiAgbGV0IHkgPSBiLnJhdGU7XHJcblxyXG4gIGlmIChhLmRlc2NSYXRlID4gYS5yYXRlKVxyXG4gICAgeCA9IGEuZGVzY1JhdGU7XHJcblxyXG4gIGlmIChiLmRlc2NSYXRlID4gYi5yYXRlKVxyXG4gICAgeSA9IGIuZGVzY1JhdGU7XHJcblxyXG4gIGlmICh4ID09PSB5KSB7XHJcbiAgICB4ID0gYS5wcmlvcml0eTtcclxuICAgIHkgPSBiLnByaW9yaXR5O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHkgLSB4O1xyXG59XHJcblxyXG4vKlxyXG4gKiBFeHBvc2VcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1pbmVyO1xyXG4iXX0=