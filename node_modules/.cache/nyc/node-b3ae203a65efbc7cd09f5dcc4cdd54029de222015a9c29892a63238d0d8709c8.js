/*!
 * node.js - http node client for bcoin
 * Copyright (c) 2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_1k7yh72y33(){var path="E:\\Projects\\Test\\bcoin\\lib\\client\\node.js";var hash="109a76ae8cfa0f3e45ef36df9c3b4245cfd11111";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\client\\node.js",statementMap:{"0":{start:{line:9,column:15},end:{line:9,column:31}},"1":{start:{line:10,column:17},end:{line:10,column:33}},"2":{start:{line:24,column:4},end:{line:24,column:19}},"3":{start:{line:33,column:4},end:{line:33,column:43}},"4":{start:{line:34,column:4},end:{line:34,column:28}},"5":{start:{line:35,column:4},end:{line:35,column:30}},"6":{start:{line:44,column:4},end:{line:44,column:44}},"7":{start:{line:53,column:4},end:{line:53,column:32}},"8":{start:{line:62,column:4},end:{line:62,column:25}},"9":{start:{line:73,column:4},end:{line:73,column:40}},"10":{start:{line:74,column:4},end:{line:74,column:48}},"11":{start:{line:85,column:4},end:{line:85,column:37}},"12":{start:{line:86,column:4},end:{line:86,column:53}},"13":{start:{line:98,column:4},end:{line:98,column:37}},"14":{start:{line:99,column:4},end:{line:99,column:36}},"15":{start:{line:100,column:4},end:{line:100,column:46}},"16":{start:{line:111,column:4},end:{line:111,column:40}},"17":{start:{line:112,column:4},end:{line:112,column:46}},"18":{start:{line:123,column:4},end:{line:123,column:37}},"19":{start:{line:124,column:4},end:{line:124,column:51}},"20":{start:{line:134,column:4},end:{line:134,column:37}},"21":{start:{line:135,column:4},end:{line:135,column:35}},"22":{start:{line:145,column:4},end:{line:145,column:67}},"23":{start:{line:146,column:4},end:{line:146,column:39}},"24":{start:{line:156,column:4},end:{line:156,column:67}},"25":{start:{line:157,column:4},end:{line:157,column:40}},"26":{start:{line:167,column:4},end:{line:167,column:69}},"27":{start:{line:168,column:4},end:{line:168,column:41}},"28":{start:{line:178,column:4},end:{line:178,column:35}},"29":{start:{line:179,column:4},end:{line:179,column:43}},"30":{start:{line:189,column:4},end:{line:189,column:43}},"31":{start:{line:199,column:4},end:{line:199,column:36}},"32":{start:{line:209,column:4},end:{line:209,column:38}},"33":{start:{line:218,column:4},end:{line:218,column:32}},"34":{start:{line:228,column:4},end:{line:228,column:41}},"35":{start:{line:239,column:4},end:{line:239,column:47}},"36":{start:{line:249,column:4},end:{line:249,column:32}},"37":{start:{line:250,column:4},end:{line:250,column:33}},"38":{start:{line:260,column:4},end:{line:260,column:36}},"39":{start:{line:261,column:4},end:{line:261,column:43}},"40":{start:{line:271,column:4},end:{line:272,column:24}},"41":{start:{line:272,column:6},end:{line:272,column:24}},"42":{start:{line:274,column:4},end:{line:274,column:43}},"43":{start:{line:283,column:4},end:{line:283,column:37}},"44":{start:{line:293,column:4},end:{line:293,column:57}},"45":{start:{line:294,column:16},end:{line:294,column:22}},"46":{start:{line:295,column:4},end:{line:296,column:35}},"47":{start:{line:296,column:6},end:{line:296,column:35}},"48":{start:{line:297,column:4},end:{line:297,column:27}},"49":{start:{line:307,column:4},end:{line:308,column:16}},"50":{start:{line:308,column:6},end:{line:308,column:16}},"51":{start:{line:310,column:4},end:{line:310,column:67}},"52":{start:{line:312,column:4},end:{line:312,column:38}},"53":{start:{line:320,column:0},end:{line:320,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:23,column:2},end:{line:23,column:3}},loc:{start:{line:23,column:23},end:{line:25,column:3}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:15},end:{line:36,column:3}},line:32},"2":{name:"(anonymous_2)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:24},end:{line:45,column:3}},line:43},"3":{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:15},end:{line:54,column:3}},line:52},"4":{name:"(anonymous_4)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:12},end:{line:63,column:3}},line:61},"5":{name:"(anonymous_5)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:29},end:{line:75,column:3}},line:72},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:33},end:{line:87,column:3}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:23},end:{line:101,column:3}},line:97},"8":{name:"(anonymous_8)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:26},end:{line:113,column:3}},line:110},"9":{name:"(anonymous_9)",decl:{start:{line:122,column:2},end:{line:122,column:3}},loc:{start:{line:122,column:30},end:{line:125,column:3}},line:122},"10":{name:"(anonymous_10)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:14},end:{line:136,column:3}},line:133},"11":{name:"(anonymous_11)",decl:{start:{line:144,column:2},end:{line:144,column:3}},loc:{start:{line:144,column:18},end:{line:147,column:3}},line:144},"12":{name:"(anonymous_12)",decl:{start:{line:155,column:2},end:{line:155,column:3}},loc:{start:{line:155,column:24},end:{line:158,column:3}},line:155},"13":{name:"(anonymous_13)",decl:{start:{line:166,column:2},end:{line:166,column:3}},loc:{start:{line:166,column:20},end:{line:169,column:3}},line:166},"14":{name:"(anonymous_14)",decl:{start:{line:177,column:2},end:{line:177,column:3}},loc:{start:{line:177,column:16},end:{line:180,column:3}},line:177},"15":{name:"(anonymous_15)",decl:{start:{line:188,column:2},end:{line:188,column:3}},loc:{start:{line:188,column:16},end:{line:190,column:3}},line:188},"16":{name:"(anonymous_16)",decl:{start:{line:198,column:2},end:{line:198,column:3}},loc:{start:{line:198,column:15},end:{line:200,column:3}},line:198},"17":{name:"(anonymous_17)",decl:{start:{line:208,column:2},end:{line:208,column:3}},loc:{start:{line:208,column:17},end:{line:210,column:3}},line:208},"18":{name:"(anonymous_18)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:11},end:{line:219,column:3}},line:217},"19":{name:"(anonymous_19)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:18},end:{line:229,column:3}},line:227},"20":{name:"(anonymous_20)",decl:{start:{line:238,column:2},end:{line:238,column:3}},loc:{start:{line:238,column:24},end:{line:240,column:3}},line:238},"21":{name:"(anonymous_21)",decl:{start:{line:248,column:2},end:{line:248,column:3}},loc:{start:{line:248,column:11},end:{line:251,column:3}},line:248},"22":{name:"(anonymous_22)",decl:{start:{line:259,column:2},end:{line:259,column:3}},loc:{start:{line:259,column:20},end:{line:262,column:3}},line:259},"23":{name:"(anonymous_23)",decl:{start:{line:270,column:2},end:{line:270,column:3}},loc:{start:{line:270,column:20},end:{line:275,column:3}},line:270},"24":{name:"(anonymous_24)",decl:{start:{line:282,column:2},end:{line:282,column:3}},loc:{start:{line:282,column:16},end:{line:284,column:3}},line:282},"25":{name:"(anonymous_25)",decl:{start:{line:292,column:2},end:{line:292,column:3}},loc:{start:{line:292,column:22},end:{line:298,column:3}},line:292},"26":{name:"(anonymous_26)",decl:{start:{line:306,column:2},end:{line:306,column:3}},loc:{start:{line:306,column:16},end:{line:313,column:3}},line:306}},branchMap:{"0":{loc:{start:{line:145,column:11},end:{line:145,column:65}},type:"binary-expr",locations:[{start:{line:145,column:11},end:{line:145,column:36}},{start:{line:145,column:40},end:{line:145,column:65}}],line:145},"1":{loc:{start:{line:156,column:11},end:{line:156,column:65}},type:"binary-expr",locations:[{start:{line:156,column:11},end:{line:156,column:36}},{start:{line:156,column:40},end:{line:156,column:65}}],line:156},"2":{loc:{start:{line:167,column:11},end:{line:167,column:67}},type:"binary-expr",locations:[{start:{line:167,column:11},end:{line:167,column:37}},{start:{line:167,column:41},end:{line:167,column:67}}],line:167},"3":{loc:{start:{line:271,column:4},end:{line:272,column:24}},type:"if",locations:[{start:{line:271,column:4},end:{line:272,column:24}},{start:{line:271,column:4},end:{line:272,column:24}}],line:271},"4":{loc:{start:{line:293,column:11},end:{line:293,column:55}},type:"binary-expr",locations:[{start:{line:293,column:11},end:{line:293,column:25}},{start:{line:293,column:29},end:{line:293,column:55}}],line:293},"5":{loc:{start:{line:295,column:4},end:{line:296,column:35}},type:"if",locations:[{start:{line:295,column:4},end:{line:296,column:35}},{start:{line:295,column:4},end:{line:296,column:35}}],line:295},"6":{loc:{start:{line:307,column:4},end:{line:308,column:16}},type:"if",locations:[{start:{line:307,column:4},end:{line:308,column:16}},{start:{line:307,column:4},end:{line:308,column:16}}],line:307},"7":{loc:{start:{line:310,column:11},end:{line:310,column:65}},type:"binary-expr",locations:[{start:{line:310,column:11},end:{line:310,column:36}},{start:{line:310,column:40},end:{line:310,column:65}}],line:310}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"109a76ae8cfa0f3e45ef36df9c3b4245cfd11111"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1k7yh72y33=function(){return actualCoverage;};}return actualCoverage;}cov_1k7yh72y33();const assert=(cov_1k7yh72y33().s[0]++,require('bsert'));const{Client}=(cov_1k7yh72y33().s[1]++,require('bcurl'));/**
 * Node Client
 * @extends {bcurl.Client}
 */class NodeClient extends Client{/**
   * Creat a node client.
   * @param {Object?} options
   */constructor(options){cov_1k7yh72y33().f[0]++;cov_1k7yh72y33().s[2]++;super(options);}/**
   * Auth with server.
   * @returns {Promise}
   */async auth(){cov_1k7yh72y33().f[1]++;cov_1k7yh72y33().s[3]++;await this.call('auth',this.password);cov_1k7yh72y33().s[4]++;await this.watchChain();cov_1k7yh72y33().s[5]++;await this.watchMempool();}/**
   * Make an RPC call.
   * @returns {Promise}
   */execute(name,params){cov_1k7yh72y33().f[2]++;cov_1k7yh72y33().s[6]++;return super.execute('/',name,params);}/**
   * Get a mempool snapshot.
   * @returns {Promise}
   */getMempool(){cov_1k7yh72y33().f[3]++;cov_1k7yh72y33().s[7]++;return this.get('/mempool');}/**
   * Get some info about the server (network and version).
   * @returns {Promise}
   */getInfo(){cov_1k7yh72y33().f[4]++;cov_1k7yh72y33().s[8]++;return this.get('/');}/**
   * Get coins that pertain to an address from the mempool or chain database.
   * Takes into account spent coins in the mempool.
   * @param {String} address
   * @returns {Promise}
   */getCoinsByAddress(address){cov_1k7yh72y33().f[5]++;cov_1k7yh72y33().s[9]++;assert(typeof address==='string');cov_1k7yh72y33().s[10]++;return this.get(`/coin/address/${address}`);}/**
   * Get coins that pertain to addresses from the mempool or chain database.
   * Takes into account spent coins in the mempool.
   * @param {String[]} addresses
   * @returns {Promise}
   */getCoinsByAddresses(addresses){cov_1k7yh72y33().f[6]++;cov_1k7yh72y33().s[11]++;assert(Array.isArray(addresses));cov_1k7yh72y33().s[12]++;return this.post('/coin/address',{addresses});}/**
   * Retrieve a coin from the mempool or chain database.
   * Takes into account spent coins in the mempool.
   * @param {Hash} hash
   * @param {Number} index
   * @returns {Promise}
   */getCoin(hash,index){cov_1k7yh72y33().f[7]++;cov_1k7yh72y33().s[13]++;assert(typeof hash==='string');cov_1k7yh72y33().s[14]++;assert(index>>>0===index);cov_1k7yh72y33().s[15]++;return this.get(`/coin/${hash}/${index}`);}/**
   * Retrieve transactions pertaining to an
   * address from the mempool or chain database.
   * @param {String} address
   * @returns {Promise}
   */getTXByAddress(address){cov_1k7yh72y33().f[8]++;cov_1k7yh72y33().s[16]++;assert(typeof address==='string');cov_1k7yh72y33().s[17]++;return this.get(`/tx/address/${address}`);}/**
   * Retrieve transactions pertaining to
   * addresses from the mempool or chain database.
   * @param {String[]} addresses
   * @returns {Promise}
   */getTXByAddresses(addresses){cov_1k7yh72y33().f[9]++;cov_1k7yh72y33().s[18]++;assert(Array.isArray(addresses));cov_1k7yh72y33().s[19]++;return this.post('/tx/address',{addresses});}/**
   * Retrieve a transaction from the mempool or chain database.
   * @param {Hash} hash
   * @returns {Promise}
   */getTX(hash){cov_1k7yh72y33().f[10]++;cov_1k7yh72y33().s[20]++;assert(typeof hash==='string');cov_1k7yh72y33().s[21]++;return this.get(`/tx/${hash}`);}/**
   * Retrieve a block from the chain database.
   * @param {Hash|Number} block
   * @returns {Promise}
   */getBlock(block){cov_1k7yh72y33().f[11]++;cov_1k7yh72y33().s[22]++;assert((cov_1k7yh72y33().b[0][0]++,typeof block==='string')||(cov_1k7yh72y33().b[0][1]++,typeof block==='number'));cov_1k7yh72y33().s[23]++;return this.get(`/block/${block}`);}/**
   * Retrieve a block header.
   * @param {Hash|Number} block
   * @returns {Promise}
   */getBlockHeader(block){cov_1k7yh72y33().f[12]++;cov_1k7yh72y33().s[24]++;assert((cov_1k7yh72y33().b[1][0]++,typeof block==='string')||(cov_1k7yh72y33().b[1][1]++,typeof block==='number'));cov_1k7yh72y33().s[25]++;return this.get(`/header/${block}`);}/**
   * Retreive a filter from the filter indexer.
   * @param {Hash|Number} filter
   * @returns {Promise}
   */getFilter(filter){cov_1k7yh72y33().f[13]++;cov_1k7yh72y33().s[26]++;assert((cov_1k7yh72y33().b[2][0]++,typeof filter==='string')||(cov_1k7yh72y33().b[2][1]++,typeof filter==='number'));cov_1k7yh72y33().s[27]++;return this.get(`/filter/${filter}`);}/**
   * Add a transaction to the mempool and broadcast it.
   * @param {TX} tx
   * @returns {Promise}
   */broadcast(tx){cov_1k7yh72y33().f[14]++;cov_1k7yh72y33().s[28]++;assert(typeof tx==='string');cov_1k7yh72y33().s[29]++;return this.post('/broadcast',{tx});}/**
   * Reset the chain.
   * @param {Number} height
   * @returns {Promise}
   */reset(height){cov_1k7yh72y33().f[15]++;cov_1k7yh72y33().s[30]++;return this.post('/reset',{height});}/**
   * Watch the blockchain.
   * @private
   * @returns {Promise}
   */watchChain(){cov_1k7yh72y33().f[16]++;cov_1k7yh72y33().s[31]++;return this.call('watch chain');}/**
   * Watch the blockchain.
   * @private
   * @returns {Promise}
   */watchMempool(){cov_1k7yh72y33().f[17]++;cov_1k7yh72y33().s[32]++;return this.call('watch mempool');}/**
   * Get chain tip.
   * @returns {Promise}
   */getTip(){cov_1k7yh72y33().f[18]++;cov_1k7yh72y33().s[33]++;return this.call('get tip');}/**
   * Get chain entry.
   * @param {Hash} hash
   * @returns {Promise}
   */getEntry(block){cov_1k7yh72y33().f[19]++;cov_1k7yh72y33().s[34]++;return this.call('get entry',block);}/**
   * Get hashes.
   * @param {Number} [start=-1]
   * @param {Number} [end=-1]
   * @returns {Promise}
   */getHashes(start,end){cov_1k7yh72y33().f[20]++;cov_1k7yh72y33().s[35]++;return this.call('get hashes',start,end);}/**
   * Send a transaction. Do not wait for promise.
   * @param {TX} tx
   * @returns {Promise}
   */send(tx){cov_1k7yh72y33().f[21]++;cov_1k7yh72y33().s[36]++;assert(Buffer.isBuffer(tx));cov_1k7yh72y33().s[37]++;return this.call('send',tx);}/**
   * Set bloom filter.
   * @param {Bloom} filter
   * @returns {Promise}
   */setFilter(filter){cov_1k7yh72y33().f[22]++;cov_1k7yh72y33().s[38]++;assert(Buffer.isBuffer(filter));cov_1k7yh72y33().s[39]++;return this.call('set filter',filter);}/**
   * Add data to filter.
   * @param {Buffer} data
   * @returns {Promise}
   */addFilter(chunks){cov_1k7yh72y33().f[23]++;cov_1k7yh72y33().s[40]++;if(!Array.isArray(chunks)){cov_1k7yh72y33().b[3][0]++;cov_1k7yh72y33().s[41]++;chunks=[chunks];}else{cov_1k7yh72y33().b[3][1]++;}cov_1k7yh72y33().s[42]++;return this.call('add filter',chunks);}/**
   * Reset filter.
   * @returns {Promise}
   */resetFilter(){cov_1k7yh72y33().f[24]++;cov_1k7yh72y33().s[43]++;return this.call('reset filter');}/**
   * Estimate smart fee.
   * @param {Number?} blocks
   * @returns {Promise}
   */estimateFee(blocks){cov_1k7yh72y33().f[25]++;cov_1k7yh72y33().s[44]++;assert((cov_1k7yh72y33().b[4][0]++,blocks==null)||(cov_1k7yh72y33().b[4][1]++,typeof blocks==='number'));let query=(cov_1k7yh72y33().s[45]++,'/fee');cov_1k7yh72y33().s[46]++;if(blocks!=null){cov_1k7yh72y33().b[5][0]++;cov_1k7yh72y33().s[47]++;query+=`?blocks=${blocks}`;}else{cov_1k7yh72y33().b[5][1]++;}cov_1k7yh72y33().s[48]++;return this.get(query);}/**
   * Rescan for any missed transactions.
   * @param {Number|Hash} start - Start block.
   * @returns {Promise}
   */rescan(start){cov_1k7yh72y33().f[26]++;cov_1k7yh72y33().s[49]++;if(start==null){cov_1k7yh72y33().b[6][0]++;cov_1k7yh72y33().s[50]++;start=0;}else{cov_1k7yh72y33().b[6][1]++;}cov_1k7yh72y33().s[51]++;assert((cov_1k7yh72y33().b[7][0]++,typeof start==='number')||(cov_1k7yh72y33().b[7][1]++,typeof start==='string'));cov_1k7yh72y33().s[52]++;return this.call('rescan',start);}}/*
 * Expose
 */cov_1k7yh72y33().s[53]++;module.exports=NodeClient;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGUuanMiXSwibmFtZXMiOlsiYXNzZXJ0IiwicmVxdWlyZSIsIkNsaWVudCIsIk5vZGVDbGllbnQiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJhdXRoIiwiY2FsbCIsInBhc3N3b3JkIiwid2F0Y2hDaGFpbiIsIndhdGNoTWVtcG9vbCIsImV4ZWN1dGUiLCJuYW1lIiwicGFyYW1zIiwiZ2V0TWVtcG9vbCIsImdldCIsImdldEluZm8iLCJnZXRDb2luc0J5QWRkcmVzcyIsImFkZHJlc3MiLCJnZXRDb2luc0J5QWRkcmVzc2VzIiwiYWRkcmVzc2VzIiwiQXJyYXkiLCJpc0FycmF5IiwicG9zdCIsImdldENvaW4iLCJoYXNoIiwiaW5kZXgiLCJnZXRUWEJ5QWRkcmVzcyIsImdldFRYQnlBZGRyZXNzZXMiLCJnZXRUWCIsImdldEJsb2NrIiwiYmxvY2siLCJnZXRCbG9ja0hlYWRlciIsImdldEZpbHRlciIsImZpbHRlciIsImJyb2FkY2FzdCIsInR4IiwicmVzZXQiLCJoZWlnaHQiLCJnZXRUaXAiLCJnZXRFbnRyeSIsImdldEhhc2hlcyIsInN0YXJ0IiwiZW5kIiwic2VuZCIsIkJ1ZmZlciIsImlzQnVmZmVyIiwic2V0RmlsdGVyIiwiYWRkRmlsdGVyIiwiY2h1bmtzIiwicmVzZXRGaWx0ZXIiLCJlc3RpbWF0ZUZlZSIsImJsb2NrcyIsInF1ZXJ5IiwicmVzY2FuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUVBLGEseXhUQVNZOzJGQVBaLEtBQU1BLENBQUFBLE1BQU0sMEJBQUdDLE9BQU8sQ0FBQyxPQUFELENBQVYsQ0FBWixDQUNBLEtBQU0sQ0FBQ0MsTUFBRCwyQkFBV0QsT0FBTyxDQUFDLE9BQUQsQ0FBbEIsQ0FBTixDQUVBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsS0FBTUUsQ0FBQUEsVUFBTixRQUF5QkQsQ0FBQUEsTUFBTyxDQUM5QjtBQUNGO0FBQ0E7QUFDQSxLQUVFRSxXQUFXLENBQUNDLE9BQUQsQ0FBVSxpREFDbkIsTUFBTUEsT0FBTixFQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FFRSxLQUFNQyxDQUFBQSxJQUFOLEVBQWEsaURBQ1gsS0FBTSxNQUFLQyxJQUFMLENBQVUsTUFBVixDQUFrQixLQUFLQyxRQUF2QixDQUFOLENBRFcsd0JBRVgsS0FBTSxNQUFLQyxVQUFMLEVBQU4sQ0FGVyx3QkFHWCxLQUFNLE1BQUtDLFlBQUwsRUFBTixDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FFRUMsT0FBTyxDQUFDQyxJQUFELENBQU9DLE1BQVAsQ0FBZSxpREFDcEIsTUFBTyxPQUFNRixPQUFOLENBQWMsR0FBZCxDQUFtQkMsSUFBbkIsQ0FBeUJDLE1BQXpCLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBRUVDLFVBQVUsRUFBRyxpREFDWCxNQUFPLE1BQUtDLEdBQUwsQ0FBUyxVQUFULENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBRUVDLE9BQU8sRUFBRyxpREFDUixNQUFPLE1BQUtELEdBQUwsQ0FBUyxHQUFULENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUVFRSxpQkFBaUIsQ0FBQ0MsT0FBRCxDQUFVLGlEQUN6QmxCLE1BQU0sQ0FBQyxNQUFPa0IsQ0FBQUEsT0FBUCxHQUFtQixRQUFwQixDQUFOLENBRHlCLHlCQUV6QixNQUFPLE1BQUtILEdBQUwsQ0FBVSxpQkFBZ0JHLE9BQVEsRUFBbEMsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBRUVDLG1CQUFtQixDQUFDQyxTQUFELENBQVksa0RBQzdCcEIsTUFBTSxDQUFDcUIsS0FBSyxDQUFDQyxPQUFOLENBQWNGLFNBQWQsQ0FBRCxDQUFOLENBRDZCLHlCQUU3QixNQUFPLE1BQUtHLElBQUwsQ0FBVSxlQUFWLENBQTJCLENBQUVILFNBQUYsQ0FBM0IsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FFRUksT0FBTyxDQUFDQyxJQUFELENBQU9DLEtBQVAsQ0FBYyxrREFDbkIxQixNQUFNLENBQUMsTUFBT3lCLENBQUFBLElBQVAsR0FBZ0IsUUFBakIsQ0FBTixDQURtQix5QkFFbkJ6QixNQUFNLENBQUUwQixLQUFLLEdBQUssQ0FBWCxHQUFrQkEsS0FBbkIsQ0FBTixDQUZtQix5QkFHbkIsTUFBTyxNQUFLWCxHQUFMLENBQVUsU0FBUVUsSUFBSyxJQUFHQyxLQUFNLEVBQWhDLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUVFQyxjQUFjLENBQUNULE9BQUQsQ0FBVSxrREFDdEJsQixNQUFNLENBQUMsTUFBT2tCLENBQUFBLE9BQVAsR0FBbUIsUUFBcEIsQ0FBTixDQURzQix5QkFFdEIsTUFBTyxNQUFLSCxHQUFMLENBQVUsZUFBY0csT0FBUSxFQUFoQyxDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FFRVUsZ0JBQWdCLENBQUNSLFNBQUQsQ0FBWSxrREFDMUJwQixNQUFNLENBQUNxQixLQUFLLENBQUNDLE9BQU4sQ0FBY0YsU0FBZCxDQUFELENBQU4sQ0FEMEIseUJBRTFCLE1BQU8sTUFBS0csSUFBTCxDQUFVLGFBQVYsQ0FBeUIsQ0FBRUgsU0FBRixDQUF6QixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBRUVTLEtBQUssQ0FBQ0osSUFBRCxDQUFPLG1EQUNWekIsTUFBTSxDQUFDLE1BQU95QixDQUFBQSxJQUFQLEdBQWdCLFFBQWpCLENBQU4sQ0FEVSx5QkFFVixNQUFPLE1BQUtWLEdBQUwsQ0FBVSxPQUFNVSxJQUFLLEVBQXJCLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FFRUssUUFBUSxDQUFDQyxLQUFELENBQVEsbURBQ2QvQixNQUFNLENBQUMsa0NBQU8rQixDQUFBQSxLQUFQLEdBQWlCLFFBQWpCLCtCQUE2QixNQUFPQSxDQUFBQSxLQUFQLEdBQWlCLFFBQTlDLENBQUQsQ0FBTixDQURjLHlCQUVkLE1BQU8sTUFBS2hCLEdBQUwsQ0FBVSxVQUFTZ0IsS0FBTSxFQUF6QixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBRUVDLGNBQWMsQ0FBQ0QsS0FBRCxDQUFRLG1EQUNwQi9CLE1BQU0sQ0FBQyxrQ0FBTytCLENBQUFBLEtBQVAsR0FBaUIsUUFBakIsK0JBQTZCLE1BQU9BLENBQUFBLEtBQVAsR0FBaUIsUUFBOUMsQ0FBRCxDQUFOLENBRG9CLHlCQUVwQixNQUFPLE1BQUtoQixHQUFMLENBQVUsV0FBVWdCLEtBQU0sRUFBMUIsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFRSxTQUFTLENBQUNDLE1BQUQsQ0FBUyxtREFDaEJsQyxNQUFNLENBQUMsa0NBQU9rQyxDQUFBQSxNQUFQLEdBQWtCLFFBQWxCLCtCQUE4QixNQUFPQSxDQUFBQSxNQUFQLEdBQWtCLFFBQWhELENBQUQsQ0FBTixDQURnQix5QkFFaEIsTUFBTyxNQUFLbkIsR0FBTCxDQUFVLFdBQVVtQixNQUFPLEVBQTNCLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FFRUMsU0FBUyxDQUFDQyxFQUFELENBQUssbURBQ1pwQyxNQUFNLENBQUMsTUFBT29DLENBQUFBLEVBQVAsR0FBYyxRQUFmLENBQU4sQ0FEWSx5QkFFWixNQUFPLE1BQUtiLElBQUwsQ0FBVSxZQUFWLENBQXdCLENBQUVhLEVBQUYsQ0FBeEIsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFQyxLQUFLLENBQUNDLE1BQUQsQ0FBUyxtREFDWixNQUFPLE1BQUtmLElBQUwsQ0FBVSxRQUFWLENBQW9CLENBQUVlLE1BQUYsQ0FBcEIsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFN0IsVUFBVSxFQUFHLG1EQUNYLE1BQU8sTUFBS0YsSUFBTCxDQUFVLGFBQVYsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFRyxZQUFZLEVBQUcsbURBQ2IsTUFBTyxNQUFLSCxJQUFMLENBQVUsZUFBVixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQSxLQUVFZ0MsTUFBTSxFQUFHLG1EQUNQLE1BQU8sTUFBS2hDLElBQUwsQ0FBVSxTQUFWLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FFRWlDLFFBQVEsQ0FBQ1QsS0FBRCxDQUFRLG1EQUNkLE1BQU8sTUFBS3hCLElBQUwsQ0FBVSxXQUFWLENBQXVCd0IsS0FBdkIsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBRUVVLFNBQVMsQ0FBQ0MsS0FBRCxDQUFRQyxHQUFSLENBQWEsbURBQ3BCLE1BQU8sTUFBS3BDLElBQUwsQ0FBVSxZQUFWLENBQXdCbUMsS0FBeEIsQ0FBK0JDLEdBQS9CLENBQVAsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FFRUMsSUFBSSxDQUFDUixFQUFELENBQUssbURBQ1BwQyxNQUFNLENBQUM2QyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JWLEVBQWhCLENBQUQsQ0FBTixDQURPLHlCQUVQLE1BQU8sTUFBSzdCLElBQUwsQ0FBVSxNQUFWLENBQWtCNkIsRUFBbEIsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFVyxTQUFTLENBQUNiLE1BQUQsQ0FBUyxtREFDaEJsQyxNQUFNLENBQUM2QyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JaLE1BQWhCLENBQUQsQ0FBTixDQURnQix5QkFFaEIsTUFBTyxNQUFLM0IsSUFBTCxDQUFVLFlBQVYsQ0FBd0IyQixNQUF4QixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBRUVjLFNBQVMsQ0FBQ0MsTUFBRCxDQUFTLG1EQUNoQixHQUFJLENBQUM1QixLQUFLLENBQUNDLE9BQU4sQ0FBYzJCLE1BQWQsQ0FBTCxDQUNFLHFEQUFBQSxNQUFNLENBQUcsQ0FBQ0EsTUFBRCxDQUFULENBQWtCLENBRHBCLGlDQURnQix5QkFJaEIsTUFBTyxNQUFLMUMsSUFBTCxDQUFVLFlBQVYsQ0FBd0IwQyxNQUF4QixDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQSxLQUVFQyxXQUFXLEVBQUcsbURBQ1osTUFBTyxNQUFLM0MsSUFBTCxDQUFVLGNBQVYsQ0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUVFNEMsV0FBVyxDQUFDQyxNQUFELENBQVMsbURBQ2xCcEQsTUFBTSxDQUFDLDRCQUFBb0QsTUFBTSxFQUFJLElBQVYsK0JBQWtCLE1BQU9BLENBQUFBLE1BQVAsR0FBa0IsUUFBcEMsQ0FBRCxDQUFOLENBQ0EsR0FBSUMsQ0FBQUEsS0FBSywyQkFBRyxNQUFILENBQVQsQ0FGa0IseUJBR2xCLEdBQUlELE1BQU0sRUFBSSxJQUFkLENBQ0UscURBQUFDLEtBQUssRUFBSyxXQUFVRCxNQUFPLEVBQTNCLENBQTZCLENBRC9CLGlDQUhrQix5QkFLbEIsTUFBTyxNQUFLckMsR0FBTCxDQUFTc0MsS0FBVCxDQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBRUVDLE1BQU0sQ0FBQ1osS0FBRCxDQUFRLG1EQUNaLEdBQUlBLEtBQUssRUFBSSxJQUFiLENBQ0UscURBQUFBLEtBQUssQ0FBRyxDQUFSLENBQVUsQ0FEWixpQ0FEWSx5QkFJWjFDLE1BQU0sQ0FBQyxrQ0FBTzBDLENBQUFBLEtBQVAsR0FBaUIsUUFBakIsK0JBQTZCLE1BQU9BLENBQUFBLEtBQVAsR0FBaUIsUUFBOUMsQ0FBRCxDQUFOLENBSlkseUJBTVosTUFBTyxNQUFLbkMsSUFBTCxDQUFVLFFBQVYsQ0FBb0JtQyxLQUFwQixDQUFQLENBQ0QsQ0F4UzZCLENBMlNoQztBQUNBO0FBQ0EsRyx5QkFFQWEsTUFBTSxDQUFDQyxPQUFQLENBQWlCckQsVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogbm9kZS5qcyAtIGh0dHAgbm9kZSBjbGllbnQgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNywgQ2hyaXN0b3BoZXIgSmVmZnJleSAoTUlUIExpY2Vuc2UpLlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmNvaW4tb3JnL2Jjb2luXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYnNlcnQnKTtcclxuY29uc3Qge0NsaWVudH0gPSByZXF1aXJlKCdiY3VybCcpO1xyXG5cclxuLyoqXHJcbiAqIE5vZGUgQ2xpZW50XHJcbiAqIEBleHRlbmRzIHtiY3VybC5DbGllbnR9XHJcbiAqL1xyXG5cclxuY2xhc3MgTm9kZUNsaWVudCBleHRlbmRzIENsaWVudCB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXQgYSBub2RlIGNsaWVudC5cclxuICAgKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnNcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdXRoIHdpdGggc2VydmVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBhc3luYyBhdXRoKCkge1xyXG4gICAgYXdhaXQgdGhpcy5jYWxsKCdhdXRoJywgdGhpcy5wYXNzd29yZCk7XHJcbiAgICBhd2FpdCB0aGlzLndhdGNoQ2hhaW4oKTtcclxuICAgIGF3YWl0IHRoaXMud2F0Y2hNZW1wb29sKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYWtlIGFuIFJQQyBjYWxsLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBleGVjdXRlKG5hbWUsIHBhcmFtcykge1xyXG4gICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGUoJy8nLCBuYW1lLCBwYXJhbXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgbWVtcG9vbCBzbmFwc2hvdC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgZ2V0TWVtcG9vbCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldCgnL21lbXBvb2wnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzb21lIGluZm8gYWJvdXQgdGhlIHNlcnZlciAobmV0d29yayBhbmQgdmVyc2lvbikuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldEluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXQoJy8nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjb2lucyB0aGF0IHBlcnRhaW4gdG8gYW4gYWRkcmVzcyBmcm9tIHRoZSBtZW1wb29sIG9yIGNoYWluIGRhdGFiYXNlLlxyXG4gICAqIFRha2VzIGludG8gYWNjb3VudCBzcGVudCBjb2lucyBpbiB0aGUgbWVtcG9vbC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYWRkcmVzc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBnZXRDb2luc0J5QWRkcmVzcyhhZGRyZXNzKSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIGFkZHJlc3MgPT09ICdzdHJpbmcnKTtcclxuICAgIHJldHVybiB0aGlzLmdldChgL2NvaW4vYWRkcmVzcy8ke2FkZHJlc3N9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY29pbnMgdGhhdCBwZXJ0YWluIHRvIGFkZHJlc3NlcyBmcm9tIHRoZSBtZW1wb29sIG9yIGNoYWluIGRhdGFiYXNlLlxyXG4gICAqIFRha2VzIGludG8gYWNjb3VudCBzcGVudCBjb2lucyBpbiB0aGUgbWVtcG9vbC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBhZGRyZXNzZXNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgZ2V0Q29pbnNCeUFkZHJlc3NlcyhhZGRyZXNzZXMpIHtcclxuICAgIGFzc2VydChBcnJheS5pc0FycmF5KGFkZHJlc3NlcykpO1xyXG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2NvaW4vYWRkcmVzcycsIHsgYWRkcmVzc2VzIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmUgYSBjb2luIGZyb20gdGhlIG1lbXBvb2wgb3IgY2hhaW4gZGF0YWJhc2UuXHJcbiAgICogVGFrZXMgaW50byBhY2NvdW50IHNwZW50IGNvaW5zIGluIHRoZSBtZW1wb29sLlxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBnZXRDb2luKGhhc2gsIGluZGV4KSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIGhhc2ggPT09ICdzdHJpbmcnKTtcclxuICAgIGFzc2VydCgoaW5kZXggPj4+IDApID09PSBpbmRleCk7XHJcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9jb2luLyR7aGFzaH0vJHtpbmRleH1gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlIHRyYW5zYWN0aW9ucyBwZXJ0YWluaW5nIHRvIGFuXHJcbiAgICogYWRkcmVzcyBmcm9tIHRoZSBtZW1wb29sIG9yIGNoYWluIGRhdGFiYXNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhZGRyZXNzXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldFRYQnlBZGRyZXNzKGFkZHJlc3MpIHtcclxuICAgIGFzc2VydCh0eXBlb2YgYWRkcmVzcyA9PT0gJ3N0cmluZycpO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvdHgvYWRkcmVzcy8ke2FkZHJlc3N9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZSB0cmFuc2FjdGlvbnMgcGVydGFpbmluZyB0b1xyXG4gICAqIGFkZHJlc3NlcyBmcm9tIHRoZSBtZW1wb29sIG9yIGNoYWluIGRhdGFiYXNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nW119IGFkZHJlc3Nlc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBnZXRUWEJ5QWRkcmVzc2VzKGFkZHJlc3Nlcykge1xyXG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkoYWRkcmVzc2VzKSk7XHJcbiAgICByZXR1cm4gdGhpcy5wb3N0KCcvdHgvYWRkcmVzcycsIHsgYWRkcmVzc2VzIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmUgYSB0cmFuc2FjdGlvbiBmcm9tIHRoZSBtZW1wb29sIG9yIGNoYWluIGRhdGFiYXNlLlxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBnZXRUWChoYXNoKSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIGhhc2ggPT09ICdzdHJpbmcnKTtcclxuICAgIHJldHVybiB0aGlzLmdldChgL3R4LyR7aGFzaH1gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlIGEgYmxvY2sgZnJvbSB0aGUgY2hhaW4gZGF0YWJhc2UuXHJcbiAgICogQHBhcmFtIHtIYXNofE51bWJlcn0gYmxvY2tcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgZ2V0QmxvY2soYmxvY2spIHtcclxuICAgIGFzc2VydCh0eXBlb2YgYmxvY2sgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBibG9jayA9PT0gJ251bWJlcicpO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0KGAvYmxvY2svJHtibG9ja31gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlIGEgYmxvY2sgaGVhZGVyLlxyXG4gICAqIEBwYXJhbSB7SGFzaHxOdW1iZXJ9IGJsb2NrXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldEJsb2NrSGVhZGVyKGJsb2NrKSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIGJsb2NrID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgYmxvY2sgPT09ICdudW1iZXInKTtcclxuICAgIHJldHVybiB0aGlzLmdldChgL2hlYWRlci8ke2Jsb2NrfWApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmVpdmUgYSBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIGluZGV4ZXIuXHJcbiAgICogQHBhcmFtIHtIYXNofE51bWJlcn0gZmlsdGVyXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldEZpbHRlcihmaWx0ZXIpIHtcclxuICAgIGFzc2VydCh0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZmlsdGVyID09PSAnbnVtYmVyJyk7XHJcbiAgICByZXR1cm4gdGhpcy5nZXQoYC9maWx0ZXIvJHtmaWx0ZXJ9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSB0cmFuc2FjdGlvbiB0byB0aGUgbWVtcG9vbCBhbmQgYnJvYWRjYXN0IGl0LlxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGJyb2FkY2FzdCh0eCkge1xyXG4gICAgYXNzZXJ0KHR5cGVvZiB0eCA9PT0gJ3N0cmluZycpO1xyXG4gICAgcmV0dXJuIHRoaXMucG9zdCgnL2Jyb2FkY2FzdCcsIHsgdHggfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNldCB0aGUgY2hhaW4uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICByZXNldChoZWlnaHQpIHtcclxuICAgIHJldHVybiB0aGlzLnBvc3QoJy9yZXNldCcsIHsgaGVpZ2h0IH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2F0Y2ggdGhlIGJsb2NrY2hhaW4uXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgd2F0Y2hDaGFpbigpIHtcclxuICAgIHJldHVybiB0aGlzLmNhbGwoJ3dhdGNoIGNoYWluJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXYXRjaCB0aGUgYmxvY2tjaGFpbi5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICB3YXRjaE1lbXBvb2woKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYWxsKCd3YXRjaCBtZW1wb29sJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2hhaW4gdGlwLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBnZXRUaXAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXQgdGlwJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY2hhaW4gZW50cnkuXHJcbiAgICogQHBhcmFtIHtIYXNofSBoYXNoXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldEVudHJ5KGJsb2NrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXQgZW50cnknLCBibG9jayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgaGFzaGVzLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9LTFdXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmQ9LTFdXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGdldEhhc2hlcyhzdGFydCwgZW5kKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXQgaGFzaGVzJywgc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZW5kIGEgdHJhbnNhY3Rpb24uIERvIG5vdCB3YWl0IGZvciBwcm9taXNlLlxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIHNlbmQodHgpIHtcclxuICAgIGFzc2VydChCdWZmZXIuaXNCdWZmZXIodHgpKTtcclxuICAgIHJldHVybiB0aGlzLmNhbGwoJ3NlbmQnLCB0eCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgYmxvb20gZmlsdGVyLlxyXG4gICAqIEBwYXJhbSB7Qmxvb219IGZpbHRlclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBzZXRGaWx0ZXIoZmlsdGVyKSB7XHJcbiAgICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKGZpbHRlcikpO1xyXG4gICAgcmV0dXJuIHRoaXMuY2FsbCgnc2V0IGZpbHRlcicsIGZpbHRlcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgZGF0YSB0byBmaWx0ZXIuXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGFcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYWRkRmlsdGVyKGNodW5rcykge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNodW5rcykpXHJcbiAgICAgIGNodW5rcyA9IFtjaHVua3NdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmNhbGwoJ2FkZCBmaWx0ZXInLCBjaHVua3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgZmlsdGVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICByZXNldEZpbHRlcigpIHtcclxuICAgIHJldHVybiB0aGlzLmNhbGwoJ3Jlc2V0IGZpbHRlcicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXN0aW1hdGUgc21hcnQgZmVlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyP30gYmxvY2tzXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGVzdGltYXRlRmVlKGJsb2Nrcykge1xyXG4gICAgYXNzZXJ0KGJsb2NrcyA9PSBudWxsIHx8IHR5cGVvZiBibG9ja3MgPT09ICdudW1iZXInKTtcclxuICAgIGxldCBxdWVyeSA9ICcvZmVlJztcclxuICAgIGlmIChibG9ja3MgIT0gbnVsbClcclxuICAgICAgcXVlcnkgKz0gYD9ibG9ja3M9JHtibG9ja3N9YDtcclxuICAgIHJldHVybiB0aGlzLmdldChxdWVyeSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNjYW4gZm9yIGFueSBtaXNzZWQgdHJhbnNhY3Rpb25zLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfEhhc2h9IHN0YXJ0IC0gU3RhcnQgYmxvY2suXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIHJlc2NhbihzdGFydCkge1xyXG4gICAgaWYgKHN0YXJ0ID09IG51bGwpXHJcbiAgICAgIHN0YXJ0ID0gMDtcclxuXHJcbiAgICBhc3NlcnQodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jYWxsKCdyZXNjYW4nLCBzdGFydCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKlxyXG4gKiBFeHBvc2VcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE5vZGVDbGllbnQ7XHJcbiJdfQ==