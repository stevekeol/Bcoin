/*!
 * records.js - walletdb records
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';/**
 * @module wallet/records
 */function cov_19vw1io4hp(){var path="E:\\Projects\\Test\\bcoin\\lib\\wallet\\records.js";var hash="49efcecd73e47e50bfc97dd82ddd302770e0d58c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\wallet\\records.js",statementMap:{"0":{start:{line:13,column:15},end:{line:13,column:31}},"1":{start:{line:14,column:12},end:{line:14,column:28}},"2":{start:{line:15,column:13},end:{line:15,column:37}},"3":{start:{line:16,column:11},end:{line:16,column:38}},"4":{start:{line:17,column:18},end:{line:17,column:50}},"5":{start:{line:30,column:4},end:{line:30,column:25}},"6":{start:{line:31,column:4},end:{line:31,column:41}},"7":{start:{line:32,column:4},end:{line:32,column:20}},"8":{start:{line:33,column:4},end:{line:33,column:24}},"9":{start:{line:42,column:18},end:{line:42,column:34}},"10":{start:{line:43,column:4},end:{line:43,column:41}},"11":{start:{line:44,column:4},end:{line:44,column:37}},"12":{start:{line:45,column:4},end:{line:45,column:31}},"13":{start:{line:46,column:4},end:{line:46,column:31}},"14":{start:{line:47,column:4},end:{line:47,column:17}},"15":{start:{line:57,column:15},end:{line:57,column:29}},"16":{start:{line:59,column:4},end:{line:59,column:36}},"17":{start:{line:60,column:4},end:{line:60,column:35}},"18":{start:{line:61,column:4},end:{line:61,column:31}},"19":{start:{line:62,column:4},end:{line:62,column:36}},"20":{start:{line:64,column:4},end:{line:64,column:16}},"21":{start:{line:75,column:4},end:{line:75,column:36}},"22":{start:{line:84,column:15},end:{line:84,column:28}},"23":{start:{line:86,column:4},end:{line:86,column:34}},"24":{start:{line:87,column:4},end:{line:87,column:33}},"25":{start:{line:88,column:4},end:{line:88,column:29}},"26":{start:{line:89,column:4},end:{line:89,column:36}},"27":{start:{line:91,column:4},end:{line:91,column:23}},"28":{start:{line:109,column:4},end:{line:109,column:44}},"29":{start:{line:110,column:4},end:{line:110,column:47}},"30":{start:{line:111,column:4},end:{line:111,column:26}},"31":{start:{line:120,column:4},end:{line:120,column:67}},"32":{start:{line:129,column:4},end:{line:129,column:21}},"33":{start:{line:139,column:4},end:{line:139,column:27}},"34":{start:{line:140,column:4},end:{line:140,column:31}},"35":{start:{line:141,column:4},end:{line:141,column:27}},"36":{start:{line:142,column:4},end:{line:142,column:16}},"37":{start:{line:152,column:4},end:{line:152,column:39}},"38":{start:{line:153,column:4},end:{line:153,column:30}},"39":{start:{line:154,column:4},end:{line:154,column:26}},"40":{start:{line:155,column:4},end:{line:155,column:16}},"41":{start:{line:165,column:15},end:{line:165,column:29}},"42":{start:{line:166,column:4},end:{line:166,column:30}},"43":{start:{line:167,column:4},end:{line:167,column:31}},"44":{start:{line:168,column:4},end:{line:168,column:29}},"45":{start:{line:169,column:4},end:{line:169,column:16}},"46":{start:{line:179,column:4},end:{line:179,column:39}},"47":{start:{line:189,column:4},end:{line:189,column:37}},"48":{start:{line:200,column:4},end:{line:200,column:36}},"49":{start:{line:209,column:15},end:{line:209,column:28}},"50":{start:{line:210,column:4},end:{line:210,column:28}},"51":{start:{line:211,column:4},end:{line:211,column:29}},"52":{start:{line:212,column:4},end:{line:212,column:27}},"53":{start:{line:213,column:4},end:{line:213,column:23}},"54":{start:{line:222,column:4},end:{line:226,column:6}},"55":{start:{line:243,column:4},end:{line:243,column:19}},"56":{start:{line:244,column:4},end:{line:244,column:21}},"57":{start:{line:245,column:4},end:{line:245,column:28}},"58":{start:{line:246,column:4},end:{line:246,column:21}},"59":{start:{line:247,column:4},end:{line:247,column:22}},"60":{start:{line:248,column:4},end:{line:248,column:20}},"61":{start:{line:249,column:4},end:{line:249,column:18}},"62":{start:{line:251,column:4},end:{line:252,column:29}},"63":{start:{line:252,column:6},end:{line:252,column:29}},"64":{start:{line:264,column:4},end:{line:264,column:17}},"65":{start:{line:265,column:4},end:{line:265,column:26}},"66":{start:{line:267,column:4},end:{line:268,column:27}},"67":{start:{line:268,column:6},end:{line:268,column:27}},"68":{start:{line:270,column:4},end:{line:270,column:16}},"69":{start:{line:281,column:4},end:{line:281,column:40}},"70":{start:{line:290,column:4},end:{line:290,column:31}},"71":{start:{line:291,column:4},end:{line:291,column:28}},"72":{start:{line:292,column:4},end:{line:292,column:27}},"73":{start:{line:300,column:4},end:{line:300,column:21}},"74":{start:{line:301,column:4},end:{line:301,column:22}},"75":{start:{line:302,column:4},end:{line:302,column:18}},"76":{start:{line:311,column:4},end:{line:312,column:18}},"77":{start:{line:312,column:6},end:{line:312,column:18}},"78":{start:{line:314,column:4},end:{line:314,column:61}},"79":{start:{line:324,column:4},end:{line:324,column:63}},"80":{start:{line:326,column:4},end:{line:327,column:15}},"81":{start:{line:327,column:6},end:{line:327,column:15}},"82":{start:{line:329,column:4},end:{line:330,column:15}},"83":{start:{line:330,column:6},end:{line:330,column:15}},"84":{start:{line:332,column:4},end:{line:332,column:36}},"85":{start:{line:341,column:15},end:{line:341,column:16}},"86":{start:{line:343,column:4},end:{line:343,column:30}},"87":{start:{line:344,column:4},end:{line:344,column:14}},"88":{start:{line:346,column:4},end:{line:352,column:5}},"89":{start:{line:347,column:6},end:{line:347,column:16}},"90":{start:{line:348,column:6},end:{line:348,column:17}},"91":{start:{line:349,column:6},end:{line:349,column:20}},"92":{start:{line:351,column:6},end:{line:351,column:16}},"93":{start:{line:354,column:4},end:{line:354,column:16}},"94":{start:{line:363,column:17},end:{line:363,column:31}},"95":{start:{line:364,column:15},end:{line:364,column:30}},"96":{start:{line:366,column:16},end:{line:366,column:26}},"97":{start:{line:368,column:4},end:{line:368,column:25}},"98":{start:{line:370,column:4},end:{line:370,column:28}},"99":{start:{line:372,column:4},end:{line:383,column:5}},"100":{start:{line:373,column:6},end:{line:374,column:27}},"101":{start:{line:374,column:8},end:{line:374,column:27}},"102":{start:{line:376,column:6},end:{line:376,column:20}},"103":{start:{line:377,column:6},end:{line:377,column:31}},"104":{start:{line:378,column:6},end:{line:378,column:31}},"105":{start:{line:379,column:6},end:{line:379,column:29}},"106":{start:{line:380,column:6},end:{line:380,column:25}},"107":{start:{line:382,column:6},end:{line:382,column:20}},"108":{start:{line:385,column:4},end:{line:385,column:23}},"109":{start:{line:395,column:15},end:{line:395,column:29}},"110":{start:{line:397,column:4},end:{line:397,column:23}},"111":{start:{line:398,column:4},end:{line:398,column:27}},"112":{start:{line:400,column:4},end:{line:400,column:31}},"113":{start:{line:401,column:4},end:{line:401,column:30}},"114":{start:{line:403,column:4},end:{line:410,column:5}},"115":{start:{line:404,column:6},end:{line:404,column:33}},"116":{start:{line:405,column:6},end:{line:405,column:33}},"117":{start:{line:406,column:6},end:{line:406,column:31}},"118":{start:{line:407,column:6},end:{line:407,column:32}},"119":{start:{line:408,column:6},end:{line:409,column:24}},"120":{start:{line:409,column:8},end:{line:409,column:24}},"121":{start:{line:412,column:4},end:{line:412,column:16}},"122":{start:{line:423,column:4},end:{line:423,column:36}},"123":{start:{line:438,column:4},end:{line:438,column:26}},"124":{start:{line:442,column:4},end:{line:443,column:19}},"125":{start:{line:443,column:6},end:{line:443,column:19}},"126":{start:{line:445,column:4},end:{line:445,column:23}},"127":{start:{line:447,column:4},end:{line:447,column:16}},"128":{start:{line:451,column:4},end:{line:451,column:33}},"129":{start:{line:455,column:4},end:{line:455,column:32}},"130":{start:{line:457,column:4},end:{line:458,column:23}},"131":{start:{line:458,column:6},end:{line:458,column:23}},"132":{start:{line:460,column:4},end:{line:460,column:14}},"133":{start:{line:464,column:4},end:{line:464,column:34}},"134":{start:{line:468,column:17},end:{line:468,column:31}},"135":{start:{line:469,column:4},end:{line:469,column:51}},"136":{start:{line:473,column:18},end:{line:473,column:30}},"137":{start:{line:475,column:4},end:{line:476,column:34}},"138":{start:{line:475,column:17},end:{line:475,column:18}},"139":{start:{line:476,column:6},end:{line:476,column:34}},"140":{start:{line:478,column:4},end:{line:478,column:16}},"141":{start:{line:482,column:4},end:{line:482,column:43}},"142":{start:{line:486,column:4},end:{line:486,column:37}},"143":{start:{line:490,column:4},end:{line:490,column:36}},"144":{start:{line:498,column:0},end:{line:498,column:32}},"145":{start:{line:499,column:0},end:{line:499,column:30}},"146":{start:{line:500,column:0},end:{line:500,column:28}},"147":{start:{line:501,column:0},end:{line:501,column:30}},"148":{start:{line:503,column:0},end:{line:503,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:16},end:{line:34,column:3}},line:29},"1":{name:"(anonymous_1)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:10},end:{line:48,column:3}},line:41},"2":{name:"(anonymous_2)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:16},end:{line:65,column:3}},line:56},"3":{name:"(anonymous_3)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:23},end:{line:76,column:3}},line:74},"4":{name:"(anonymous_4)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:10},end:{line:92,column:3}},line:83},"5":{name:"(anonymous_5)",decl:{start:{line:108,column:2},end:{line:108,column:3}},loc:{start:{line:108,column:34},end:{line:112,column:3}},line:108},"6":{name:"(anonymous_6)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:10},end:{line:121,column:3}},line:119},"7":{name:"(anonymous_7)",decl:{start:{line:128,column:2},end:{line:128,column:3}},loc:{start:{line:128,column:11},end:{line:130,column:3}},line:128},"8":{name:"(anonymous_8)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:19},end:{line:143,column:3}},line:138},"9":{name:"(anonymous_9)",decl:{start:{line:151,column:2},end:{line:151,column:3}},loc:{start:{line:151,column:17},end:{line:156,column:3}},line:151},"10":{name:"(anonymous_10)",decl:{start:{line:164,column:2},end:{line:164,column:3}},loc:{start:{line:164,column:16},end:{line:170,column:3}},line:164},"11":{name:"(anonymous_11)",decl:{start:{line:178,column:2},end:{line:178,column:3}},loc:{start:{line:178,column:26},end:{line:180,column:3}},line:178},"12":{name:"(anonymous_12)",decl:{start:{line:188,column:2},end:{line:188,column:3}},loc:{start:{line:188,column:24},end:{line:190,column:3}},line:188},"13":{name:"(anonymous_13)",decl:{start:{line:199,column:2},end:{line:199,column:3}},loc:{start:{line:199,column:23},end:{line:201,column:3}},line:199},"14":{name:"(anonymous_14)",decl:{start:{line:208,column:2},end:{line:208,column:3}},loc:{start:{line:208,column:10},end:{line:214,column:3}},line:208},"15":{name:"(anonymous_15)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:227,column:3}},line:221},"16":{name:"(anonymous_16)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:25},end:{line:253,column:3}},line:242},"17":{name:"(anonymous_17)",decl:{start:{line:263,column:2},end:{line:263,column:3}},loc:{start:{line:263,column:20},end:{line:271,column:3}},line:263},"18":{name:"(anonymous_18)",decl:{start:{line:280,column:2},end:{line:280,column:3}},loc:{start:{line:280,column:27},end:{line:282,column:3}},line:280},"19":{name:"(anonymous_19)",decl:{start:{line:289,column:2},end:{line:289,column:3}},loc:{start:{line:289,column:18},end:{line:293,column:3}},line:289},"20":{name:"(anonymous_20)",decl:{start:{line:299,column:2},end:{line:299,column:3}},loc:{start:{line:299,column:15},end:{line:303,column:3}},line:299},"21":{name:"(anonymous_21)",decl:{start:{line:310,column:2},end:{line:310,column:3}},loc:{start:{line:310,column:13},end:{line:315,column:3}},line:310},"22":{name:"(anonymous_22)",decl:{start:{line:323,column:2},end:{line:323,column:3}},loc:{start:{line:323,column:19},end:{line:333,column:3}},line:323},"23":{name:"(anonymous_23)",decl:{start:{line:340,column:2},end:{line:340,column:3}},loc:{start:{line:340,column:12},end:{line:355,column:3}},line:340},"24":{name:"(anonymous_24)",decl:{start:{line:362,column:2},end:{line:362,column:3}},loc:{start:{line:362,column:10},end:{line:386,column:3}},line:362},"25":{name:"(anonymous_25)",decl:{start:{line:394,column:2},end:{line:394,column:3}},loc:{start:{line:394,column:16},end:{line:413,column:3}},line:394},"26":{name:"(anonymous_26)",decl:{start:{line:422,column:2},end:{line:422,column:3}},loc:{start:{line:422,column:23},end:{line:424,column:3}},line:422},"27":{name:"(anonymous_27)",decl:{start:{line:437,column:2},end:{line:437,column:3}},loc:{start:{line:437,column:16},end:{line:439,column:3}},line:437},"28":{name:"(anonymous_28)",decl:{start:{line:441,column:2},end:{line:441,column:3}},loc:{start:{line:441,column:11},end:{line:448,column:3}},line:441},"29":{name:"(anonymous_29)",decl:{start:{line:450,column:2},end:{line:450,column:3}},loc:{start:{line:450,column:14},end:{line:452,column:3}},line:450},"30":{name:"(anonymous_30)",decl:{start:{line:454,column:2},end:{line:454,column:3}},loc:{start:{line:454,column:15},end:{line:461,column:3}},line:454},"31":{name:"(anonymous_31)",decl:{start:{line:463,column:2},end:{line:463,column:3}},loc:{start:{line:463,column:12},end:{line:465,column:3}},line:463},"32":{name:"(anonymous_32)",decl:{start:{line:467,column:2},end:{line:467,column:3}},loc:{start:{line:467,column:10},end:{line:470,column:3}},line:467},"33":{name:"(anonymous_33)",decl:{start:{line:472,column:2},end:{line:472,column:3}},loc:{start:{line:472,column:17},end:{line:479,column:3}},line:472},"34":{name:"(anonymous_34)",decl:{start:{line:481,column:2},end:{line:481,column:3}},loc:{start:{line:481,column:16},end:{line:483,column:3}},line:481},"35":{name:"(anonymous_35)",decl:{start:{line:485,column:2},end:{line:485,column:3}},loc:{start:{line:485,column:24},end:{line:487,column:3}},line:485},"36":{name:"(anonymous_36)",decl:{start:{line:489,column:2},end:{line:489,column:3}},loc:{start:{line:489,column:23},end:{line:491,column:3}},line:489}},branchMap:{"0":{loc:{start:{line:89,column:15},end:{line:89,column:34}},type:"cond-expr",locations:[{start:{line:89,column:29},end:{line:89,column:30}},{start:{line:89,column:33},end:{line:89,column:34}}],line:89},"1":{loc:{start:{line:109,column:16},end:{line:109,column:43}},type:"binary-expr",locations:[{start:{line:109,column:16},end:{line:109,column:20}},{start:{line:109,column:24},end:{line:109,column:43}}],line:109},"2":{loc:{start:{line:110,column:18},end:{line:110,column:46}},type:"cond-expr",locations:[{start:{line:110,column:35},end:{line:110,column:41}},{start:{line:110,column:44},end:{line:110,column:46}}],line:110},"3":{loc:{start:{line:111,column:16},end:{line:111,column:25}},type:"binary-expr",locations:[{start:{line:111,column:16},end:{line:111,column:20}},{start:{line:111,column:24},end:{line:111,column:25}}],line:111},"4":{loc:{start:{line:251,column:4},end:{line:252,column:29}},type:"if",locations:[{start:{line:251,column:4},end:{line:252,column:29}},{start:{line:251,column:4},end:{line:252,column:29}}],line:251},"5":{loc:{start:{line:267,column:4},end:{line:268,column:27}},type:"if",locations:[{start:{line:267,column:4},end:{line:268,column:27}},{start:{line:267,column:4},end:{line:268,column:27}}],line:267},"6":{loc:{start:{line:311,column:4},end:{line:312,column:18}},type:"if",locations:[{start:{line:311,column:4},end:{line:312,column:18}},{start:{line:311,column:4},end:{line:312,column:18}}],line:311},"7":{loc:{start:{line:326,column:4},end:{line:327,column:15}},type:"if",locations:[{start:{line:326,column:4},end:{line:327,column:15}},{start:{line:326,column:4},end:{line:327,column:15}}],line:326},"8":{loc:{start:{line:329,column:4},end:{line:330,column:15}},type:"if",locations:[{start:{line:329,column:4},end:{line:330,column:15}},{start:{line:329,column:4},end:{line:330,column:15}}],line:329},"9":{loc:{start:{line:346,column:4},end:{line:352,column:5}},type:"if",locations:[{start:{line:346,column:4},end:{line:352,column:5}},{start:{line:346,column:4},end:{line:352,column:5}}],line:346},"10":{loc:{start:{line:372,column:4},end:{line:383,column:5}},type:"if",locations:[{start:{line:372,column:4},end:{line:383,column:5}},{start:{line:372,column:4},end:{line:383,column:5}}],line:372},"11":{loc:{start:{line:373,column:6},end:{line:374,column:27}},type:"if",locations:[{start:{line:373,column:6},end:{line:374,column:27}},{start:{line:373,column:6},end:{line:374,column:27}}],line:373},"12":{loc:{start:{line:403,column:4},end:{line:410,column:5}},type:"if",locations:[{start:{line:403,column:4},end:{line:410,column:5}},{start:{line:403,column:4},end:{line:410,column:5}}],line:403},"13":{loc:{start:{line:408,column:6},end:{line:409,column:24}},type:"if",locations:[{start:{line:408,column:6},end:{line:409,column:24}},{start:{line:408,column:6},end:{line:409,column:24}}],line:408},"14":{loc:{start:{line:442,column:4},end:{line:443,column:19}},type:"if",locations:[{start:{line:442,column:4},end:{line:443,column:19}},{start:{line:442,column:4},end:{line:443,column:19}}],line:442}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"49efcecd73e47e50bfc97dd82ddd302770e0d58c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_19vw1io4hp=function(){return actualCoverage;};}return actualCoverage;}cov_19vw1io4hp();const assert=(cov_19vw1io4hp().s[0]++,require('bsert'));const bio=(cov_19vw1io4hp().s[1]++,require('bufio'));const util=(cov_19vw1io4hp().s[2]++,require('../utils/util'));const TX=(cov_19vw1io4hp().s[3]++,require('../primitives/tx'));const consensus=(cov_19vw1io4hp().s[4]++,require('../protocol/consensus'));/**
 * Chain State
 */class ChainState{/**
   * Create a chain state.
   * @constructor
   */constructor(){cov_19vw1io4hp().f[0]++;cov_19vw1io4hp().s[5]++;this.startHeight=0;cov_19vw1io4hp().s[6]++;this.startHash=consensus.ZERO_HASH;cov_19vw1io4hp().s[7]++;this.height=0;cov_19vw1io4hp().s[8]++;this.marked=false;}/**
   * Clone the state.
   * @returns {ChainState}
   */clone(){cov_19vw1io4hp().f[1]++;const state=(cov_19vw1io4hp().s[9]++,new ChainState());cov_19vw1io4hp().s[10]++;state.startHeight=this.startHeight;cov_19vw1io4hp().s[11]++;state.startHash=this.startHash;cov_19vw1io4hp().s[12]++;state.height=this.height;cov_19vw1io4hp().s[13]++;state.marked=this.marked;cov_19vw1io4hp().s[14]++;return state;}/**
   * Inject properties from serialized data.
   * @private
   * @param {Buffer} data
   */fromRaw(data){cov_19vw1io4hp().f[2]++;const br=(cov_19vw1io4hp().s[15]++,bio.read(data));cov_19vw1io4hp().s[16]++;this.startHeight=br.readU32();cov_19vw1io4hp().s[17]++;this.startHash=br.readHash();cov_19vw1io4hp().s[18]++;this.height=br.readU32();cov_19vw1io4hp().s[19]++;this.marked=br.readU8()===1;cov_19vw1io4hp().s[20]++;return this;}/**
   * Instantiate chain state from serialized data.
   * @param {Hash} hash
   * @param {Buffer} data
   * @returns {ChainState}
   */static fromRaw(data){cov_19vw1io4hp().f[3]++;cov_19vw1io4hp().s[21]++;return new this().fromRaw(data);}/**
   * Serialize the chain state.
   * @returns {Buffer}
   */toRaw(){cov_19vw1io4hp().f[4]++;const bw=(cov_19vw1io4hp().s[22]++,bio.write(41));cov_19vw1io4hp().s[23]++;bw.writeU32(this.startHeight);cov_19vw1io4hp().s[24]++;bw.writeHash(this.startHash);cov_19vw1io4hp().s[25]++;bw.writeU32(this.height);cov_19vw1io4hp().s[26]++;bw.writeU8(this.marked?(cov_19vw1io4hp().b[0][0]++,1):(cov_19vw1io4hp().b[0][1]++,0));cov_19vw1io4hp().s[27]++;return bw.render();}}/**
 * Block Meta
 */class BlockMeta{/**
   * Create block meta.
   * @constructor
   * @param {Hash} hash
   * @param {Number} height
   * @param {Number} time
   */constructor(hash,height,time){cov_19vw1io4hp().f[5]++;cov_19vw1io4hp().s[28]++;this.hash=(cov_19vw1io4hp().b[1][0]++,hash)||(cov_19vw1io4hp().b[1][1]++,consensus.ZERO_HASH);cov_19vw1io4hp().s[29]++;this.height=height!=null?(cov_19vw1io4hp().b[2][0]++,height):(cov_19vw1io4hp().b[2][1]++,-1);cov_19vw1io4hp().s[30]++;this.time=(cov_19vw1io4hp().b[3][0]++,time)||(cov_19vw1io4hp().b[3][1]++,0);}/**
   * Clone the block.
   * @returns {BlockMeta}
   */clone(){cov_19vw1io4hp().f[6]++;cov_19vw1io4hp().s[31]++;return new this.constructor(this.hash,this.height,this.time);}/**
   * Get block meta hash as a buffer.
   * @returns {Buffer}
   */toHash(){cov_19vw1io4hp().f[7]++;cov_19vw1io4hp().s[32]++;return this.hash;}/**
   * Instantiate block meta from chain entry.
   * @private
   * @param {ChainEntry} entry
   */fromEntry(entry){cov_19vw1io4hp().f[8]++;cov_19vw1io4hp().s[33]++;this.hash=entry.hash;cov_19vw1io4hp().s[34]++;this.height=entry.height;cov_19vw1io4hp().s[35]++;this.time=entry.time;cov_19vw1io4hp().s[36]++;return this;}/**
   * Instantiate block meta from json object.
   * @private
   * @param {Object} json
   */fromJSON(json){cov_19vw1io4hp().f[9]++;cov_19vw1io4hp().s[37]++;this.hash=util.revHex(json.hash);cov_19vw1io4hp().s[38]++;this.height=json.height;cov_19vw1io4hp().s[39]++;this.time=json.time;cov_19vw1io4hp().s[40]++;return this;}/**
   * Instantiate block meta from serialized tip data.
   * @private
   * @param {Buffer} data
   */fromRaw(data){cov_19vw1io4hp().f[10]++;const br=(cov_19vw1io4hp().s[41]++,bio.read(data));cov_19vw1io4hp().s[42]++;this.hash=br.readHash();cov_19vw1io4hp().s[43]++;this.height=br.readU32();cov_19vw1io4hp().s[44]++;this.time=br.readU32();cov_19vw1io4hp().s[45]++;return this;}/**
   * Instantiate block meta from chain entry.
   * @param {ChainEntry} entry
   * @returns {BlockMeta}
   */static fromEntry(entry){cov_19vw1io4hp().f[11]++;cov_19vw1io4hp().s[46]++;return new this().fromEntry(entry);}/**
   * Instantiate block meta from json object.
   * @param {Object} json
   * @returns {BlockMeta}
   */static fromJSON(json){cov_19vw1io4hp().f[12]++;cov_19vw1io4hp().s[47]++;return new this().fromJSON(json);}/**
   * Instantiate block meta from serialized data.
   * @param {Hash} hash
   * @param {Buffer} data
   * @returns {BlockMeta}
   */static fromRaw(data){cov_19vw1io4hp().f[13]++;cov_19vw1io4hp().s[48]++;return new this().fromRaw(data);}/**
   * Serialize the block meta.
   * @returns {Buffer}
   */toRaw(){cov_19vw1io4hp().f[14]++;const bw=(cov_19vw1io4hp().s[49]++,bio.write(42));cov_19vw1io4hp().s[50]++;bw.writeHash(this.hash);cov_19vw1io4hp().s[51]++;bw.writeU32(this.height);cov_19vw1io4hp().s[52]++;bw.writeU32(this.time);cov_19vw1io4hp().s[53]++;return bw.render();}/**
   * Convert the block meta to a more json-friendly object.
   * @returns {Object}
   */toJSON(){cov_19vw1io4hp().f[15]++;cov_19vw1io4hp().s[54]++;return{hash:util.revHex(this.hash),height:this.height,time:this.time};}}/**
 * TX Record
 */class TXRecord{/**
   * Create tx record.
   * @constructor
   * @param {TX} tx
   * @param {BlockMeta?} block
   */constructor(tx,block){cov_19vw1io4hp().f[16]++;cov_19vw1io4hp().s[55]++;this.tx=null;cov_19vw1io4hp().s[56]++;this.hash=null;cov_19vw1io4hp().s[57]++;this.mtime=util.now();cov_19vw1io4hp().s[58]++;this.height=-1;cov_19vw1io4hp().s[59]++;this.block=null;cov_19vw1io4hp().s[60]++;this.index=-1;cov_19vw1io4hp().s[61]++;this.time=0;cov_19vw1io4hp().s[62]++;if(tx){cov_19vw1io4hp().b[4][0]++;cov_19vw1io4hp().s[63]++;this.fromTX(tx,block);}else{cov_19vw1io4hp().b[4][1]++;}}/**
   * Inject properties from tx and block.
   * @private
   * @param {TX} tx
   * @param {Block?} block
   * @returns {TXRecord}
   */fromTX(tx,block){cov_19vw1io4hp().f[17]++;cov_19vw1io4hp().s[64]++;this.tx=tx;cov_19vw1io4hp().s[65]++;this.hash=tx.hash();cov_19vw1io4hp().s[66]++;if(block){cov_19vw1io4hp().b[5][0]++;cov_19vw1io4hp().s[67]++;this.setBlock(block);}else{cov_19vw1io4hp().b[5][1]++;}cov_19vw1io4hp().s[68]++;return this;}/**
   * Instantiate tx record from tx and block.
   * @param {TX} tx
   * @param {Block?} block
   * @returns {TXRecord}
   */static fromTX(tx,block){cov_19vw1io4hp().f[18]++;cov_19vw1io4hp().s[69]++;return new this().fromTX(tx,block);}/**
   * Set block data (confirm).
   * @param {BlockMeta} block
   */setBlock(block){cov_19vw1io4hp().f[19]++;cov_19vw1io4hp().s[70]++;this.height=block.height;cov_19vw1io4hp().s[71]++;this.block=block.hash;cov_19vw1io4hp().s[72]++;this.time=block.time;}/**
   * Unset block (unconfirm).
   */unsetBlock(){cov_19vw1io4hp().f[20]++;cov_19vw1io4hp().s[73]++;this.height=-1;cov_19vw1io4hp().s[74]++;this.block=null;cov_19vw1io4hp().s[75]++;this.time=0;}/**
   * Convert tx record to a block meta.
   * @returns {BlockMeta}
   */getBlock(){cov_19vw1io4hp().f[21]++;cov_19vw1io4hp().s[76]++;if(this.height===-1){cov_19vw1io4hp().b[6][0]++;cov_19vw1io4hp().s[77]++;return null;}else{cov_19vw1io4hp().b[6][1]++;}cov_19vw1io4hp().s[78]++;return new BlockMeta(this.block,this.height,this.time);}/**
   * Calculate current number of transaction confirmations.
   * @param {Number} height - Current chain height.
   * @returns {Number} confirmations
   */getDepth(height){cov_19vw1io4hp().f[22]++;cov_19vw1io4hp().s[79]++;assert(typeof height==='number','Must pass in height.');cov_19vw1io4hp().s[80]++;if(this.height===-1){cov_19vw1io4hp().b[7][0]++;cov_19vw1io4hp().s[81]++;return 0;}else{cov_19vw1io4hp().b[7][1]++;}cov_19vw1io4hp().s[82]++;if(height<this.height){cov_19vw1io4hp().b[8][0]++;cov_19vw1io4hp().s[83]++;return 0;}else{cov_19vw1io4hp().b[8][1]++;}cov_19vw1io4hp().s[84]++;return height-this.height+1;}/**
   * Get serialization size.
   * @returns {Number}
   */getSize(){cov_19vw1io4hp().f[23]++;let size=(cov_19vw1io4hp().s[85]++,0);cov_19vw1io4hp().s[86]++;size+=this.tx.getSize();cov_19vw1io4hp().s[87]++;size+=4;cov_19vw1io4hp().s[88]++;if(this.block){cov_19vw1io4hp().b[9][0]++;cov_19vw1io4hp().s[89]++;size+=1;cov_19vw1io4hp().s[90]++;size+=32;cov_19vw1io4hp().s[91]++;size+=4*3;}else{cov_19vw1io4hp().b[9][1]++;cov_19vw1io4hp().s[92]++;size+=1;}cov_19vw1io4hp().s[93]++;return size;}/**
   * Serialize a transaction to "extended format".
   * @returns {Buffer}
   */toRaw(){cov_19vw1io4hp().f[24]++;const size=(cov_19vw1io4hp().s[94]++,this.getSize());const bw=(cov_19vw1io4hp().s[95]++,bio.write(size));let index=(cov_19vw1io4hp().s[96]++,this.index);cov_19vw1io4hp().s[97]++;this.tx.toWriter(bw);cov_19vw1io4hp().s[98]++;bw.writeU32(this.mtime);cov_19vw1io4hp().s[99]++;if(this.block){cov_19vw1io4hp().b[10][0]++;cov_19vw1io4hp().s[100]++;if(index===-1){cov_19vw1io4hp().b[11][0]++;cov_19vw1io4hp().s[101]++;index=0x7fffffff;}else{cov_19vw1io4hp().b[11][1]++;}cov_19vw1io4hp().s[102]++;bw.writeU8(1);cov_19vw1io4hp().s[103]++;bw.writeHash(this.block);cov_19vw1io4hp().s[104]++;bw.writeU32(this.height);cov_19vw1io4hp().s[105]++;bw.writeU32(this.time);cov_19vw1io4hp().s[106]++;bw.writeU32(index);}else{cov_19vw1io4hp().b[10][1]++;cov_19vw1io4hp().s[107]++;bw.writeU8(0);}cov_19vw1io4hp().s[108]++;return bw.render();}/**
   * Inject properties from "extended" format.
   * @private
   * @param {Buffer} data
   */fromRaw(data){cov_19vw1io4hp().f[25]++;const br=(cov_19vw1io4hp().s[109]++,bio.read(data));cov_19vw1io4hp().s[110]++;this.tx=new TX();cov_19vw1io4hp().s[111]++;this.tx.fromReader(br);cov_19vw1io4hp().s[112]++;this.hash=this.tx.hash();cov_19vw1io4hp().s[113]++;this.mtime=br.readU32();cov_19vw1io4hp().s[114]++;if(br.readU8()===1){cov_19vw1io4hp().b[12][0]++;cov_19vw1io4hp().s[115]++;this.block=br.readHash();cov_19vw1io4hp().s[116]++;this.height=br.readU32();cov_19vw1io4hp().s[117]++;this.time=br.readU32();cov_19vw1io4hp().s[118]++;this.index=br.readU32();cov_19vw1io4hp().s[119]++;if(this.index===0x7fffffff){cov_19vw1io4hp().b[13][0]++;cov_19vw1io4hp().s[120]++;this.index=-1;}else{cov_19vw1io4hp().b[13][1]++;}}else{cov_19vw1io4hp().b[12][1]++;}cov_19vw1io4hp().s[121]++;return this;}/**
   * Instantiate a transaction from a buffer
   * in "extended" serialization format.
   * @param {Buffer} data
   * @returns {TX}
   */static fromRaw(data){cov_19vw1io4hp().f[26]++;cov_19vw1io4hp().s[122]++;return new this().fromRaw(data);}}/**
 * Map Record
 */class MapRecord{/**
   * Create map record.
   * @constructor
   */constructor(){cov_19vw1io4hp().f[27]++;cov_19vw1io4hp().s[123]++;this.wids=new Set();}add(wid){cov_19vw1io4hp().f[28]++;cov_19vw1io4hp().s[124]++;if(this.wids.has(wid)){cov_19vw1io4hp().b[14][0]++;cov_19vw1io4hp().s[125]++;return false;}else{cov_19vw1io4hp().b[14][1]++;}cov_19vw1io4hp().s[126]++;this.wids.add(wid);cov_19vw1io4hp().s[127]++;return true;}remove(wid){cov_19vw1io4hp().f[29]++;cov_19vw1io4hp().s[128]++;return this.wids.delete(wid);}toWriter(bw){cov_19vw1io4hp().f[30]++;cov_19vw1io4hp().s[129]++;bw.writeU32(this.wids.size);cov_19vw1io4hp().s[130]++;for(const wid of this.wids){cov_19vw1io4hp().s[131]++;bw.writeU32(wid);}cov_19vw1io4hp().s[132]++;return bw;}getSize(){cov_19vw1io4hp().f[31]++;cov_19vw1io4hp().s[133]++;return 4+this.wids.size*4;}toRaw(){cov_19vw1io4hp().f[32]++;const size=(cov_19vw1io4hp().s[134]++,this.getSize());cov_19vw1io4hp().s[135]++;return this.toWriter(bio.write(size)).render();}fromReader(br){cov_19vw1io4hp().f[33]++;const count=(cov_19vw1io4hp().s[136]++,br.readU32());cov_19vw1io4hp().s[137]++;for(let i=(cov_19vw1io4hp().s[138]++,0);i<count;i++){cov_19vw1io4hp().s[139]++;this.wids.add(br.readU32());}cov_19vw1io4hp().s[140]++;return this;}fromRaw(data){cov_19vw1io4hp().f[34]++;cov_19vw1io4hp().s[141]++;return this.fromReader(bio.read(data));}static fromReader(br){cov_19vw1io4hp().f[35]++;cov_19vw1io4hp().s[142]++;return new this().fromReader(br);}static fromRaw(data){cov_19vw1io4hp().f[36]++;cov_19vw1io4hp().s[143]++;return new this().fromRaw(data);}}/*
 * Expose
 */cov_19vw1io4hp().s[144]++;exports.ChainState=ChainState;cov_19vw1io4hp().s[145]++;exports.BlockMeta=BlockMeta;cov_19vw1io4hp().s[146]++;exports.TXRecord=TXRecord;cov_19vw1io4hp().s[147]++;exports.MapRecord=MapRecord;cov_19vw1io4hp().s[148]++;module.exports=exports;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuanMiXSwibmFtZXMiOlsiYXNzZXJ0IiwicmVxdWlyZSIsImJpbyIsInV0aWwiLCJUWCIsImNvbnNlbnN1cyIsIkNoYWluU3RhdGUiLCJjb25zdHJ1Y3RvciIsInN0YXJ0SGVpZ2h0Iiwic3RhcnRIYXNoIiwiWkVST19IQVNIIiwiaGVpZ2h0IiwibWFya2VkIiwiY2xvbmUiLCJzdGF0ZSIsImZyb21SYXciLCJkYXRhIiwiYnIiLCJyZWFkIiwicmVhZFUzMiIsInJlYWRIYXNoIiwicmVhZFU4IiwidG9SYXciLCJidyIsIndyaXRlIiwid3JpdGVVMzIiLCJ3cml0ZUhhc2giLCJ3cml0ZVU4IiwicmVuZGVyIiwiQmxvY2tNZXRhIiwiaGFzaCIsInRpbWUiLCJ0b0hhc2giLCJmcm9tRW50cnkiLCJlbnRyeSIsImZyb21KU09OIiwianNvbiIsInJldkhleCIsInRvSlNPTiIsIlRYUmVjb3JkIiwidHgiLCJibG9jayIsIm10aW1lIiwibm93IiwiaW5kZXgiLCJmcm9tVFgiLCJzZXRCbG9jayIsInVuc2V0QmxvY2siLCJnZXRCbG9jayIsImdldERlcHRoIiwiZ2V0U2l6ZSIsInNpemUiLCJ0b1dyaXRlciIsImZyb21SZWFkZXIiLCJNYXBSZWNvcmQiLCJ3aWRzIiwiU2V0IiwiYWRkIiwid2lkIiwiaGFzIiwicmVtb3ZlIiwiZGVsZXRlIiwiY291bnQiLCJpIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUVBLGFBRUE7QUFDQTtBQUNBLEcsKzNsQkFLWTsyRkFIWixLQUFNQSxDQUFBQSxNQUFNLDBCQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVosQ0FDQSxLQUFNQyxDQUFBQSxHQUFHLDBCQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVQsQ0FDQSxLQUFNRSxDQUFBQSxJQUFJLDBCQUFHRixPQUFPLENBQUMsZUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRyxDQUFBQSxFQUFFLDBCQUFH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NEJBQUcsQ0FBSCxDQUFWLENBQWdCQSxDQUFDLENBQUdELEtBQXBCLENBQTJCQyxDQUFDLEVBQTVCLENBQ0UsZ0NBQUtSLElBQUwsQ0FBVUUsR0FBVixDQUFjeEMsRUFBRSxDQUFDRSxPQUFILEVBQWQsRUFBNEIsQ0FKakIsMEJBTWIsTUFBTyxLQUFQLENBQ0QsQ0FFREosT0FBTyxDQUFDQyxJQUFELENBQU8sb0RBQ1osTUFBTyxNQUFLcUMsVUFBTCxDQUFnQm5ELEdBQUcsQ0FBQ2dCLElBQUosQ0FBU0YsSUFBVCxDQUFoQixDQUFQLENBQ0QsQ0FFRCxNQUFPcUMsQ0FBQUEsVUFBUCxDQUFrQnBDLEVBQWxCLENBQXNCLG9EQUNwQixNQUFPLElBQUksS0FBSixHQUFXb0MsVUFBWCxDQUFzQnBDLEVBQXRCLENBQVAsQ0FDRCxDQUVELE1BQU9GLENBQUFBLE9BQVAsQ0FBZUMsSUFBZixDQUFxQixvREFDbkIsTUFBTyxJQUFJLEtBQUosR0FBV0QsT0FBWCxDQUFtQkMsSUFBbkIsQ0FBUCxDQUNELENBNURhLENBK0RoQjtBQUNBO0FBQ0EsRywwQkFFQWdELE9BQU8sQ0FBQzFELFVBQVIsQ0FBcUJBLFVBQXJCLEMsMEJBQ0EwRCxPQUFPLENBQUNuQyxTQUFSLENBQW9CQSxTQUFwQixDLDBCQUNBbUMsT0FBTyxDQUFDekIsUUFBUixDQUFtQkEsUUFBbkIsQywwQkFDQXlCLE9BQU8sQ0FBQ1YsU0FBUixDQUFvQkEsU0FBcEIsQywwQkFFQVcsTUFBTSxDQUFDRCxPQUFQLENBQWlCQSxPQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiByZWNvcmRzLmpzIC0gd2FsbGV0ZGIgcmVjb3Jkc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgQ2hyaXN0b3BoZXIgSmVmZnJleSAoTUlUIExpY2Vuc2UpLlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmNvaW4tb3JnL2Jjb2luXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIEBtb2R1bGUgd2FsbGV0L3JlY29yZHNcclxuICovXHJcblxyXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdic2VydCcpO1xyXG5jb25zdCBiaW8gPSByZXF1aXJlKCdidWZpbycpO1xyXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbCcpO1xyXG5jb25zdCBUWCA9IHJlcXVpcmUoJy4uL3ByaW1pdGl2ZXMvdHgnKTtcclxuY29uc3QgY29uc2Vuc3VzID0gcmVxdWlyZSgnLi4vcHJvdG9jb2wvY29uc2Vuc3VzJyk7XHJcblxyXG4vKipcclxuICogQ2hhaW4gU3RhdGVcclxuICovXHJcblxyXG5jbGFzcyBDaGFpblN0YXRlIHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBjaGFpbiBzdGF0ZS5cclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnN0YXJ0SGVpZ2h0ID0gMDtcclxuICAgIHRoaXMuc3RhcnRIYXNoID0gY29uc2Vuc3VzLlpFUk9fSEFTSDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgIHRoaXMubWFya2VkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZSB0aGUgc3RhdGUuXHJcbiAgICogQHJldHVybnMge0NoYWluU3RhdGV9XHJcbiAgICovXHJcblxyXG4gIGNsb25lKCkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgQ2hhaW5TdGF0ZSgpO1xyXG4gICAgc3RhdGUuc3RhcnRIZWlnaHQgPSB0aGlzLnN0YXJ0SGVpZ2h0O1xyXG4gICAgc3RhdGUuc3RhcnRIYXNoID0gdGhpcy5zdGFydEhhc2g7XHJcbiAgICBzdGF0ZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgIHN0YXRlLm1hcmtlZCA9IHRoaXMubWFya2VkO1xyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSBzZXJpYWxpemVkIGRhdGEuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxyXG4gICAqL1xyXG5cclxuICBmcm9tUmF3KGRhdGEpIHtcclxuICAgIGNvbnN0IGJyID0gYmlvLnJlYWQoZGF0YSk7XHJcblxyXG4gICAgdGhpcy5zdGFydEhlaWdodCA9IGJyLnJlYWRVMzIoKTtcclxuICAgIHRoaXMuc3RhcnRIYXNoID0gYnIucmVhZEhhc2goKTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gYnIucmVhZFUzMigpO1xyXG4gICAgdGhpcy5tYXJrZWQgPSBici5yZWFkVTgoKSA9PT0gMTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIGNoYWluIHN0YXRlIGZyb20gc2VyaWFsaXplZCBkYXRhLlxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICogQHJldHVybnMge0NoYWluU3RhdGV9XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBmcm9tUmF3KGRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21SYXcoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemUgdGhlIGNoYWluIHN0YXRlLlxyXG4gICAqIEByZXR1cm5zIHtCdWZmZXJ9XHJcbiAgICovXHJcblxyXG4gIHRvUmF3KCkge1xyXG4gICAgY29uc3QgYncgPSBiaW8ud3JpdGUoNDEpO1xyXG5cclxuICAgIGJ3LndyaXRlVTMyKHRoaXMuc3RhcnRIZWlnaHQpO1xyXG4gICAgYncud3JpdGVIYXNoKHRoaXMuc3RhcnRIYXNoKTtcclxuICAgIGJ3LndyaXRlVTMyKHRoaXMuaGVpZ2h0KTtcclxuICAgIGJ3LndyaXRlVTgodGhpcy5tYXJrZWQgPyAxIDogMCk7XHJcblxyXG4gICAgcmV0dXJuIGJ3LnJlbmRlcigpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEJsb2NrIE1ldGFcclxuICovXHJcblxyXG5jbGFzcyBCbG9ja01ldGEge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBibG9jayBtZXRhLlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZVxyXG4gICAqL1xyXG5cclxuICBjb25zdHJ1Y3RvcihoYXNoLCBoZWlnaHQsIHRpbWUpIHtcclxuICAgIHRoaXMuaGFzaCA9IGhhc2ggfHwgY29uc2Vuc3VzLlpFUk9fSEFTSDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ICE9IG51bGwgPyBoZWlnaHQgOiAtMTtcclxuICAgIHRoaXMudGltZSA9IHRpbWUgfHwgMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb25lIHRoZSBibG9jay5cclxuICAgKiBAcmV0dXJucyB7QmxvY2tNZXRhfVxyXG4gICAqL1xyXG5cclxuICBjbG9uZSgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmhhc2gsIHRoaXMuaGVpZ2h0LCB0aGlzLnRpbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGJsb2NrIG1ldGEgaGFzaCBhcyBhIGJ1ZmZlci5cclxuICAgKiBAcmV0dXJucyB7QnVmZmVyfVxyXG4gICAqL1xyXG5cclxuICB0b0hhc2goKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oYXNoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYmxvY2sgbWV0YSBmcm9tIGNoYWluIGVudHJ5LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtDaGFpbkVudHJ5fSBlbnRyeVxyXG4gICAqL1xyXG5cclxuICBmcm9tRW50cnkoZW50cnkpIHtcclxuICAgIHRoaXMuaGFzaCA9IGVudHJ5Lmhhc2g7XHJcbiAgICB0aGlzLmhlaWdodCA9IGVudHJ5LmhlaWdodDtcclxuICAgIHRoaXMudGltZSA9IGVudHJ5LnRpbWU7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc3RhbnRpYXRlIGJsb2NrIG1ldGEgZnJvbSBqc29uIG9iamVjdC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXHJcbiAgICovXHJcblxyXG4gIGZyb21KU09OKGpzb24pIHtcclxuICAgIHRoaXMuaGFzaCA9IHV0aWwucmV2SGV4KGpzb24uaGFzaCk7XHJcbiAgICB0aGlzLmhlaWdodCA9IGpzb24uaGVpZ2h0O1xyXG4gICAgdGhpcy50aW1lID0ganNvbi50aW1lO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnN0YW50aWF0ZSBibG9jayBtZXRhIGZyb20gc2VyaWFsaXplZCB0aXAgZGF0YS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICovXHJcblxyXG4gIGZyb21SYXcoZGF0YSkge1xyXG4gICAgY29uc3QgYnIgPSBiaW8ucmVhZChkYXRhKTtcclxuICAgIHRoaXMuaGFzaCA9IGJyLnJlYWRIYXNoKCk7XHJcbiAgICB0aGlzLmhlaWdodCA9IGJyLnJlYWRVMzIoKTtcclxuICAgIHRoaXMudGltZSA9IGJyLnJlYWRVMzIoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYmxvY2sgbWV0YSBmcm9tIGNoYWluIGVudHJ5LlxyXG4gICAqIEBwYXJhbSB7Q2hhaW5FbnRyeX0gZW50cnlcclxuICAgKiBAcmV0dXJucyB7QmxvY2tNZXRhfVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbUVudHJ5KGVudHJ5KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tRW50cnkoZW50cnkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYmxvY2sgbWV0YSBmcm9tIGpzb24gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXHJcbiAgICogQHJldHVybnMge0Jsb2NrTWV0YX1cclxuICAgKi9cclxuXHJcbiAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21KU09OKGpzb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYmxvY2sgbWV0YSBmcm9tIHNlcmlhbGl6ZWQgZGF0YS5cclxuICAgKiBAcGFyYW0ge0hhc2h9IGhhc2hcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtCbG9ja01ldGF9XHJcbiAgICovXHJcblxyXG4gIHN0YXRpYyBmcm9tUmF3KGRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21SYXcoZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJpYWxpemUgdGhlIGJsb2NrIG1ldGEuXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgdG9SYXcoKSB7XHJcbiAgICBjb25zdCBidyA9IGJpby53cml0ZSg0Mik7XHJcbiAgICBidy53cml0ZUhhc2godGhpcy5oYXNoKTtcclxuICAgIGJ3LndyaXRlVTMyKHRoaXMuaGVpZ2h0KTtcclxuICAgIGJ3LndyaXRlVTMyKHRoaXMudGltZSk7XHJcbiAgICByZXR1cm4gYncucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IHRoZSBibG9jayBtZXRhIHRvIGEgbW9yZSBqc29uLWZyaWVuZGx5IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG5cclxuICB0b0pTT04oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoYXNoOiB1dGlsLnJldkhleCh0aGlzLmhhc2gpLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICB0aW1lOiB0aGlzLnRpbWVcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVFggUmVjb3JkXHJcbiAqL1xyXG5cclxuY2xhc3MgVFhSZWNvcmQge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSB0eCByZWNvcmQuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge0Jsb2NrTWV0YT99IGJsb2NrXHJcbiAgICovXHJcblxyXG4gIGNvbnN0cnVjdG9yKHR4LCBibG9jaykge1xyXG4gICAgdGhpcy50eCA9IG51bGw7XHJcbiAgICB0aGlzLmhhc2ggPSBudWxsO1xyXG4gICAgdGhpcy5tdGltZSA9IHV0aWwubm93KCk7XHJcbiAgICB0aGlzLmhlaWdodCA9IC0xO1xyXG4gICAgdGhpcy5ibG9jayA9IG51bGw7XHJcbiAgICB0aGlzLmluZGV4ID0gLTE7XHJcbiAgICB0aGlzLnRpbWUgPSAwO1xyXG5cclxuICAgIGlmICh0eClcclxuICAgICAgdGhpcy5mcm9tVFgodHgsIGJsb2NrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluamVjdCBwcm9wZXJ0aWVzIGZyb20gdHggYW5kIGJsb2NrLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge0Jsb2NrP30gYmxvY2tcclxuICAgKiBAcmV0dXJucyB7VFhSZWNvcmR9XHJcbiAgICovXHJcblxyXG4gIGZyb21UWCh0eCwgYmxvY2spIHtcclxuICAgIHRoaXMudHggPSB0eDtcclxuICAgIHRoaXMuaGFzaCA9IHR4Lmhhc2goKTtcclxuXHJcbiAgICBpZiAoYmxvY2spXHJcbiAgICAgIHRoaXMuc2V0QmxvY2soYmxvY2spO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgdHggcmVjb3JkIGZyb20gdHggYW5kIGJsb2NrLlxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHBhcmFtIHtCbG9jaz99IGJsb2NrXHJcbiAgICogQHJldHVybnMge1RYUmVjb3JkfVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbVRYKHR4LCBibG9jaykge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKCkuZnJvbVRYKHR4LCBibG9jayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgYmxvY2sgZGF0YSAoY29uZmlybSkuXHJcbiAgICogQHBhcmFtIHtCbG9ja01ldGF9IGJsb2NrXHJcbiAgICovXHJcblxyXG4gIHNldEJsb2NrKGJsb2NrKSB7XHJcbiAgICB0aGlzLmhlaWdodCA9IGJsb2NrLmhlaWdodDtcclxuICAgIHRoaXMuYmxvY2sgPSBibG9jay5oYXNoO1xyXG4gICAgdGhpcy50aW1lID0gYmxvY2sudGltZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVuc2V0IGJsb2NrICh1bmNvbmZpcm0pLlxyXG4gICAqL1xyXG5cclxuICB1bnNldEJsb2NrKCkge1xyXG4gICAgdGhpcy5oZWlnaHQgPSAtMTtcclxuICAgIHRoaXMuYmxvY2sgPSBudWxsO1xyXG4gICAgdGhpcy50aW1lID0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdHggcmVjb3JkIHRvIGEgYmxvY2sgbWV0YS5cclxuICAgKiBAcmV0dXJucyB7QmxvY2tNZXRhfVxyXG4gICAqL1xyXG5cclxuICBnZXRCbG9jaygpIHtcclxuICAgIGlmICh0aGlzLmhlaWdodCA9PT0gLTEpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBuZXcgQmxvY2tNZXRhKHRoaXMuYmxvY2ssIHRoaXMuaGVpZ2h0LCB0aGlzLnRpbWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIGN1cnJlbnQgbnVtYmVyIG9mIHRyYW5zYWN0aW9uIGNvbmZpcm1hdGlvbnMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEN1cnJlbnQgY2hhaW4gaGVpZ2h0LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IGNvbmZpcm1hdGlvbnNcclxuICAgKi9cclxuXHJcbiAgZ2V0RGVwdGgoaGVpZ2h0KSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIGhlaWdodCA9PT0gJ251bWJlcicsICdNdXN0IHBhc3MgaW4gaGVpZ2h0LicpO1xyXG5cclxuICAgIGlmICh0aGlzLmhlaWdodCA9PT0gLTEpXHJcbiAgICAgIHJldHVybiAwO1xyXG5cclxuICAgIGlmIChoZWlnaHQgPCB0aGlzLmhlaWdodClcclxuICAgICAgcmV0dXJuIDA7XHJcblxyXG4gICAgcmV0dXJuIGhlaWdodCAtIHRoaXMuaGVpZ2h0ICsgMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzZXJpYWxpemF0aW9uIHNpemUuXHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuXHJcbiAgZ2V0U2l6ZSgpIHtcclxuICAgIGxldCBzaXplID0gMDtcclxuXHJcbiAgICBzaXplICs9IHRoaXMudHguZ2V0U2l6ZSgpO1xyXG4gICAgc2l6ZSArPSA0O1xyXG5cclxuICAgIGlmICh0aGlzLmJsb2NrKSB7XHJcbiAgICAgIHNpemUgKz0gMTtcclxuICAgICAgc2l6ZSArPSAzMjtcclxuICAgICAgc2l6ZSArPSA0ICogMztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNpemUgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2l6ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlcmlhbGl6ZSBhIHRyYW5zYWN0aW9uIHRvIFwiZXh0ZW5kZWQgZm9ybWF0XCIuXHJcbiAgICogQHJldHVybnMge0J1ZmZlcn1cclxuICAgKi9cclxuXHJcbiAgdG9SYXcoKSB7XHJcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XHJcbiAgICBjb25zdCBidyA9IGJpby53cml0ZShzaXplKTtcclxuXHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLmluZGV4O1xyXG5cclxuICAgIHRoaXMudHgudG9Xcml0ZXIoYncpO1xyXG5cclxuICAgIGJ3LndyaXRlVTMyKHRoaXMubXRpbWUpO1xyXG5cclxuICAgIGlmICh0aGlzLmJsb2NrKSB7XHJcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpXHJcbiAgICAgICAgaW5kZXggPSAweDdmZmZmZmZmO1xyXG5cclxuICAgICAgYncud3JpdGVVOCgxKTtcclxuICAgICAgYncud3JpdGVIYXNoKHRoaXMuYmxvY2spO1xyXG4gICAgICBidy53cml0ZVUzMih0aGlzLmhlaWdodCk7XHJcbiAgICAgIGJ3LndyaXRlVTMyKHRoaXMudGltZSk7XHJcbiAgICAgIGJ3LndyaXRlVTMyKGluZGV4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ3LndyaXRlVTgoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJ3LnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5qZWN0IHByb3BlcnRpZXMgZnJvbSBcImV4dGVuZGVkXCIgZm9ybWF0LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGFcclxuICAgKi9cclxuXHJcbiAgZnJvbVJhdyhkYXRhKSB7XHJcbiAgICBjb25zdCBiciA9IGJpby5yZWFkKGRhdGEpO1xyXG5cclxuICAgIHRoaXMudHggPSBuZXcgVFgoKTtcclxuICAgIHRoaXMudHguZnJvbVJlYWRlcihicik7XHJcblxyXG4gICAgdGhpcy5oYXNoID0gdGhpcy50eC5oYXNoKCk7XHJcbiAgICB0aGlzLm10aW1lID0gYnIucmVhZFUzMigpO1xyXG5cclxuICAgIGlmIChici5yZWFkVTgoKSA9PT0gMSkge1xyXG4gICAgICB0aGlzLmJsb2NrID0gYnIucmVhZEhhc2goKTtcclxuICAgICAgdGhpcy5oZWlnaHQgPSBici5yZWFkVTMyKCk7XHJcbiAgICAgIHRoaXMudGltZSA9IGJyLnJlYWRVMzIoKTtcclxuICAgICAgdGhpcy5pbmRleCA9IGJyLnJlYWRVMzIoKTtcclxuICAgICAgaWYgKHRoaXMuaW5kZXggPT09IDB4N2ZmZmZmZmYpXHJcbiAgICAgICAgdGhpcy5pbmRleCA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgYnVmZmVyXHJcbiAgICogaW4gXCJleHRlbmRlZFwiIHNlcmlhbGl6YXRpb24gZm9ybWF0LlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICogQHJldHVybnMge1RYfVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbVJhdyhkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoKS5mcm9tUmF3KGRhdGEpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1hcCBSZWNvcmRcclxuICovXHJcblxyXG5jbGFzcyBNYXBSZWNvcmQge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBtYXAgcmVjb3JkLlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMud2lkcyA9IG5ldyBTZXQoKTtcclxuICB9XHJcblxyXG4gIGFkZCh3aWQpIHtcclxuICAgIGlmICh0aGlzLndpZHMuaGFzKHdpZCkpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLndpZHMuYWRkKHdpZCk7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICByZW1vdmUod2lkKSB7XHJcbiAgICByZXR1cm4gdGhpcy53aWRzLmRlbGV0ZSh3aWQpO1xyXG4gIH1cclxuXHJcbiAgdG9Xcml0ZXIoYncpIHtcclxuICAgIGJ3LndyaXRlVTMyKHRoaXMud2lkcy5zaXplKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHdpZCBvZiB0aGlzLndpZHMpXHJcbiAgICAgIGJ3LndyaXRlVTMyKHdpZCk7XHJcblxyXG4gICAgcmV0dXJuIGJ3O1xyXG4gIH1cclxuXHJcbiAgZ2V0U2l6ZSgpIHtcclxuICAgIHJldHVybiA0ICsgdGhpcy53aWRzLnNpemUgKiA0O1xyXG4gIH1cclxuXHJcbiAgdG9SYXcoKSB7XHJcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XHJcbiAgICByZXR1cm4gdGhpcy50b1dyaXRlcihiaW8ud3JpdGUoc2l6ZSkpLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgZnJvbVJlYWRlcihicikge1xyXG4gICAgY29uc3QgY291bnQgPSBici5yZWFkVTMyKCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxyXG4gICAgICB0aGlzLndpZHMuYWRkKGJyLnJlYWRVMzIoKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBmcm9tUmF3KGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLmZyb21SZWFkZXIoYmlvLnJlYWQoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZyb21SZWFkZXIoYnIpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21SZWFkZXIoYnIpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZyb21SYXcoZGF0YSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKCkuZnJvbVJhdyhkYXRhKTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAqIEV4cG9zZVxyXG4gKi9cclxuXHJcbmV4cG9ydHMuQ2hhaW5TdGF0ZSA9IENoYWluU3RhdGU7XHJcbmV4cG9ydHMuQmxvY2tNZXRhID0gQmxvY2tNZXRhO1xyXG5leHBvcnRzLlRYUmVjb3JkID0gVFhSZWNvcmQ7XHJcbmV4cG9ydHMuTWFwUmVjb3JkID0gTWFwUmVjb3JkO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xyXG4iXX0=