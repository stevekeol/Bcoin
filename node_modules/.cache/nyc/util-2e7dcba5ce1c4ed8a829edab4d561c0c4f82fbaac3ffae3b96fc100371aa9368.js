/*!
 * util.js - utils for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_2ct0akdt0q(){var path="E:\\Projects\\Test\\bcoin\\lib\\utils\\util.js";var hash="04f2897b8e33394829357a0f9b77bd2e8d8fb1c2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\utils\\util.js",statementMap:{"0":{start:{line:10,column:15},end:{line:10,column:31}},"1":{start:{line:16,column:13},end:{line:16,column:20}},"2":{start:{line:24,column:0},end:{line:51,column:2}},"3":{start:{line:25,column:2},end:{line:43,column:3}},"4":{start:{line:26,column:16},end:{line:26,column:26}},"5":{start:{line:28,column:4},end:{line:32,column:5}},"6":{start:{line:29,column:23},end:{line:29,column:27}},"7":{start:{line:30,column:20},end:{line:30,column:40}},"8":{start:{line:31,column:6},end:{line:31,column:25}},"9":{start:{line:34,column:15},end:{line:34,column:25}},"10":{start:{line:37,column:15},end:{line:37,column:32}},"11":{start:{line:40,column:15},end:{line:40,column:23}},"12":{start:{line:42,column:4},end:{line:42,column:20}},"13":{start:{line:45,column:2},end:{line:48,column:3}},"14":{start:{line:46,column:21},end:{line:46,column:41}},"15":{start:{line:47,column:4},end:{line:47,column:32}},"16":{start:{line:50,column:2},end:{line:50,column:26}},"17":{start:{line:58,column:0},end:{line:60,column:2}},"18":{start:{line:59,column:2},end:{line:59,column:39}},"19":{start:{line:67,column:0},end:{line:69,column:2}},"20":{start:{line:68,column:2},end:{line:68,column:20}},"21":{start:{line:77,column:0},end:{line:82,column:2}},"22":{start:{line:78,column:2},end:{line:79,column:22}},"23":{start:{line:79,column:4},end:{line:79,column:22}},"24":{start:{line:81,column:2},end:{line:81,column:64}},"25":{start:{line:90,column:0},end:{line:95,column:2}},"26":{start:{line:91,column:2},end:{line:92,column:22}},"27":{start:{line:92,column:4},end:{line:92,column:22}},"28":{start:{line:94,column:2},end:{line:94,column:35}},"29":{start:{line:103,column:0},end:{line:107,column:2}},"30":{start:{line:104,column:2},end:{line:104,column:31}},"31":{start:{line:106,column:2},end:{line:106,column:52}},"32":{start:{line:109,column:0},end:{line:114,column:2}},"33":{start:{line:110,column:2},end:{line:110,column:34}},"34":{start:{line:111,column:2},end:{line:111,column:33}},"35":{start:{line:113,column:2},end:{line:113,column:43}}},fnMap:{"0":{name:"bench",decl:{start:{line:24,column:22},end:{line:24,column:27}},loc:{start:{line:24,column:34},end:{line:51,column:1}},line:24},"1":{name:"now",decl:{start:{line:58,column:20},end:{line:58,column:23}},loc:{start:{line:58,column:26},end:{line:60,column:1}},line:58},"2":{name:"ms",decl:{start:{line:67,column:19},end:{line:67,column:21}},loc:{start:{line:67,column:24},end:{line:69,column:1}},line:67},"3":{name:"date",decl:{start:{line:77,column:21},end:{line:77,column:25}},loc:{start:{line:77,column:32},end:{line:82,column:1}},line:77},"4":{name:"time",decl:{start:{line:90,column:21},end:{line:90,column:25}},loc:{start:{line:90,column:32},end:{line:95,column:1}},line:90},"5":{name:"revHex",decl:{start:{line:103,column:23},end:{line:103,column:29}},loc:{start:{line:103,column:35},end:{line:107,column:1}},line:103},"6":{name:"fromRev",decl:{start:{line:109,column:24},end:{line:109,column:31}},loc:{start:{line:109,column:37},end:{line:114,column:1}},line:109}},branchMap:{"0":{loc:{start:{line:25,column:2},end:{line:43,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:43,column:3}},{start:{line:25,column:2},end:{line:43,column:3}}],line:25},"1":{loc:{start:{line:28,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:32,column:5}},{start:{line:28,column:4},end:{line:32,column:5}}],line:28},"2":{loc:{start:{line:45,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:48,column:3}},{start:{line:45,column:2},end:{line:48,column:3}}],line:45},"3":{loc:{start:{line:78,column:2},end:{line:79,column:22}},type:"if",locations:[{start:{line:78,column:2},end:{line:79,column:22}},{start:{line:78,column:2},end:{line:79,column:22}}],line:78},"4":{loc:{start:{line:91,column:2},end:{line:92,column:22}},type:"if",locations:[{start:{line:91,column:2},end:{line:92,column:22}},{start:{line:91,column:2},end:{line:92,column:22}}],line:91}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"04f2897b8e33394829357a0f9b77bd2e8d8fb1c2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ct0akdt0q=function(){return actualCoverage;};}return actualCoverage;}cov_2ct0akdt0q();const assert=(cov_2ct0akdt0q().s[0]++,require('bsert'));/**
 * @exports utils/util
 */const util=(cov_2ct0akdt0q().s[1]++,exports);/**
 * Return hrtime (shim for browser).
 * @param {Array} time
 * @returns {Array} [seconds, nanoseconds]
 */cov_2ct0akdt0q().s[2]++;util.bench=function bench(time){cov_2ct0akdt0q().f[0]++;cov_2ct0akdt0q().s[3]++;if(!process.hrtime){cov_2ct0akdt0q().b[0][0]++;const now=(cov_2ct0akdt0q().s[4]++,Date.now());cov_2ct0akdt0q().s[5]++;if(time){cov_2ct0akdt0q().b[1][0]++;const[hi,lo]=(cov_2ct0akdt0q().s[6]++,time);const start=(cov_2ct0akdt0q().s[7]++,hi*1000+lo/1e6);cov_2ct0akdt0q().s[8]++;return now-start;}else{cov_2ct0akdt0q().b[1][1]++;}const ms=(cov_2ct0akdt0q().s[9]++,now%1000);// Seconds
const hi=(cov_2ct0akdt0q().s[10]++,(now-ms)/1000);// Nanoseconds
const lo=(cov_2ct0akdt0q().s[11]++,ms*1e6);cov_2ct0akdt0q().s[12]++;return[hi,lo];}else{cov_2ct0akdt0q().b[0][1]++;}cov_2ct0akdt0q().s[13]++;if(time){cov_2ct0akdt0q().b[2][0]++;const[hi,lo]=(cov_2ct0akdt0q().s[14]++,process.hrtime(time));cov_2ct0akdt0q().s[15]++;return hi*1000+lo/1e6;}else{cov_2ct0akdt0q().b[2][1]++;}cov_2ct0akdt0q().s[16]++;return process.hrtime();};/**
 * Get current time in unix time (seconds).
 * @returns {Number}
 */cov_2ct0akdt0q().s[17]++;util.now=function now(){cov_2ct0akdt0q().f[1]++;cov_2ct0akdt0q().s[18]++;return Math.floor(Date.now()/1000);};/**
 * Get current time in unix time (milliseconds).
 * @returns {Number}
 */cov_2ct0akdt0q().s[19]++;util.ms=function ms(){cov_2ct0akdt0q().f[2]++;cov_2ct0akdt0q().s[20]++;return Date.now();};/**
 * Create a Date ISO string from time in unix time (seconds).
 * @param {Number?} time - Seconds in unix time.
 * @returns {String}
 */cov_2ct0akdt0q().s[21]++;util.date=function date(time){cov_2ct0akdt0q().f[3]++;cov_2ct0akdt0q().s[22]++;if(time==null){cov_2ct0akdt0q().b[3][0]++;cov_2ct0akdt0q().s[23]++;time=util.now();}else{cov_2ct0akdt0q().b[3][1]++;}cov_2ct0akdt0q().s[24]++;return new Date(time*1000).toISOString().slice(0,-5)+'Z';};/**
 * Get unix seconds from a Date string.
 * @param {String?} date - Date ISO String.
 * @returns {Number}
 */cov_2ct0akdt0q().s[25]++;util.time=function time(date){cov_2ct0akdt0q().f[4]++;cov_2ct0akdt0q().s[26]++;if(date==null){cov_2ct0akdt0q().b[4][0]++;cov_2ct0akdt0q().s[27]++;return util.now();}else{cov_2ct0akdt0q().b[4][1]++;}cov_2ct0akdt0q().s[28]++;return new Date(date)/1000|0;};/**
 * Reverse a hex-string.
 * @param {Buffer}
 * @returns {String} Reversed hex string.
 */cov_2ct0akdt0q().s[29]++;util.revHex=function revHex(buf){cov_2ct0akdt0q().f[5]++;cov_2ct0akdt0q().s[30]++;assert(Buffer.isBuffer(buf));cov_2ct0akdt0q().s[31]++;return Buffer.from(buf).reverse().toString('hex');};cov_2ct0akdt0q().s[32]++;util.fromRev=function fromRev(str){cov_2ct0akdt0q().f[6]++;cov_2ct0akdt0q().s[33]++;assert(typeof str==='string');cov_2ct0akdt0q().s[34]++;assert((str.length&1)===0);cov_2ct0akdt0q().s[35]++;return Buffer.from(str,'hex').reverse();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiYXNzZXJ0IiwicmVxdWlyZSIsInV0aWwiLCJleHBvcnRzIiwiYmVuY2giLCJ0aW1lIiwicHJvY2VzcyIsImhydGltZSIsIm5vdyIsIkRhdGUiLCJoaSIsImxvIiwic3RhcnQiLCJtcyIsIk1hdGgiLCJmbG9vciIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwicmV2SGV4IiwiYnVmIiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJmcm9tIiwicmV2ZXJzZSIsInRvU3RyaW5nIiwiZnJvbVJldiIsInN0ciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsYSxzd0pBUVk7MkZBTlosS0FBTUEsQ0FBQUEsTUFBTSwwQkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFaLENBRUE7QUFDQTtBQUNBLEdBRUEsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBR0MsT0FBSCxDQUFWLENBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHLHdCQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBYSxRQUFTQSxDQUFBQSxLQUFULENBQWVDLElBQWYsQ0FBcUIsaURBQ2hDLEdBQUksQ0FBQ0MsT0FBTyxDQUFDQyxNQUFiLENBQXFCLDRCQUNuQixLQUFNQyxDQUFBQSxHQUFHLDBCQUFHQyxJQUFJLENBQUNELEdBQUwsRUFBSCxDQUFULENBRG1CLHdCQUduQixHQUFJSCxJQUFKLENBQVUsNEJBQ1IsS0FBTSxDQUFDSyxFQUFELENBQUtDLEVBQUwsMkJBQVdOLElBQVgsQ0FBTixDQUNBLEtBQU1PLENBQUFBLEtBQUssMEJBQUdGLEVBQUUsQ0FBRyxJQUFMLENBQVlDLEVBQUUsQ0FBRyxHQUFwQixDQUFYLENBRlEsd0JBR1IsTUFBT0gsQ0FBQUEsR0FBRyxDQUFHSSxLQUFiLENBQ0QsQ0FKRCxpQ0FNQSxLQUFNQyxDQUFBQSxFQUFFLDBCQUFHTCxHQUFHLENBQUcsSUFBVCxDQUFSLENBRUE7QUFDQSxLQUFNRSxD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IjpbIi8qIVxyXG4gKiB1dGlsLmpzIC0gdXRpbHMgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGZWRvciBJbmR1dG55IChNSVQgTGljZW5zZSlcclxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Jjb2luLW9yZy9iY29pblxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2JzZXJ0Jyk7XHJcblxyXG4vKipcclxuICogQGV4cG9ydHMgdXRpbHMvdXRpbFxyXG4gKi9cclxuXHJcbmNvbnN0IHV0aWwgPSBleHBvcnRzO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBocnRpbWUgKHNoaW0gZm9yIGJyb3dzZXIpLlxyXG4gKiBAcGFyYW0ge0FycmF5fSB0aW1lXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gW3NlY29uZHMsIG5hbm9zZWNvbmRzXVxyXG4gKi9cclxuXHJcbnV0aWwuYmVuY2ggPSBmdW5jdGlvbiBiZW5jaCh0aW1lKSB7XHJcbiAgaWYgKCFwcm9jZXNzLmhydGltZSkge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICBpZiAodGltZSkge1xyXG4gICAgICBjb25zdCBbaGksIGxvXSA9IHRpbWU7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gaGkgKiAxMDAwICsgbG8gLyAxZTY7XHJcbiAgICAgIHJldHVybiBub3cgLSBzdGFydDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtcyA9IG5vdyAlIDEwMDA7XHJcblxyXG4gICAgLy8gU2Vjb25kc1xyXG4gICAgY29uc3QgaGkgPSAobm93IC0gbXMpIC8gMTAwMDtcclxuXHJcbiAgICAvLyBOYW5vc2Vjb25kc1xyXG4gICAgY29uc3QgbG8gPSBtcyAqIDFlNjtcclxuXHJcbiAgICByZXR1cm4gW2hpLCBsb107XHJcbiAgfVxyXG5cclxuICBpZiAodGltZSkge1xyXG4gICAgY29uc3QgW2hpLCBsb10gPSBwcm9jZXNzLmhydGltZSh0aW1lKTtcclxuICAgIHJldHVybiBoaSAqIDEwMDAgKyBsbyAvIDFlNjtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9jZXNzLmhydGltZSgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCBjdXJyZW50IHRpbWUgaW4gdW5peCB0aW1lIChzZWNvbmRzKS5cclxuICogQHJldHVybnMge051bWJlcn1cclxuICovXHJcblxyXG51dGlsLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHtcclxuICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IGN1cnJlbnQgdGltZSBpbiB1bml4IHRpbWUgKG1pbGxpc2Vjb25kcykuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAqL1xyXG5cclxudXRpbC5tcyA9IGZ1bmN0aW9uIG1zKCkge1xyXG4gIHJldHVybiBEYXRlLm5vdygpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIERhdGUgSVNPIHN0cmluZyBmcm9tIHRpbWUgaW4gdW5peCB0aW1lIChzZWNvbmRzKS5cclxuICogQHBhcmFtIHtOdW1iZXI/fSB0aW1lIC0gU2Vjb25kcyBpbiB1bml4IHRpbWUuXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xyXG5cclxudXRpbC5kYXRlID0gZnVuY3Rpb24gZGF0ZSh0aW1lKSB7XHJcbiAgaWYgKHRpbWUgPT0gbnVsbClcclxuICAgIHRpbWUgPSB1dGlsLm5vdygpO1xyXG5cclxuICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgLTUpICsgJ1onO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCB1bml4IHNlY29uZHMgZnJvbSBhIERhdGUgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1N0cmluZz99IGRhdGUgLSBEYXRlIElTTyBTdHJpbmcuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAqL1xyXG5cclxudXRpbC50aW1lID0gZnVuY3Rpb24gdGltZShkYXRlKSB7XHJcbiAgaWYgKGRhdGUgPT0gbnVsbClcclxuICAgIHJldHVybiB1dGlsLm5vdygpO1xyXG5cclxuICByZXR1cm4gbmV3IERhdGUoZGF0ZSkgLyAxMDAwIHwgMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXZlcnNlIGEgaGV4LXN0cmluZy5cclxuICogQHBhcmFtIHtCdWZmZXJ9XHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFJldmVyc2VkIGhleCBzdHJpbmcuXHJcbiAqL1xyXG5cclxudXRpbC5yZXZIZXggPSBmdW5jdGlvbiByZXZIZXgoYnVmKSB7XHJcbiAgYXNzZXJ0KEJ1ZmZlci5pc0J1ZmZlcihidWYpKTtcclxuXHJcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJ1ZikucmV2ZXJzZSgpLnRvU3RyaW5nKCdoZXgnKTtcclxufTtcclxuXHJcbnV0aWwuZnJvbVJldiA9IGZ1bmN0aW9uIGZyb21SZXYoc3RyKSB7XHJcbiAgYXNzZXJ0KHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnKTtcclxuICBhc3NlcnQoKHN0ci5sZW5ndGggJiAxKSA9PT0gMCk7XHJcblxyXG4gIHJldHVybiBCdWZmZXIuZnJvbShzdHIsICdoZXgnKS5yZXZlcnNlKCk7XHJcbn07XHJcbiJdfQ==