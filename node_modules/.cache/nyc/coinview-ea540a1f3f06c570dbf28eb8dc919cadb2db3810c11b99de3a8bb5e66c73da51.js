/*!
 * coinview.js - coin viewpoint object for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */'use strict';function cov_1zqnd7z5ou(){var path="E:\\Projects\\Test\\bcoin\\lib\\coins\\coinview.js";var hash="6f918a964f3050459784a745ae2d04b6371cff53";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\coins\\coinview.js",statementMap:{"0":{start:{line:9,column:20},end:{line:9,column:41}},"1":{start:{line:10,column:14},end:{line:10,column:32}},"2":{start:{line:11,column:18},end:{line:11,column:40}},"3":{start:{line:12,column:18},end:{line:12,column:40}},"4":{start:{line:30,column:4},end:{line:30,column:31}},"5":{start:{line:31,column:4},end:{line:31,column:32}},"6":{start:{line:41,column:4},end:{line:41,column:30}},"7":{start:{line:51,column:4},end:{line:51,column:30}},"8":{start:{line:62,column:4},end:{line:62,column:30}},"9":{start:{line:63,column:4},end:{line:63,column:17}},"10":{start:{line:73,column:18},end:{line:73,column:36}},"11":{start:{line:75,column:4},end:{line:76,column:19}},"12":{start:{line:76,column:6},end:{line:76,column:19}},"13":{start:{line:78,column:4},end:{line:78,column:39}},"14":{start:{line:88,column:18},end:{line:88,column:36}},"15":{start:{line:90,column:4},end:{line:91,column:18}},"16":{start:{line:91,column:6},end:{line:91,column:18}},"17":{start:{line:93,column:4},end:{line:93,column:26}},"18":{start:{line:95,column:4},end:{line:95,column:17}},"19":{start:{line:106,column:17},end:{line:106,column:26}},"20":{start:{line:107,column:18},end:{line:107,column:42}},"21":{start:{line:108,column:4},end:{line:108,column:33}},"22":{start:{line:119,column:17},end:{line:119,column:26}},"23":{start:{line:120,column:18},end:{line:120,column:42}},"24":{start:{line:122,column:4},end:{line:123,column:24}},"25":{start:{line:123,column:6},end:{line:123,column:24}},"26":{start:{line:125,column:4},end:{line:125,column:33}},"27":{start:{line:136,column:26},end:{line:136,column:33}},"28":{start:{line:137,column:18},end:{line:137,column:35}},"29":{start:{line:138,column:4},end:{line:138,column:34}},"30":{start:{line:148,column:18},end:{line:148,column:40}},"31":{start:{line:149,column:4},end:{line:149,column:31}},"32":{start:{line:160,column:26},end:{line:160,column:33}},"33":{start:{line:161,column:18},end:{line:161,column:35}},"34":{start:{line:162,column:4},end:{line:162,column:42}},"35":{start:{line:174,column:17},end:{line:174,column:26}},"36":{start:{line:175,column:18},end:{line:175,column:35}},"37":{start:{line:176,column:4},end:{line:176,column:45}},"38":{start:{line:186,column:26},end:{line:186,column:33}},"39":{start:{line:187,column:18},end:{line:187,column:32}},"40":{start:{line:189,column:4},end:{line:190,column:18}},"41":{start:{line:190,column:6},end:{line:190,column:18}},"42":{start:{line:192,column:17},end:{line:192,column:35}},"43":{start:{line:194,column:4},end:{line:195,column:18}},"44":{start:{line:195,column:6},end:{line:195,column:18}},"45":{start:{line:197,column:4},end:{line:197,column:25}},"46":{start:{line:199,column:4},end:{line:199,column:16}},"47":{start:{line:209,column:26},end:{line:209,column:33}},"48":{start:{line:210,column:18},end:{line:210,column:32}},"49":{start:{line:212,column:4},end:{line:213,column:18}},"50":{start:{line:213,column:6},end:{line:213,column:18}},"51":{start:{line:215,column:4},end:{line:215,column:31}},"52":{start:{line:225,column:26},end:{line:225,column:33}},"53":{start:{line:226,column:18},end:{line:226,column:32}},"54":{start:{line:228,column:4},end:{line:229,column:19}},"55":{start:{line:229,column:6},end:{line:229,column:19}},"56":{start:{line:231,column:4},end:{line:231,column:28}},"57":{start:{line:241,column:26},end:{line:241,column:33}},"58":{start:{line:242,column:18},end:{line:242,column:32}},"59":{start:{line:244,column:4},end:{line:245,column:18}},"60":{start:{line:245,column:6},end:{line:245,column:18}},"61":{start:{line:247,column:4},end:{line:247,column:28}},"62":{start:{line:257,column:26},end:{line:257,column:33}},"63":{start:{line:258,column:18},end:{line:258,column:32}},"64":{start:{line:260,column:4},end:{line:261,column:19}},"65":{start:{line:261,column:6},end:{line:261,column:19}},"66":{start:{line:263,column:4},end:{line:263,column:34}},"67":{start:{line:273,column:18},end:{line:273,column:40}},"68":{start:{line:275,column:4},end:{line:276,column:18}},"69":{start:{line:276,column:6},end:{line:276,column:18}},"70":{start:{line:278,column:4},end:{line:278,column:34}},"71":{start:{line:288,column:26},end:{line:288,column:33}},"72":{start:{line:289,column:18},end:{line:289,column:32}},"73":{start:{line:291,column:4},end:{line:292,column:18}},"74":{start:{line:292,column:6},end:{line:292,column:18}},"75":{start:{line:294,column:4},end:{line:294,column:34}},"76":{start:{line:304,column:17},end:{line:304,column:39}},"77":{start:{line:306,column:4},end:{line:307,column:16}},"78":{start:{line:307,column:6},end:{line:307,column:16}},"79":{start:{line:309,column:4},end:{line:309,column:23}},"80":{start:{line:319,column:17},end:{line:319,column:39}},"81":{start:{line:321,column:4},end:{line:322,column:19}},"82":{start:{line:322,column:6},end:{line:322,column:19}},"83":{start:{line:324,column:4},end:{line:324,column:25}},"84":{start:{line:334,column:4},end:{line:334,column:40}},"85":{start:{line:344,column:4},end:{line:344,column:40}},"86":{start:{line:354,column:4},end:{line:354,column:41}},"87":{start:{line:364,column:4},end:{line:364,column:39}},"88":{start:{line:374,column:4},end:{line:374,column:41}},"89":{start:{line:384,column:4},end:{line:384,column:41}},"90":{start:{line:394,column:4},end:{line:394,column:42}},"91":{start:{line:406,column:18},end:{line:406,column:40}},"92":{start:{line:408,column:4},end:{line:409,column:19}},"93":{start:{line:409,column:6},end:{line:409,column:19}},"94":{start:{line:411,column:17},end:{line:411,column:43}},"95":{start:{line:413,column:4},end:{line:414,column:18}},"96":{start:{line:414,column:6},end:{line:414,column:18}},"97":{start:{line:416,column:4},end:{line:416,column:40}},"98":{start:{line:428,column:16},end:{line:428,column:20}},"99":{start:{line:430,column:4},end:{line:433,column:5}},"100":{start:{line:431,column:6},end:{line:432,column:22}},"101":{start:{line:432,column:8},end:{line:432,column:22}},"102":{start:{line:435,column:4},end:{line:435,column:17}},"103":{start:{line:447,column:12},end:{line:447,column:13}},"104":{start:{line:449,column:4},end:{line:467,column:5}},"105":{start:{line:450,column:18},end:{line:450,column:51}},"106":{start:{line:451,column:19},end:{line:451,column:21}},"107":{start:{line:453,column:6},end:{line:456,column:7}},"108":{start:{line:454,column:26},end:{line:454,column:38}},"109":{start:{line:455,column:8},end:{line:455,column:46}},"110":{start:{line:458,column:20},end:{line:458,column:43}},"111":{start:{line:460,column:6},end:{line:466,column:7}},"112":{start:{line:461,column:8},end:{line:462,column:23}},"113":{start:{line:462,column:10},end:{line:462,column:23}},"114":{start:{line:464,column:8},end:{line:464,column:26}},"115":{start:{line:465,column:8},end:{line:465,column:29}},"116":{start:{line:469,column:4},end:{line:469,column:16}},"117":{start:{line:478,column:15},end:{line:478,column:16}},"118":{start:{line:480,column:4},end:{line:480,column:29}},"119":{start:{line:482,column:4},end:{line:489,column:5}},"120":{start:{line:483,column:19},end:{line:483,column:41}},"121":{start:{line:485,column:6},end:{line:486,column:17}},"122":{start:{line:486,column:8},end:{line:486,column:17}},"123":{start:{line:488,column:6},end:{line:488,column:29}},"124":{start:{line:491,column:4},end:{line:491,column:16}},"125":{start:{line:502,column:4},end:{line:512,column:5}},"126":{start:{line:503,column:19},end:{line:503,column:41}},"127":{start:{line:505,column:6},end:{line:508,column:7}},"128":{start:{line:506,column:8},end:{line:506,column:22}},"129":{start:{line:507,column:8},end:{line:507,column:17}},"130":{start:{line:510,column:6},end:{line:510,column:20}},"131":{start:{line:511,column:6},end:{line:511,column:24}},"132":{start:{line:514,column:4},end:{line:514,column:14}},"133":{start:{line:526,column:4},end:{line:533,column:5}},"134":{start:{line:527,column:6},end:{line:528,column:17}},"135":{start:{line:528,column:8},end:{line:528,column:17}},"136":{start:{line:530,column:19},end:{line:530,column:43}},"137":{start:{line:532,column:6},end:{line:532,column:35}},"138":{start:{line:535,column:4},end:{line:535,column:16}},"139":{start:{line:547,column:4},end:{line:547,column:41}},"140":{start:{line:555,column:0},end:{line:555,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:16},end:{line:32,column:3}},line:29},"1":{name:"(anonymous_1)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:12},end:{line:42,column:3}},line:40},"2":{name:"(anonymous_2)",decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:12},end:{line:52,column:3}},line:50},"3":{name:"(anonymous_3)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:19},end:{line:64,column:3}},line:61},"4":{name:"(anonymous_4)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:15},end:{line:79,column:3}},line:72},"5":{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:15},end:{line:96,column:3}},line:87},"6":{name:"(anonymous_6)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:20},end:{line:109,column:3}},line:105},"7":{name:"(anonymous_7)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:23},end:{line:126,column:3}},line:118},"8":{name:"(anonymous_8)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:26},end:{line:139,column:3}},line:135},"9":{name:"(anonymous_9)",decl:{start:{line:147,column:2},end:{line:147,column:3}},loc:{start:{line:147,column:16},end:{line:150,column:3}},line:147},"10":{name:"(anonymous_10)",decl:{start:{line:159,column:2},end:{line:159,column:3}},loc:{start:{line:159,column:29},end:{line:163,column:3}},line:159},"11":{name:"(anonymous_11)",decl:{start:{line:173,column:2},end:{line:173,column:3}},loc:{start:{line:173,column:30},end:{line:177,column:3}},line:173},"12":{name:"(anonymous_12)",decl:{start:{line:185,column:2},end:{line:185,column:3}},loc:{start:{line:185,column:22},end:{line:200,column:3}},line:185},"13":{name:"(anonymous_13)",decl:{start:{line:208,column:2},end:{line:208,column:3}},loc:{start:{line:208,column:23},end:{line:216,column:3}},line:208},"14":{name:"(anonymous_14)",decl:{start:{line:224,column:2},end:{line:224,column:3}},loc:{start:{line:224,column:20},end:{line:232,column:3}},line:224},"15":{name:"(anonymous_15)",decl:{start:{line:240,column:2},end:{line:240,column:3}},loc:{start:{line:240,column:20},end:{line:248,column:3}},line:240},"16":{name:"(anonymous_16)",decl:{start:{line:256,column:2},end:{line:256,column:3}},loc:{start:{line:256,column:21},end:{line:264,column:3}},line:256},"17":{name:"(anonymous_17)",decl:{start:{line:272,column:2},end:{line:272,column:3}},loc:{start:{line:272,column:19},end:{line:279,column:3}},line:272},"18":{name:"(anonymous_18)",decl:{start:{line:287,column:2},end:{line:287,column:3}},loc:{start:{line:287,column:21},end:{line:295,column:3}},line:287},"19":{name:"(anonymous_19)",decl:{start:{line:303,column:2},end:{line:303,column:3}},loc:{start:{line:303,column:21},end:{line:310,column:3}},line:303},"20":{name:"(anonymous_20)",decl:{start:{line:318,column:2},end:{line:318,column:3}},loc:{start:{line:318,column:22},end:{line:325,column:3}},line:318},"21":{name:"(anonymous_21)",decl:{start:{line:333,column:2},end:{line:333,column:3}},loc:{start:{line:333,column:21},end:{line:335,column:3}},line:333},"22":{name:"(anonymous_22)",decl:{start:{line:343,column:2},end:{line:343,column:3}},loc:{start:{line:343,column:21},end:{line:345,column:3}},line:343},"23":{name:"(anonymous_23)",decl:{start:{line:353,column:2},end:{line:353,column:3}},loc:{start:{line:353,column:22},end:{line:355,column:3}},line:353},"24":{name:"(anonymous_24)",decl:{start:{line:363,column:2},end:{line:363,column:3}},loc:{start:{line:363,column:20},end:{line:365,column:3}},line:363},"25":{name:"(anonymous_25)",decl:{start:{line:373,column:2},end:{line:373,column:3}},loc:{start:{line:373,column:22},end:{line:375,column:3}},line:373},"26":{name:"(anonymous_26)",decl:{start:{line:383,column:2},end:{line:383,column:3}},loc:{start:{line:383,column:22},end:{line:385,column:3}},line:383},"27":{name:"(anonymous_27)",decl:{start:{line:393,column:2},end:{line:393,column:3}},loc:{start:{line:393,column:23},end:{line:395,column:3}},line:393},"28":{name:"(anonymous_28)",decl:{start:{line:405,column:2},end:{line:405,column:3}},loc:{start:{line:405,column:30},end:{line:417,column:3}},line:405},"29":{name:"(anonymous_29)",decl:{start:{line:427,column:2},end:{line:427,column:3}},loc:{start:{line:427,column:27},end:{line:436,column:3}},line:427},"30":{name:"(anonymous_30)",decl:{start:{line:446,column:2},end:{line:446,column:3}},loc:{start:{line:446,column:28},end:{line:470,column:3}},line:446},"31":{name:"(anonymous_31)",decl:{start:{line:477,column:2},end:{line:477,column:3}},loc:{start:{line:477,column:14},end:{line:492,column:3}},line:477},"32":{name:"(anonymous_32)",decl:{start:{line:501,column:2},end:{line:501,column:3}},loc:{start:{line:501,column:19},end:{line:515,column:3}},line:501},"33":{name:"(anonymous_33)",decl:{start:{line:525,column:2},end:{line:525,column:3}},loc:{start:{line:525,column:21},end:{line:536,column:3}},line:525},"34":{name:"(anonymous_34)",decl:{start:{line:546,column:2},end:{line:546,column:3}},loc:{start:{line:546,column:28},end:{line:548,column:3}},line:546}},branchMap:{"0":{loc:{start:{line:75,column:4},end:{line:76,column:19}},type:"if",locations:[{start:{line:75,column:4},end:{line:76,column:19}},{start:{line:75,column:4},end:{line:76,column:19}}],line:75},"1":{loc:{start:{line:90,column:4},end:{line:91,column:18}},type:"if",locations:[{start:{line:90,column:4},end:{line:91,column:18}},{start:{line:90,column:4},end:{line:91,column:18}}],line:90},"2":{loc:{start:{line:189,column:4},end:{line:190,column:18}},type:"if",locations:[{start:{line:189,column:4},end:{line:190,column:18}},{start:{line:189,column:4},end:{line:190,column:18}}],line:189},"3":{loc:{start:{line:194,column:4},end:{line:195,column:18}},type:"if",locations:[{start:{line:194,column:4},end:{line:195,column:18}},{start:{line:194,column:4},end:{line:195,column:18}}],line:194},"4":{loc:{start:{line:212,column:4},end:{line:213,column:18}},type:"if",locations:[{start:{line:212,column:4},end:{line:213,column:18}},{start:{line:212,column:4},end:{line:213,column:18}}],line:212},"5":{loc:{start:{line:228,column:4},end:{line:229,column:19}},type:"if",locations:[{start:{line:228,column:4},end:{line:229,column:19}},{start:{line:228,column:4},end:{line:229,column:19}}],line:228},"6":{loc:{start:{line:244,column:4},end:{line:245,column:18}},type:"if",locations:[{start:{line:244,column:4},end:{line:245,column:18}},{start:{line:244,column:4},end:{line:245,column:18}}],line:244},"7":{loc:{start:{line:260,column:4},end:{line:261,column:19}},type:"if",locations:[{start:{line:260,column:4},end:{line:261,column:19}},{start:{line:260,column:4},end:{line:261,column:19}}],line:260},"8":{loc:{start:{line:275,column:4},end:{line:276,column:18}},type:"if",locations:[{start:{line:275,column:4},end:{line:276,column:18}},{start:{line:275,column:4},end:{line:276,column:18}}],line:275},"9":{loc:{start:{line:291,column:4},end:{line:292,column:18}},type:"if",locations:[{start:{line:291,column:4},end:{line:292,column:18}},{start:{line:291,column:4},end:{line:292,column:18}}],line:291},"10":{loc:{start:{line:306,column:4},end:{line:307,column:16}},type:"if",locations:[{start:{line:306,column:4},end:{line:307,column:16}},{start:{line:306,column:4},end:{line:307,column:16}}],line:306},"11":{loc:{start:{line:321,column:4},end:{line:322,column:19}},type:"if",locations:[{start:{line:321,column:4},end:{line:322,column:19}},{start:{line:321,column:4},end:{line:322,column:19}}],line:321},"12":{loc:{start:{line:408,column:4},end:{line:409,column:19}},type:"if",locations:[{start:{line:408,column:4},end:{line:409,column:19}},{start:{line:408,column:4},end:{line:409,column:19}}],line:408},"13":{loc:{start:{line:413,column:4},end:{line:414,column:18}},type:"if",locations:[{start:{line:413,column:4},end:{line:414,column:18}},{start:{line:413,column:4},end:{line:414,column:18}}],line:413},"14":{loc:{start:{line:431,column:6},end:{line:432,column:22}},type:"if",locations:[{start:{line:431,column:6},end:{line:432,column:22}},{start:{line:431,column:6},end:{line:432,column:22}}],line:431},"15":{loc:{start:{line:461,column:8},end:{line:462,column:23}},type:"if",locations:[{start:{line:461,column:8},end:{line:462,column:23}},{start:{line:461,column:8},end:{line:462,column:23}}],line:461},"16":{loc:{start:{line:461,column:12},end:{line:461,column:31}},type:"binary-expr",locations:[{start:{line:461,column:12},end:{line:461,column:17}},{start:{line:461,column:21},end:{line:461,column:31}}],line:461},"17":{loc:{start:{line:485,column:6},end:{line:486,column:17}},type:"if",locations:[{start:{line:485,column:6},end:{line:486,column:17}},{start:{line:485,column:6},end:{line:486,column:17}}],line:485},"18":{loc:{start:{line:505,column:6},end:{line:508,column:7}},type:"if",locations:[{start:{line:505,column:6},end:{line:508,column:7}},{start:{line:505,column:6},end:{line:508,column:7}}],line:505},"19":{loc:{start:{line:527,column:6},end:{line:528,column:17}},type:"if",locations:[{start:{line:527,column:6},end:{line:528,column:17}},{start:{line:527,column:6},end:{line:528,column:17}}],line:527}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f918a964f3050459784a745ae2d04b6371cff53"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1zqnd7z5ou=function(){return actualCoverage;};}return actualCoverage;}cov_1zqnd7z5ou();const{BufferMap}=(cov_1zqnd7z5ou().s[0]++,require('buffer-map'));const Coins=(cov_1zqnd7z5ou().s[1]++,require('./coins'));const UndoCoins=(cov_1zqnd7z5ou().s[2]++,require('./undocoins'));const CoinEntry=(cov_1zqnd7z5ou().s[3]++,require('./coinentry'));/**
 * Coin View
 * Represents a coin viewpoint:
 * a snapshot of {@link Coins} objects.
 * @alias module:coins.CoinView
 * @property {Object} map
 * @property {UndoCoins} undo
 */class CoinView{/**
   * Create a coin view.
   * @constructor
   */constructor(){cov_1zqnd7z5ou().f[0]++;cov_1zqnd7z5ou().s[4]++;this.map=new BufferMap();cov_1zqnd7z5ou().s[5]++;this.undo=new UndoCoins();}/**
   * Get coins.
   * @param {Hash} hash
   * @returns {Coins} coins
   */get(hash){cov_1zqnd7z5ou().f[1]++;cov_1zqnd7z5ou().s[6]++;return this.map.get(hash);}/**
   * Test whether the view has an entry.
   * @param {Hash} hash
   * @returns {Boolean}
   */has(hash){cov_1zqnd7z5ou().f[2]++;cov_1zqnd7z5ou().s[7]++;return this.map.has(hash);}/**
   * Add coins to the collection.
   * @param {Hash} hash
   * @param {Coins} coins
   * @returns {Coins}
   */add(hash,coins){cov_1zqnd7z5ou().f[3]++;cov_1zqnd7z5ou().s[8]++;this.map.set(hash,coins);cov_1zqnd7z5ou().s[9]++;return coins;}/**
   * Ensure existence of coins object in the collection.
   * @param {Hash} hash
   * @returns {Coins}
   */ensure(hash){cov_1zqnd7z5ou().f[4]++;const coins=(cov_1zqnd7z5ou().s[10]++,this.map.get(hash));cov_1zqnd7z5ou().s[11]++;if(coins){cov_1zqnd7z5ou().b[0][0]++;cov_1zqnd7z5ou().s[12]++;return coins;}else{cov_1zqnd7z5ou().b[0][1]++;}cov_1zqnd7z5ou().s[13]++;return this.add(hash,new Coins());}/**
   * Remove coins from the collection.
   * @param {Coins} coins
   * @returns {Coins|null}
   */remove(hash){cov_1zqnd7z5ou().f[5]++;const coins=(cov_1zqnd7z5ou().s[14]++,this.map.get(hash));cov_1zqnd7z5ou().s[15]++;if(!coins){cov_1zqnd7z5ou().b[1][0]++;cov_1zqnd7z5ou().s[16]++;return null;}else{cov_1zqnd7z5ou().b[1][1]++;}cov_1zqnd7z5ou().s[17]++;this.map.delete(hash);cov_1zqnd7z5ou().s[18]++;return coins;}/**
   * Add a tx to the collection.
   * @param {TX} tx
   * @param {Number} height
   * @returns {Coins}
   */addTX(tx,height){cov_1zqnd7z5ou().f[6]++;const hash=(cov_1zqnd7z5ou().s[19]++,tx.hash());const coins=(cov_1zqnd7z5ou().s[20]++,Coins.fromTX(tx,height));cov_1zqnd7z5ou().s[21]++;return this.add(hash,coins);}/**
   * Remove a tx from the collection.
   * @param {TX} tx
   * @param {Number} height
   * @returns {Coins}
   */removeTX(tx,height){cov_1zqnd7z5ou().f[7]++;const hash=(cov_1zqnd7z5ou().s[22]++,tx.hash());const coins=(cov_1zqnd7z5ou().s[23]++,Coins.fromTX(tx,height));cov_1zqnd7z5ou().s[24]++;for(const coin of coins.outputs.values()){cov_1zqnd7z5ou().s[25]++;coin.spent=true;}cov_1zqnd7z5ou().s[26]++;return this.add(hash,coins);}/**
   * Add an entry to the collection.
   * @param {Outpoint} prevout
   * @param {CoinEntry} coin
   * @returns {CoinEntry|null}
   */addEntry(prevout,coin){cov_1zqnd7z5ou().f[8]++;const{hash,index}=(cov_1zqnd7z5ou().s[27]++,prevout);const coins=(cov_1zqnd7z5ou().s[28]++,this.ensure(hash));cov_1zqnd7z5ou().s[29]++;return coins.add(index,coin);}/**
   * Add a coin to the collection.
   * @param {Coin} coin
   * @returns {CoinEntry|null}
   */addCoin(coin){cov_1zqnd7z5ou().f[9]++;const coins=(cov_1zqnd7z5ou().s[30]++,this.ensure(coin.hash));cov_1zqnd7z5ou().s[31]++;return coins.addCoin(coin);}/**
   * Add an output to the collection.
   * @param {Outpoint} prevout
   * @param {Output} output
   * @returns {CoinEntry|null}
   */addOutput(prevout,output){cov_1zqnd7z5ou().f[10]++;const{hash,index}=(cov_1zqnd7z5ou().s[32]++,prevout);const coins=(cov_1zqnd7z5ou().s[33]++,this.ensure(hash));cov_1zqnd7z5ou().s[34]++;return coins.addOutput(index,output);}/**
   * Add an output to the collection by output index.
   * @param {TX} tx
   * @param {Number} index
   * @param {Number} height
   * @returns {CoinEntry|null}
   */addIndex(tx,index,height){cov_1zqnd7z5ou().f[11]++;const hash=(cov_1zqnd7z5ou().s[35]++,tx.hash());const coins=(cov_1zqnd7z5ou().s[36]++,this.ensure(hash));cov_1zqnd7z5ou().s[37]++;return coins.addIndex(tx,index,height);}/**
   * Spend an output.
   * @param {Outpoint} prevout
   * @returns {CoinEntry|null}
   */spendEntry(prevout){cov_1zqnd7z5ou().f[12]++;const{hash,index}=(cov_1zqnd7z5ou().s[38]++,prevout);const coins=(cov_1zqnd7z5ou().s[39]++,this.get(hash));cov_1zqnd7z5ou().s[40]++;if(!coins){cov_1zqnd7z5ou().b[2][0]++;cov_1zqnd7z5ou().s[41]++;return null;}else{cov_1zqnd7z5ou().b[2][1]++;}const coin=(cov_1zqnd7z5ou().s[42]++,coins.spend(index));cov_1zqnd7z5ou().s[43]++;if(!coin){cov_1zqnd7z5ou().b[3][0]++;cov_1zqnd7z5ou().s[44]++;return null;}else{cov_1zqnd7z5ou().b[3][1]++;}cov_1zqnd7z5ou().s[45]++;this.undo.push(coin);cov_1zqnd7z5ou().s[46]++;return coin;}/**
   * Remove an output.
   * @param {Outpoint} prevout
   * @returns {CoinEntry|null}
   */removeEntry(prevout){cov_1zqnd7z5ou().f[13]++;const{hash,index}=(cov_1zqnd7z5ou().s[47]++,prevout);const coins=(cov_1zqnd7z5ou().s[48]++,this.get(hash));cov_1zqnd7z5ou().s[49]++;if(!coins){cov_1zqnd7z5ou().b[4][0]++;cov_1zqnd7z5ou().s[50]++;return null;}else{cov_1zqnd7z5ou().b[4][1]++;}cov_1zqnd7z5ou().s[51]++;return coins.remove(index);}/**
   * Test whether the view has an entry by prevout.
   * @param {Outpoint} prevout
   * @returns {Boolean}
   */hasEntry(prevout){cov_1zqnd7z5ou().f[14]++;const{hash,index}=(cov_1zqnd7z5ou().s[52]++,prevout);const coins=(cov_1zqnd7z5ou().s[53]++,this.get(hash));cov_1zqnd7z5ou().s[54]++;if(!coins){cov_1zqnd7z5ou().b[5][0]++;cov_1zqnd7z5ou().s[55]++;return false;}else{cov_1zqnd7z5ou().b[5][1]++;}cov_1zqnd7z5ou().s[56]++;return coins.has(index);}/**
   * Get a single entry by prevout.
   * @param {Outpoint} prevout
   * @returns {CoinEntry|null}
   */getEntry(prevout){cov_1zqnd7z5ou().f[15]++;const{hash,index}=(cov_1zqnd7z5ou().s[57]++,prevout);const coins=(cov_1zqnd7z5ou().s[58]++,this.get(hash));cov_1zqnd7z5ou().s[59]++;if(!coins){cov_1zqnd7z5ou().b[6][0]++;cov_1zqnd7z5ou().s[60]++;return null;}else{cov_1zqnd7z5ou().b[6][1]++;}cov_1zqnd7z5ou().s[61]++;return coins.get(index);}/**
   * Test whether an entry has been spent by prevout.
   * @param {Outpoint} prevout
   * @returns {Boolean}
   */isUnspent(prevout){cov_1zqnd7z5ou().f[16]++;const{hash,index}=(cov_1zqnd7z5ou().s[62]++,prevout);const coins=(cov_1zqnd7z5ou().s[63]++,this.get(hash));cov_1zqnd7z5ou().s[64]++;if(!coins){cov_1zqnd7z5ou().b[7][0]++;cov_1zqnd7z5ou().s[65]++;return false;}else{cov_1zqnd7z5ou().b[7][1]++;}cov_1zqnd7z5ou().s[66]++;return coins.isUnspent(index);}/**
   * Get a single coin by prevout.
   * @param {Outpoint} prevout
   * @returns {Coin|null}
   */getCoin(prevout){cov_1zqnd7z5ou().f[17]++;const coins=(cov_1zqnd7z5ou().s[67]++,this.get(prevout.hash));cov_1zqnd7z5ou().s[68]++;if(!coins){cov_1zqnd7z5ou().b[8][0]++;cov_1zqnd7z5ou().s[69]++;return null;}else{cov_1zqnd7z5ou().b[8][1]++;}cov_1zqnd7z5ou().s[70]++;return coins.getCoin(prevout);}/**
   * Get a single output by prevout.
   * @param {Outpoint} prevout
   * @returns {Output|null}
   */getOutput(prevout){cov_1zqnd7z5ou().f[18]++;const{hash,index}=(cov_1zqnd7z5ou().s[71]++,prevout);const coins=(cov_1zqnd7z5ou().s[72]++,this.get(hash));cov_1zqnd7z5ou().s[73]++;if(!coins){cov_1zqnd7z5ou().b[9][0]++;cov_1zqnd7z5ou().s[74]++;return null;}else{cov_1zqnd7z5ou().b[9][1]++;}cov_1zqnd7z5ou().s[75]++;return coins.getOutput(index);}/**
   * Get coins height by prevout.
   * @param {Outpoint} prevout
   * @returns {Number}
   */getHeight(prevout){cov_1zqnd7z5ou().f[19]++;const coin=(cov_1zqnd7z5ou().s[76]++,this.getEntry(prevout));cov_1zqnd7z5ou().s[77]++;if(!coin){cov_1zqnd7z5ou().b[10][0]++;cov_1zqnd7z5ou().s[78]++;return-1;}else{cov_1zqnd7z5ou().b[10][1]++;}cov_1zqnd7z5ou().s[79]++;return coin.height;}/**
   * Get coins coinbase flag by prevout.
   * @param {Outpoint} prevout
   * @returns {Boolean}
   */isCoinbase(prevout){cov_1zqnd7z5ou().f[20]++;const coin=(cov_1zqnd7z5ou().s[80]++,this.getEntry(prevout));cov_1zqnd7z5ou().s[81]++;if(!coin){cov_1zqnd7z5ou().b[11][0]++;cov_1zqnd7z5ou().s[82]++;return false;}else{cov_1zqnd7z5ou().b[11][1]++;}cov_1zqnd7z5ou().s[83]++;return coin.coinbase;}/**
   * Test whether the view has an entry by input.
   * @param {Input} input
   * @returns {Boolean}
   */hasEntryFor(input){cov_1zqnd7z5ou().f[21]++;cov_1zqnd7z5ou().s[84]++;return this.hasEntry(input.prevout);}/**
   * Get a single entry by input.
   * @param {Input} input
   * @returns {CoinEntry|null}
   */getEntryFor(input){cov_1zqnd7z5ou().f[22]++;cov_1zqnd7z5ou().s[85]++;return this.getEntry(input.prevout);}/**
   * Test whether an entry has been spent by input.
   * @param {Input} input
   * @returns {Boolean}
   */isUnspentFor(input){cov_1zqnd7z5ou().f[23]++;cov_1zqnd7z5ou().s[86]++;return this.isUnspent(input.prevout);}/**
   * Get a single coin by input.
   * @param {Input} input
   * @returns {Coin|null}
   */getCoinFor(input){cov_1zqnd7z5ou().f[24]++;cov_1zqnd7z5ou().s[87]++;return this.getCoin(input.prevout);}/**
   * Get a single output by input.
   * @param {Input} input
   * @returns {Output|null}
   */getOutputFor(input){cov_1zqnd7z5ou().f[25]++;cov_1zqnd7z5ou().s[88]++;return this.getOutput(input.prevout);}/**
   * Get coins height by input.
   * @param {Input} input
   * @returns {Number}
   */getHeightFor(input){cov_1zqnd7z5ou().f[26]++;cov_1zqnd7z5ou().s[89]++;return this.getHeight(input.prevout);}/**
   * Get coins coinbase flag by input.
   * @param {Input} input
   * @returns {Boolean}
   */isCoinbaseFor(input){cov_1zqnd7z5ou().f[27]++;cov_1zqnd7z5ou().s[90]++;return this.isCoinbase(input.prevout);}/**
   * Retrieve coins from database.
   * @method
   * @param {ChainDB} db
   * @param {Outpoint} prevout
   * @returns {Promise} - Returns {@link CoinEntry}.
   */async readCoin(db,prevout){cov_1zqnd7z5ou().f[28]++;const cache=(cov_1zqnd7z5ou().s[91]++,this.getEntry(prevout));cov_1zqnd7z5ou().s[92]++;if(cache){cov_1zqnd7z5ou().b[12][0]++;cov_1zqnd7z5ou().s[93]++;return cache;}else{cov_1zqnd7z5ou().b[12][1]++;}const coin=(cov_1zqnd7z5ou().s[94]++,await db.readCoin(prevout));cov_1zqnd7z5ou().s[95]++;if(!coin){cov_1zqnd7z5ou().b[13][0]++;cov_1zqnd7z5ou().s[96]++;return null;}else{cov_1zqnd7z5ou().b[13][1]++;}cov_1zqnd7z5ou().s[97]++;return this.addEntry(prevout,coin);}/**
   * Read all input coins into unspent map.
   * @method
   * @param {ChainDB} db
   * @param {TX} tx
   * @returns {Promise} - Returns {Boolean}.
   */async readInputs(db,tx){cov_1zqnd7z5ou().f[29]++;let found=(cov_1zqnd7z5ou().s[98]++,true);cov_1zqnd7z5ou().s[99]++;for(const{prevout}of tx.inputs){cov_1zqnd7z5ou().s[100]++;if(!(await this.readCoin(db,prevout))){cov_1zqnd7z5ou().b[14][0]++;cov_1zqnd7z5ou().s[101]++;found=false;}else{cov_1zqnd7z5ou().b[14][1]++;}}cov_1zqnd7z5ou().s[102]++;return found;}/**
   * Spend coins for transaction.
   * @method
   * @param {ChainDB} db
   * @param {TX} tx
   * @returns {Promise} - Returns {Boolean}.
   */async spendInputs(db,tx){cov_1zqnd7z5ou().f[30]++;let i=(cov_1zqnd7z5ou().s[103]++,0);cov_1zqnd7z5ou().s[104]++;while(i<tx.inputs.length){const len=(cov_1zqnd7z5ou().s[105]++,Math.min(i+4,tx.inputs.length));const jobs=(cov_1zqnd7z5ou().s[106]++,[]);cov_1zqnd7z5ou().s[107]++;for(;i<len;i++){const{prevout}=(cov_1zqnd7z5ou().s[108]++,tx.inputs[i]);cov_1zqnd7z5ou().s[109]++;jobs.push(this.readCoin(db,prevout));}const coins=(cov_1zqnd7z5ou().s[110]++,await Promise.all(jobs));cov_1zqnd7z5ou().s[111]++;for(const coin of coins){cov_1zqnd7z5ou().s[112]++;if((cov_1zqnd7z5ou().b[16][0]++,!coin)||(cov_1zqnd7z5ou().b[16][1]++,coin.spent)){cov_1zqnd7z5ou().b[15][0]++;cov_1zqnd7z5ou().s[113]++;return false;}else{cov_1zqnd7z5ou().b[15][1]++;}cov_1zqnd7z5ou().s[114]++;coin.spent=true;cov_1zqnd7z5ou().s[115]++;this.undo.push(coin);}}cov_1zqnd7z5ou().s[116]++;return true;}/**
   * Calculate serialization size.
   * @returns {Number}
   */getSize(tx){cov_1zqnd7z5ou().f[31]++;let size=(cov_1zqnd7z5ou().s[117]++,0);cov_1zqnd7z5ou().s[118]++;size+=tx.inputs.length;cov_1zqnd7z5ou().s[119]++;for(const{prevout}of tx.inputs){const coin=(cov_1zqnd7z5ou().s[120]++,this.getEntry(prevout));cov_1zqnd7z5ou().s[121]++;if(!coin){cov_1zqnd7z5ou().b[17][0]++;cov_1zqnd7z5ou().s[122]++;continue;}else{cov_1zqnd7z5ou().b[17][1]++;}cov_1zqnd7z5ou().s[123]++;size+=coin.getSize();}cov_1zqnd7z5ou().s[124]++;return size;}/**
   * Write coin data to buffer writer
   * as it pertains to a transaction.
   * @param {BufferWriter} bw
   * @param {TX} tx
   */toWriter(bw,tx){cov_1zqnd7z5ou().f[32]++;cov_1zqnd7z5ou().s[125]++;for(const{prevout}of tx.inputs){const coin=(cov_1zqnd7z5ou().s[126]++,this.getEntry(prevout));cov_1zqnd7z5ou().s[127]++;if(!coin){cov_1zqnd7z5ou().b[18][0]++;cov_1zqnd7z5ou().s[128]++;bw.writeU8(0);cov_1zqnd7z5ou().s[129]++;continue;}else{cov_1zqnd7z5ou().b[18][1]++;}cov_1zqnd7z5ou().s[130]++;bw.writeU8(1);cov_1zqnd7z5ou().s[131]++;coin.toWriter(bw);}cov_1zqnd7z5ou().s[132]++;return bw;}/**
   * Read serialized view data from a buffer
   * reader as it pertains to a transaction.
   * @private
   * @param {BufferReader} br
   * @param {TX} tx
   */fromReader(br,tx){cov_1zqnd7z5ou().f[33]++;cov_1zqnd7z5ou().s[133]++;for(const{prevout}of tx.inputs){cov_1zqnd7z5ou().s[134]++;if(br.readU8()===0){cov_1zqnd7z5ou().b[19][0]++;cov_1zqnd7z5ou().s[135]++;continue;}else{cov_1zqnd7z5ou().b[19][1]++;}const coin=(cov_1zqnd7z5ou().s[136]++,CoinEntry.fromReader(br));cov_1zqnd7z5ou().s[137]++;this.addEntry(prevout,coin);}cov_1zqnd7z5ou().s[138]++;return this;}/**
   * Read serialized view data from a buffer
   * reader as it pertains to a transaction.
   * @param {BufferReader} br
   * @param {TX} tx
   * @returns {CoinView}
   */static fromReader(br,tx){cov_1zqnd7z5ou().f[34]++;cov_1zqnd7z5ou().s[139]++;return new this().fromReader(br,tx);}}/*
 * Expose
 */cov_1zqnd7z5ou().s[140]++;module.exports=CoinView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvaW52aWV3LmpzIl0sIm5hbWVzIjpbIkJ1ZmZlck1hcCIsInJlcXVpcmUiLCJDb2lucyIsIlVuZG9Db2lucyIsIkNvaW5FbnRyeSIsIkNvaW5WaWV3IiwiY29uc3RydWN0b3IiLCJtYXAiLCJ1bmRvIiwiZ2V0IiwiaGFzaCIsImhhcyIsImFkZCIsImNvaW5zIiwic2V0IiwiZW5zdXJlIiwicmVtb3ZlIiwiZGVsZXRlIiwiYWRkVFgiLCJ0eCIsImhlaWdodCIsImZyb21UWCIsInJlbW92ZVRYIiwiY29pbiIsIm91dHB1dHMiLCJ2YWx1ZXMiLCJzcGVudCIsImFkZEVudHJ5IiwicHJldm91dCIsImluZGV4IiwiYWRkQ29pbiIsImFkZE91dHB1dCIsIm91dHB1dCIsImFkZEluZGV4Iiwic3BlbmRFbnRyeSIsInNwZW5kIiwicHVzaCIsInJlbW92ZUVudHJ5IiwiaGFzRW50cnkiLCJnZXRFbnRyeSIsImlzVW5zcGVudCIsImdldENvaW4iLCJnZXRPdXRwdXQiLCJnZXRIZWlnaHQiLCJpc0NvaW5iYXNlIiwiY29pbmJhc2UiLCJoYXNFbnRyeUZvciIsImlucHV0IiwiZ2V0RW50cnlGb3IiLCJpc1Vuc3BlbnRGb3IiLCJnZXRDb2luRm9yIiwiZ2V0T3V0cHV0Rm9yIiwiZ2V0SGVpZ2h0Rm9yIiwiaXNDb2luYmFzZUZvciIsInJlYWRDb2luIiwiZGIiLCJjYWNoZSIsInJlYWRJbnB1dHMiLCJmb3VuZCIsImlucHV0cyIsInNwZW5kSW5wdXRzIiwiaSIsImxlbmd0aCIsImxlbiIsIk1hdGgiLCJtaW4iLCJqb2JzIiwiUHJvbWlzZSIsImFsbCIsImdldFNpemUiLCJzaXplIiwidG9Xcml0ZXIiLCJidyIsIndyaXRlVTgiLCJmcm9tUmVhZGVyIiwiYnIiLCJyZWFkVTgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBRUEsYSwra21CQVNZOzJGQVBaLEtBQU0sQ0FBQ0EsU0FBRCwyQkFBY0MsT0FBTyxDQUFD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QkFNakMsS0FBS2hELFFBQUwsQ0FBY0MsT0FBZCxDQUF1QkwsSUFBdkIsRUFDRCxDQVJnQiwwQkFVakIsTUFBTyxLQUFQLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUVFLE1BQU9tRCxDQUFBQSxVQUFQLENBQWtCQyxFQUFsQixDQUFzQnhELEVBQXRCLENBQTBCLG9EQUN4QixNQUFPLElBQUksS0FBSixHQUFXdUQsVUFBWCxDQUFzQkMsRUFBdEIsQ0FBMEJ4RCxFQUExQixDQUFQLENBQ0QsQ0E3Z0JZLENBZ2hCZjtBQUNBO0FBQ0EsRywwQkFFQTBELE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQnpFLFFBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIGNvaW52aWV3LmpzIC0gY29pbiB2aWV3cG9pbnQgb2JqZWN0IGZvciBiY29pblxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgQ2hyaXN0b3BoZXIgSmVmZnJleSAoTUlUIExpY2Vuc2UpLlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmNvaW4tb3JnL2Jjb2luXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3Qge0J1ZmZlck1hcH0gPSByZXF1aXJlKCdidWZmZXItbWFwJyk7XHJcbmNvbnN0IENvaW5zID0gcmVxdWlyZSgnLi9jb2lucycpO1xyXG5jb25zdCBVbmRvQ29pbnMgPSByZXF1aXJlKCcuL3VuZG9jb2lucycpO1xyXG5jb25zdCBDb2luRW50cnkgPSByZXF1aXJlKCcuL2NvaW5lbnRyeScpO1xyXG5cclxuLyoqXHJcbiAqIENvaW4gVmlld1xyXG4gKiBSZXByZXNlbnRzIGEgY29pbiB2aWV3cG9pbnQ6XHJcbiAqIGEgc25hcHNob3Qgb2Yge0BsaW5rIENvaW5zfSBvYmplY3RzLlxyXG4gKiBAYWxpYXMgbW9kdWxlOmNvaW5zLkNvaW5WaWV3XHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBtYXBcclxuICogQHByb3BlcnR5IHtVbmRvQ29pbnN9IHVuZG9cclxuICovXHJcblxyXG5jbGFzcyBDb2luVmlldyB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgY29pbiB2aWV3LlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubWFwID0gbmV3IEJ1ZmZlck1hcCgpO1xyXG4gICAgdGhpcy51bmRvID0gbmV3IFVuZG9Db2lucygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNvaW5zLlxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEByZXR1cm5zIHtDb2luc30gY29pbnNcclxuICAgKi9cclxuXHJcbiAgZ2V0KGhhc2gpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQoaGFzaCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZXN0IHdoZXRoZXIgdGhlIHZpZXcgaGFzIGFuIGVudHJ5LlxyXG4gICAqIEBwYXJhbSB7SGFzaH0gaGFzaFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBoYXMoaGFzaCkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwLmhhcyhoYXNoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBjb2lucyB0byB0aGUgY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge0hhc2h9IGhhc2hcclxuICAgKiBAcGFyYW0ge0NvaW5zfSBjb2luc1xyXG4gICAqIEByZXR1cm5zIHtDb2luc31cclxuICAgKi9cclxuXHJcbiAgYWRkKGhhc2gsIGNvaW5zKSB7XHJcbiAgICB0aGlzLm1hcC5zZXQoaGFzaCwgY29pbnMpO1xyXG4gICAgcmV0dXJuIGNvaW5zO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5zdXJlIGV4aXN0ZW5jZSBvZiBjb2lucyBvYmplY3QgaW4gdGhlIGNvbGxlY3Rpb24uXHJcbiAgICogQHBhcmFtIHtIYXNofSBoYXNoXHJcbiAgICogQHJldHVybnMge0NvaW5zfVxyXG4gICAqL1xyXG5cclxuICBlbnN1cmUoaGFzaCkge1xyXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLm1hcC5nZXQoaGFzaCk7XHJcblxyXG4gICAgaWYgKGNvaW5zKVxyXG4gICAgICByZXR1cm4gY29pbnM7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuYWRkKGhhc2gsIG5ldyBDb2lucygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBjb2lucyBmcm9tIHRoZSBjb2xsZWN0aW9uLlxyXG4gICAqIEBwYXJhbSB7Q29pbnN9IGNvaW5zXHJcbiAgICogQHJldHVybnMge0NvaW5zfG51bGx9XHJcbiAgICovXHJcblxyXG4gIHJlbW92ZShoYXNoKSB7XHJcbiAgICBjb25zdCBjb2lucyA9IHRoaXMubWFwLmdldChoYXNoKTtcclxuXHJcbiAgICBpZiAoIWNvaW5zKVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICB0aGlzLm1hcC5kZWxldGUoaGFzaCk7XHJcblxyXG4gICAgcmV0dXJuIGNvaW5zO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgdHggdG8gdGhlIGNvbGxlY3Rpb24uXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XHJcbiAgICogQHJldHVybnMge0NvaW5zfVxyXG4gICAqL1xyXG5cclxuICBhZGRUWCh0eCwgaGVpZ2h0KSB7XHJcbiAgICBjb25zdCBoYXNoID0gdHguaGFzaCgpO1xyXG4gICAgY29uc3QgY29pbnMgPSBDb2lucy5mcm9tVFgodHgsIGhlaWdodCk7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoaGFzaCwgY29pbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgdHggZnJvbSB0aGUgY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge1RYfSB0eFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgKiBAcmV0dXJucyB7Q29pbnN9XHJcbiAgICovXHJcblxyXG4gIHJlbW92ZVRYKHR4LCBoZWlnaHQpIHtcclxuICAgIGNvbnN0IGhhc2ggPSB0eC5oYXNoKCk7XHJcbiAgICBjb25zdCBjb2lucyA9IENvaW5zLmZyb21UWCh0eCwgaGVpZ2h0KTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGNvaW4gb2YgY29pbnMub3V0cHV0cy52YWx1ZXMoKSlcclxuICAgICAgY29pbi5zcGVudCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuYWRkKGhhc2gsIGNvaW5zKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhbiBlbnRyeSB0byB0aGUgY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge091dHBvaW50fSBwcmV2b3V0XHJcbiAgICogQHBhcmFtIHtDb2luRW50cnl9IGNvaW5cclxuICAgKiBAcmV0dXJucyB7Q29pbkVudHJ5fG51bGx9XHJcbiAgICovXHJcblxyXG4gIGFkZEVudHJ5KHByZXZvdXQsIGNvaW4pIHtcclxuICAgIGNvbnN0IHtoYXNoLCBpbmRleH0gPSBwcmV2b3V0O1xyXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLmVuc3VyZShoYXNoKTtcclxuICAgIHJldHVybiBjb2lucy5hZGQoaW5kZXgsIGNvaW4pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgY29pbiB0byB0aGUgY29sbGVjdGlvbi5cclxuICAgKiBAcGFyYW0ge0NvaW59IGNvaW5cclxuICAgKiBAcmV0dXJucyB7Q29pbkVudHJ5fG51bGx9XHJcbiAgICovXHJcblxyXG4gIGFkZENvaW4oY29pbikge1xyXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLmVuc3VyZShjb2luLmhhc2gpO1xyXG4gICAgcmV0dXJuIGNvaW5zLmFkZENvaW4oY29pbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYW4gb3V0cHV0IHRvIHRoZSBjb2xsZWN0aW9uLlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcGFyYW0ge091dHB1dH0gb3V0cHV0XHJcbiAgICogQHJldHVybnMge0NvaW5FbnRyeXxudWxsfVxyXG4gICAqL1xyXG5cclxuICBhZGRPdXRwdXQocHJldm91dCwgb3V0cHV0KSB7XHJcbiAgICBjb25zdCB7aGFzaCwgaW5kZXh9ID0gcHJldm91dDtcclxuICAgIGNvbnN0IGNvaW5zID0gdGhpcy5lbnN1cmUoaGFzaCk7XHJcbiAgICByZXR1cm4gY29pbnMuYWRkT3V0cHV0KGluZGV4LCBvdXRwdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGFuIG91dHB1dCB0byB0aGUgY29sbGVjdGlvbiBieSBvdXRwdXQgaW5kZXguXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XHJcbiAgICogQHJldHVybnMge0NvaW5FbnRyeXxudWxsfVxyXG4gICAqL1xyXG5cclxuICBhZGRJbmRleCh0eCwgaW5kZXgsIGhlaWdodCkge1xyXG4gICAgY29uc3QgaGFzaCA9IHR4Lmhhc2goKTtcclxuICAgIGNvbnN0IGNvaW5zID0gdGhpcy5lbnN1cmUoaGFzaCk7XHJcbiAgICByZXR1cm4gY29pbnMuYWRkSW5kZXgodHgsIGluZGV4LCBoZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3BlbmQgYW4gb3V0cHV0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7Q29pbkVudHJ5fG51bGx9XHJcbiAgICovXHJcblxyXG4gIHNwZW5kRW50cnkocHJldm91dCkge1xyXG4gICAgY29uc3Qge2hhc2gsIGluZGV4fSA9IHByZXZvdXQ7XHJcbiAgICBjb25zdCBjb2lucyA9IHRoaXMuZ2V0KGhhc2gpO1xyXG5cclxuICAgIGlmICghY29pbnMpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGNvaW4gPSBjb2lucy5zcGVuZChpbmRleCk7XHJcblxyXG4gICAgaWYgKCFjb2luKVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICB0aGlzLnVuZG8ucHVzaChjb2luKTtcclxuXHJcbiAgICByZXR1cm4gY29pbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbiBvdXRwdXQuXHJcbiAgICogQHBhcmFtIHtPdXRwb2ludH0gcHJldm91dFxyXG4gICAqIEByZXR1cm5zIHtDb2luRW50cnl8bnVsbH1cclxuICAgKi9cclxuXHJcbiAgcmVtb3ZlRW50cnkocHJldm91dCkge1xyXG4gICAgY29uc3Qge2hhc2gsIGluZGV4fSA9IHByZXZvdXQ7XHJcbiAgICBjb25zdCBjb2lucyA9IHRoaXMuZ2V0KGhhc2gpO1xyXG5cclxuICAgIGlmICghY29pbnMpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBjb2lucy5yZW1vdmUoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB3aGV0aGVyIHRoZSB2aWV3IGhhcyBhbiBlbnRyeSBieSBwcmV2b3V0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuXHJcbiAgaGFzRW50cnkocHJldm91dCkge1xyXG4gICAgY29uc3Qge2hhc2gsIGluZGV4fSA9IHByZXZvdXQ7XHJcbiAgICBjb25zdCBjb2lucyA9IHRoaXMuZ2V0KGhhc2gpO1xyXG5cclxuICAgIGlmICghY29pbnMpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICByZXR1cm4gY29pbnMuaGFzKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHNpbmdsZSBlbnRyeSBieSBwcmV2b3V0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7Q29pbkVudHJ5fG51bGx9XHJcbiAgICovXHJcblxyXG4gIGdldEVudHJ5KHByZXZvdXQpIHtcclxuICAgIGNvbnN0IHtoYXNoLCBpbmRleH0gPSBwcmV2b3V0O1xyXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLmdldChoYXNoKTtcclxuXHJcbiAgICBpZiAoIWNvaW5zKVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gY29pbnMuZ2V0KGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlc3Qgd2hldGhlciBhbiBlbnRyeSBoYXMgYmVlbiBzcGVudCBieSBwcmV2b3V0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuXHJcbiAgaXNVbnNwZW50KHByZXZvdXQpIHtcclxuICAgIGNvbnN0IHtoYXNoLCBpbmRleH0gPSBwcmV2b3V0O1xyXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLmdldChoYXNoKTtcclxuXHJcbiAgICBpZiAoIWNvaW5zKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgcmV0dXJuIGNvaW5zLmlzVW5zcGVudChpbmRleCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYSBzaW5nbGUgY29pbiBieSBwcmV2b3V0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7Q29pbnxudWxsfVxyXG4gICAqL1xyXG5cclxuICBnZXRDb2luKHByZXZvdXQpIHtcclxuICAgIGNvbnN0IGNvaW5zID0gdGhpcy5nZXQocHJldm91dC5oYXNoKTtcclxuXHJcbiAgICBpZiAoIWNvaW5zKVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gY29pbnMuZ2V0Q29pbihwcmV2b3V0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHNpbmdsZSBvdXRwdXQgYnkgcHJldm91dC5cclxuICAgKiBAcGFyYW0ge091dHBvaW50fSBwcmV2b3V0XHJcbiAgICogQHJldHVybnMge091dHB1dHxudWxsfVxyXG4gICAqL1xyXG5cclxuICBnZXRPdXRwdXQocHJldm91dCkge1xyXG4gICAgY29uc3Qge2hhc2gsIGluZGV4fSA9IHByZXZvdXQ7XHJcbiAgICBjb25zdCBjb2lucyA9IHRoaXMuZ2V0KGhhc2gpO1xyXG5cclxuICAgIGlmICghY29pbnMpXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBjb2lucy5nZXRPdXRwdXQoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNvaW5zIGhlaWdodCBieSBwcmV2b3V0LlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAqL1xyXG5cclxuICBnZXRIZWlnaHQocHJldm91dCkge1xyXG4gICAgY29uc3QgY29pbiA9IHRoaXMuZ2V0RW50cnkocHJldm91dCk7XHJcblxyXG4gICAgaWYgKCFjb2luKVxyXG4gICAgICByZXR1cm4gLTE7XHJcblxyXG4gICAgcmV0dXJuIGNvaW4uaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNvaW5zIGNvaW5iYXNlIGZsYWcgYnkgcHJldm91dC5cclxuICAgKiBAcGFyYW0ge091dHBvaW50fSBwcmV2b3V0XHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIGlzQ29pbmJhc2UocHJldm91dCkge1xyXG4gICAgY29uc3QgY29pbiA9IHRoaXMuZ2V0RW50cnkocHJldm91dCk7XHJcblxyXG4gICAgaWYgKCFjb2luKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgcmV0dXJuIGNvaW4uY29pbmJhc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZXN0IHdoZXRoZXIgdGhlIHZpZXcgaGFzIGFuIGVudHJ5IGJ5IGlucHV0LlxyXG4gICAqIEBwYXJhbSB7SW5wdXR9IGlucHV0XHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIGhhc0VudHJ5Rm9yKGlucHV0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5oYXNFbnRyeShpbnB1dC5wcmV2b3V0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHNpbmdsZSBlbnRyeSBieSBpbnB1dC5cclxuICAgKiBAcGFyYW0ge0lucHV0fSBpbnB1dFxyXG4gICAqIEByZXR1cm5zIHtDb2luRW50cnl8bnVsbH1cclxuICAgKi9cclxuXHJcbiAgZ2V0RW50cnlGb3IoaW5wdXQpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEVudHJ5KGlucHV0LnByZXZvdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB3aGV0aGVyIGFuIGVudHJ5IGhhcyBiZWVuIHNwZW50IGJ5IGlucHV0LlxyXG4gICAqIEBwYXJhbSB7SW5wdXR9IGlucHV0XHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIGlzVW5zcGVudEZvcihpbnB1dCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNVbnNwZW50KGlucHV0LnByZXZvdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgc2luZ2xlIGNvaW4gYnkgaW5wdXQuXHJcbiAgICogQHBhcmFtIHtJbnB1dH0gaW5wdXRcclxuICAgKiBAcmV0dXJucyB7Q29pbnxudWxsfVxyXG4gICAqL1xyXG5cclxuICBnZXRDb2luRm9yKGlucHV0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRDb2luKGlucHV0LnByZXZvdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgc2luZ2xlIG91dHB1dCBieSBpbnB1dC5cclxuICAgKiBAcGFyYW0ge0lucHV0fSBpbnB1dFxyXG4gICAqIEByZXR1cm5zIHtPdXRwdXR8bnVsbH1cclxuICAgKi9cclxuXHJcbiAgZ2V0T3V0cHV0Rm9yKGlucHV0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRPdXRwdXQoaW5wdXQucHJldm91dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY29pbnMgaGVpZ2h0IGJ5IGlucHV0LlxyXG4gICAqIEBwYXJhbSB7SW5wdXR9IGlucHV0XHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuXHJcbiAgZ2V0SGVpZ2h0Rm9yKGlucHV0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRIZWlnaHQoaW5wdXQucHJldm91dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY29pbnMgY29pbmJhc2UgZmxhZyBieSBpbnB1dC5cclxuICAgKiBAcGFyYW0ge0lucHV0fSBpbnB1dFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBpc0NvaW5iYXNlRm9yKGlucHV0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc0NvaW5iYXNlKGlucHV0LnByZXZvdXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmUgY29pbnMgZnJvbSBkYXRhYmFzZS5cclxuICAgKiBAbWV0aG9kXHJcbiAgICogQHBhcmFtIHtDaGFpbkRCfSBkYlxyXG4gICAqIEBwYXJhbSB7T3V0cG9pbnR9IHByZXZvdXRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXR1cm5zIHtAbGluayBDb2luRW50cnl9LlxyXG4gICAqL1xyXG5cclxuICBhc3luYyByZWFkQ29pbihkYiwgcHJldm91dCkge1xyXG4gICAgY29uc3QgY2FjaGUgPSB0aGlzLmdldEVudHJ5KHByZXZvdXQpO1xyXG5cclxuICAgIGlmIChjYWNoZSlcclxuICAgICAgcmV0dXJuIGNhY2hlO1xyXG5cclxuICAgIGNvbnN0IGNvaW4gPSBhd2FpdCBkYi5yZWFkQ29pbihwcmV2b3V0KTtcclxuXHJcbiAgICBpZiAoIWNvaW4pXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmFkZEVudHJ5KHByZXZvdXQsIGNvaW4pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCBhbGwgaW5wdXQgY29pbnMgaW50byB1bnNwZW50IG1hcC5cclxuICAgKiBAbWV0aG9kXHJcbiAgICogQHBhcmFtIHtDaGFpbkRCfSBkYlxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gUmV0dXJucyB7Qm9vbGVhbn0uXHJcbiAgICovXHJcblxyXG4gIGFzeW5jIHJlYWRJbnB1dHMoZGIsIHR4KSB7XHJcbiAgICBsZXQgZm91bmQgPSB0cnVlO1xyXG5cclxuICAgIGZvciAoY29uc3Qge3ByZXZvdXR9IG9mIHR4LmlucHV0cykge1xyXG4gICAgICBpZiAoIWF3YWl0IHRoaXMucmVhZENvaW4oZGIsIHByZXZvdXQpKVxyXG4gICAgICAgIGZvdW5kID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZvdW5kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3BlbmQgY29pbnMgZm9yIHRyYW5zYWN0aW9uLlxyXG4gICAqIEBtZXRob2RcclxuICAgKiBAcGFyYW0ge0NoYWluREJ9IGRiXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXR1cm5zIHtCb29sZWFufS5cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgc3BlbmRJbnB1dHMoZGIsIHR4KSB7XHJcbiAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgd2hpbGUgKGkgPCB0eC5pbnB1dHMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWluKGkgKyA0LCB0eC5pbnB1dHMubGVuZ3RoKTtcclxuICAgICAgY29uc3Qgam9icyA9IFtdO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHtwcmV2b3V0fSA9IHR4LmlucHV0c1tpXTtcclxuICAgICAgICBqb2JzLnB1c2godGhpcy5yZWFkQ29pbihkYiwgcHJldm91dCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjb2lucyA9IGF3YWl0IFByb21pc2UuYWxsKGpvYnMpO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBjb2luIG9mIGNvaW5zKSB7XHJcbiAgICAgICAgaWYgKCFjb2luIHx8IGNvaW4uc3BlbnQpXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvaW4uc3BlbnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudW5kby5wdXNoKGNvaW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgc2VyaWFsaXphdGlvbiBzaXplLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICovXHJcblxyXG4gIGdldFNpemUodHgpIHtcclxuICAgIGxldCBzaXplID0gMDtcclxuXHJcbiAgICBzaXplICs9IHR4LmlucHV0cy5sZW5ndGg7XHJcblxyXG4gICAgZm9yIChjb25zdCB7cHJldm91dH0gb2YgdHguaW5wdXRzKSB7XHJcbiAgICAgIGNvbnN0IGNvaW4gPSB0aGlzLmdldEVudHJ5KHByZXZvdXQpO1xyXG5cclxuICAgICAgaWYgKCFjb2luKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgc2l6ZSArPSBjb2luLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2l6ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdyaXRlIGNvaW4gZGF0YSB0byBidWZmZXIgd3JpdGVyXHJcbiAgICogYXMgaXQgcGVydGFpbnMgdG8gYSB0cmFuc2FjdGlvbi5cclxuICAgKiBAcGFyYW0ge0J1ZmZlcldyaXRlcn0gYndcclxuICAgKiBAcGFyYW0ge1RYfSB0eFxyXG4gICAqL1xyXG5cclxuICB0b1dyaXRlcihidywgdHgpIHtcclxuICAgIGZvciAoY29uc3Qge3ByZXZvdXR9IG9mIHR4LmlucHV0cykge1xyXG4gICAgICBjb25zdCBjb2luID0gdGhpcy5nZXRFbnRyeShwcmV2b3V0KTtcclxuXHJcbiAgICAgIGlmICghY29pbikge1xyXG4gICAgICAgIGJ3LndyaXRlVTgoMCk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJ3LndyaXRlVTgoMSk7XHJcbiAgICAgIGNvaW4udG9Xcml0ZXIoYncpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBidztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWQgc2VyaWFsaXplZCB2aWV3IGRhdGEgZnJvbSBhIGJ1ZmZlclxyXG4gICAqIHJlYWRlciBhcyBpdCBwZXJ0YWlucyB0byBhIHRyYW5zYWN0aW9uLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtCdWZmZXJSZWFkZXJ9IGJyXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKi9cclxuXHJcbiAgZnJvbVJlYWRlcihiciwgdHgpIHtcclxuICAgIGZvciAoY29uc3Qge3ByZXZvdXR9IG9mIHR4LmlucHV0cykge1xyXG4gICAgICBpZiAoYnIucmVhZFU4KCkgPT09IDApXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBjb25zdCBjb2luID0gQ29pbkVudHJ5LmZyb21SZWFkZXIoYnIpO1xyXG5cclxuICAgICAgdGhpcy5hZGRFbnRyeShwcmV2b3V0LCBjb2luKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWQgc2VyaWFsaXplZCB2aWV3IGRhdGEgZnJvbSBhIGJ1ZmZlclxyXG4gICAqIHJlYWRlciBhcyBpdCBwZXJ0YWlucyB0byBhIHRyYW5zYWN0aW9uLlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyUmVhZGVyfSBiclxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHJldHVybnMge0NvaW5WaWV3fVxyXG4gICAqL1xyXG5cclxuICBzdGF0aWMgZnJvbVJlYWRlcihiciwgdHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcygpLmZyb21SZWFkZXIoYnIsIHR4KTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAqIEV4cG9zZVxyXG4gKi9cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ29pblZpZXc7XHJcbiJdfQ==