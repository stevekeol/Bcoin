/*!
 * workerpool.js - worker processes for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */ /* eslint no-nested-ternary: "off" */'use strict';function cov_17ws8uu54r(){var path="E:\\Projects\\Test\\bcoin\\lib\\workers\\workerpool.js";var hash="adc73540f765187bb3288c3c3c83cc203efdb98d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\Projects\\Test\\bcoin\\lib\\workers\\workerpool.js",statementMap:{"0":{start:{line:12,column:15},end:{line:12,column:31}},"1":{start:{line:13,column:21},end:{line:13,column:38}},"2":{start:{line:14,column:11},end:{line:14,column:24}},"3":{start:{line:15,column:16},end:{line:15,column:46}},"4":{start:{line:16,column:14},end:{line:16,column:32}},"5":{start:{line:17,column:13},end:{line:17,column:30}},"6":{start:{line:18,column:15},end:{line:18,column:34}},"7":{start:{line:19,column:15},end:{line:19,column:34}},"8":{start:{line:20,column:16},end:{line:20,column:36}},"9":{start:{line:42,column:4},end:{line:42,column:12}},"10":{start:{line:44,column:4},end:{line:44,column:25}},"11":{start:{line:45,column:4},end:{line:45,column:27}},"12":{start:{line:46,column:4},end:{line:46,column:26}},"13":{start:{line:47,column:4},end:{line:47,column:61}},"14":{start:{line:49,column:4},end:{line:49,column:30}},"15":{start:{line:50,column:4},end:{line:50,column:17}},"16":{start:{line:52,column:4},end:{line:52,column:22}},"17":{start:{line:61,column:4},end:{line:62,column:13}},"18":{start:{line:62,column:6},end:{line:62,column:13}},"19":{start:{line:64,column:4},end:{line:67,column:5}},"20":{start:{line:65,column:6},end:{line:65,column:51}},"21":{start:{line:66,column:6},end:{line:66,column:37}},"22":{start:{line:69,column:4},end:{line:73,column:5}},"23":{start:{line:70,column:6},end:{line:70,column:52}},"24":{start:{line:71,column:6},end:{line:71,column:31}},"25":{start:{line:72,column:6},end:{line:72,column:31}},"26":{start:{line:75,column:4},end:{line:79,column:5}},"27":{start:{line:76,column:6},end:{line:76,column:52}},"28":{start:{line:77,column:6},end:{line:77,column:36}},"29":{start:{line:78,column:6},end:{line:78,column:37}},"30":{start:{line:81,column:4},end:{line:84,column:5}},"31":{start:{line:82,column:6},end:{line:82,column:47}},"32":{start:{line:83,column:6},end:{line:83,column:31}},"33":{start:{line:102,column:4},end:{line:102,column:19}},"34":{start:{line:112,column:18},end:{line:112,column:39}},"35":{start:{line:114,column:4},end:{line:114,column:18}},"36":{start:{line:116,column:4},end:{line:118,column:7}},"37":{start:{line:117,column:6},end:{line:117,column:37}},"38":{start:{line:120,column:4},end:{line:125,column:7}},"39":{start:{line:121,column:6},end:{line:121,column:37}},"40":{start:{line:123,column:6},end:{line:124,column:33}},"41":{start:{line:124,column:8},end:{line:124,column:33}},"42":{start:{line:127,column:4},end:{line:130,column:7}},"43":{start:{line:128,column:6},end:{line:128,column:39}},"44":{start:{line:129,column:6},end:{line:129,column:26}},"45":{start:{line:132,column:4},end:{line:134,column:7}},"46":{start:{line:133,column:6},end:{line:133,column:36}},"47":{start:{line:136,column:4},end:{line:136,column:30}},"48":{start:{line:138,column:4},end:{line:138,column:17}},"49":{start:{line:148,column:15},end:{line:148,column:37}},"50":{start:{line:150,column:4},end:{line:151,column:44}},"51":{start:{line:151,column:6},end:{line:151,column:44}},"52":{start:{line:153,column:4},end:{line:153,column:33}},"53":{start:{line:164,column:17},end:{line:164,column:21}},"54":{start:{line:166,column:4},end:{line:169,column:5}},"55":{start:{line:167,column:6},end:{line:168,column:23}},"56":{start:{line:168,column:8},end:{line:168,column:23}},"57":{start:{line:171,column:4},end:{line:171,column:18}},"58":{start:{line:179,column:4},end:{line:180,column:22}},"59":{start:{line:180,column:6},end:{line:180,column:22}},"60":{start:{line:191,column:4},end:{line:204,column:5}},"61":{start:{line:192,column:6},end:{line:203,column:9}},"62":{start:{line:193,column:8},end:{line:202,column:11}},"63":{start:{line:195,column:10},end:{line:200,column:11}},"64":{start:{line:196,column:12},end:{line:196,column:41}},"65":{start:{line:198,column:12},end:{line:198,column:22}},"66":{start:{line:199,column:12},end:{line:199,column:19}},"67":{start:{line:201,column:10},end:{line:201,column:26}},"68":{start:{line:206,column:4},end:{line:207,column:29}},"69":{start:{line:207,column:6},end:{line:207,column:29}},"70":{start:{line:209,column:18},end:{line:209,column:30}},"71":{start:{line:211,column:4},end:{line:211,column:42}},"72":{start:{line:224,column:19},end:{line:224,column:59}},"73":{start:{line:225,column:19},end:{line:225,column:49}},"74":{start:{line:227,column:4},end:{line:228,column:25}},"75":{start:{line:228,column:6},end:{line:228,column:25}},"76":{start:{line:230,column:4},end:{line:230,column:16}},"77":{start:{line:243,column:16},end:{line:243,column:20}},"78":{start:{line:245,column:4},end:{line:246,column:22}},"79":{start:{line:246,column:6},end:{line:246,column:22}},"80":{start:{line:248,column:19},end:{line:248,column:58}},"81":{start:{line:249,column:19},end:{line:249,column:49}},"82":{start:{line:251,column:4},end:{line:251,column:22}},"83":{start:{line:253,column:4},end:{line:253,column:24}},"84":{start:{line:267,column:19},end:{line:267,column:71}},"85":{start:{line:268,column:19},end:{line:268,column:49}},"86":{start:{line:270,column:4},end:{line:271,column:25}},"87":{start:{line:271,column:6},end:{line:271,column:25}},"88":{start:{line:273,column:4},end:{line:273,column:16}},"89":{start:{line:288,column:19},end:{line:288,column:75}},"90":{start:{line:289,column:19},end:{line:289,column:49}},"91":{start:{line:290,column:4},end:{line:290,column:22}},"92":{start:{line:291,column:4},end:{line:291,column:24}},"93":{start:{line:304,column:19},end:{line:304,column:60}},"94":{start:{line:305,column:19},end:{line:305,column:49}},"95":{start:{line:306,column:4},end:{line:306,column:24}},"96":{start:{line:318,column:19},end:{line:318,column:53}},"97":{start:{line:319,column:19},end:{line:319,column:49}},"98":{start:{line:320,column:4},end:{line:320,column:22}},"99":{start:{line:334,column:19},end:{line:334,column:65}},"100":{start:{line:335,column:19},end:{line:335,column:49}},"101":{start:{line:336,column:4},end:{line:336,column:24}},"102":{start:{line:352,column:19},end:{line:352,column:71}},"103":{start:{line:353,column:19},end:{line:353,column:49}},"104":{start:{line:354,column:4},end:{line:354,column:22}},"105":{start:{line:372,column:4},end:{line:372,column:12}},"106":{start:{line:374,column:4},end:{line:374,column:17}},"107":{start:{line:375,column:4},end:{line:375,column:31}},"108":{start:{line:376,column:4},end:{line:376,column:31}},"109":{start:{line:377,column:4},end:{line:377,column:29}},"110":{start:{line:379,column:4},end:{line:379,column:33}},"111":{start:{line:381,column:4},end:{line:381,column:16}},"112":{start:{line:390,column:4},end:{line:392,column:7}},"113":{start:{line:391,column:6},end:{line:391,column:29}},"114":{start:{line:394,column:4},end:{line:396,column:7}},"115":{start:{line:395,column:6},end:{line:395,column:38}},"116":{start:{line:398,column:4},end:{line:400,column:7}},"117":{start:{line:399,column:6},end:{line:399,column:30}},"118":{start:{line:402,column:4},end:{line:404,column:7}},"119":{start:{line:403,column:6},end:{line:403,column:30}},"120":{start:{line:406,column:4},end:{line:408,column:7}},"121":{start:{line:407,column:6},end:{line:407,column:34}},"122":{start:{line:410,column:4},end:{line:410,column:18}},"123":{start:{line:419,column:4},end:{line:421,column:7}},"124":{start:{line:420,column:6},end:{line:420,column:22}},"125":{start:{line:423,column:4},end:{line:425,column:7}},"126":{start:{line:424,column:6},end:{line:424,column:22}},"127":{start:{line:427,column:4},end:{line:433,column:7}},"128":{start:{line:428,column:6},end:{line:432,column:7}},"129":{start:{line:429,column:8},end:{line:429,column:34}},"130":{start:{line:431,column:8},end:{line:431,column:30}},"131":{start:{line:435,column:4},end:{line:440,column:7}},"132":{start:{line:450,column:4},end:{line:467,column:5}},"133":{start:{line:452,column:8},end:{line:452,column:41}},"134":{start:{line:453,column:8},end:{line:453,column:35}},"135":{start:{line:454,column:8},end:{line:454,column:14}},"136":{start:{line:456,column:8},end:{line:456,column:38}},"137":{start:{line:457,column:8},end:{line:457,column:14}},"138":{start:{line:459,column:8},end:{line:459,column:41}},"139":{start:{line:460,column:8},end:{line:460,column:14}},"140":{start:{line:462,column:8},end:{line:462,column:48}},"141":{start:{line:463,column:8},end:{line:463,column:14}},"142":{start:{line:465,column:8},end:{line:465,column:43}},"143":{start:{line:466,column:8},end:{line:466,column:14}},"144":{start:{line:477,column:4},end:{line:477,column:34}},"145":{start:{line:487,column:4},end:{line:487,column:50}},"146":{start:{line:497,column:4},end:{line:497,column:49}},"147":{start:{line:508,column:4},end:{line:508,column:53}},"148":{start:{line:516,column:4},end:{line:516,column:32}},"149":{start:{line:527,column:4},end:{line:529,column:7}},"150":{start:{line:528,column:6},end:{line:528,column:54}},"151":{start:{line:543,column:16},end:{line:543,column:64}},"152":{start:{line:545,column:4},end:{line:545,column:57}},"153":{start:{line:547,column:4},end:{line:547,column:37}},"154":{start:{line:549,column:4},end:{line:549,column:23}},"155":{start:{line:551,column:4},end:{line:551,column:22}},"156":{start:{line:561,column:16},end:{line:561,column:36}},"157":{start:{line:563,column:4},end:{line:564,column:55}},"158":{start:{line:564,column:6},end:{line:564,column:55}},"159":{start:{line:566,column:4},end:{line:566,column:24}},"160":{start:{line:576,column:16},end:{line:576,column:36}},"161":{start:{line:578,column:4},end:{line:579,column:55}},"162":{start:{line:579,column:6},end:{line:579,column:55}},"163":{start:{line:581,column:4},end:{line:581,column:20}},"164":{start:{line:589,column:4},end:{line:590,column:20}},"165":{start:{line:590,column:6},end:{line:590,column:20}},"166":{start:{line:610,column:4},end:{line:610,column:25}},"167":{start:{line:611,column:4},end:{line:611,column:17}},"168":{start:{line:612,column:4},end:{line:612,column:35}},"169":{start:{line:613,column:4},end:{line:613,column:22}},"170":{start:{line:622,column:4},end:{line:623,column:13}},"171":{start:{line:623,column:6},end:{line:623,column:13}},"172":{start:{line:625,column:4},end:{line:627,column:16}},"173":{start:{line:626,column:6},end:{line:626,column:50}},"174":{start:{line:635,column:4},end:{line:635,column:49}},"175":{start:{line:644,column:16},end:{line:644,column:24}},"176":{start:{line:646,column:4},end:{line:646,column:37}},"177":{start:{line:648,column:4},end:{line:648,column:20}},"178":{start:{line:650,column:4},end:{line:653,column:5}},"179":{start:{line:651,column:6},end:{line:651,column:31}},"180":{start:{line:652,column:6},end:{line:652,column:24}},"181":{start:{line:655,column:4},end:{line:655,column:45}},"182":{start:{line:656,column:4},end:{line:656,column:40}},"183":{start:{line:658,column:4},end:{line:658,column:15}},"184":{start:{line:667,column:16},end:{line:667,column:30}},"185":{start:{line:668,column:4},end:{line:668,column:24}},"186":{start:{line:677,column:16},end:{line:677,column:30}},"187":{start:{line:678,column:4},end:{line:678,column:20}},"188":{start:{line:687,column:2},end:{line:687,column:39}},"189":{start:{line:694,column:0},end:{line:694,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:23},end:{line:53,column:3}},line:41},"1":{name:"(anonymous_1)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:15},end:{line:85,column:3}},line:60},"2":{name:"(anonymous_2)",decl:{start:{line:92,column:2},end:{line:92,column:3}},loc:{start:{line:92,column:15},end:{line:94,column:3}},line:92},"3":{name:"(anonymous_3)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:16},end:{line:103,column:3}},line:101},"4":{name:"(anonymous_4)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:12},end:{line:139,column:3}},line:111},"5":{name:"(anonymous_5)",decl:{start:{line:116,column:22},end:{line:116,column:23}},loc:{start:{line:116,column:31},end:{line:118,column:5}},line:116},"6":{name:"(anonymous_6)",decl:{start:{line:120,column:21},end:{line:120,column:22}},loc:{start:{line:120,column:31},end:{line:125,column:5}},line:120},"7":{name:"(anonymous_7)",decl:{start:{line:127,column:22},end:{line:127,column:23}},loc:{start:{line:127,column:33},end:{line:130,column:5}},line:127},"8":{name:"(anonymous_8)",decl:{start:{line:132,column:20},end:{line:132,column:21}},loc:{start:{line:132,column:30},end:{line:134,column:5}},line:132},"9":{name:"(anonymous_9)",decl:{start:{line:147,column:2},end:{line:147,column:3}},loc:{start:{line:147,column:10},end:{line:154,column:3}},line:147},"10":{name:"(anonymous_10)",decl:{start:{line:163,column:2},end:{line:163,column:3}},loc:{start:{line:163,column:14},end:{line:172,column:3}},line:163},"11":{name:"(anonymous_11)",decl:{start:{line:178,column:2},end:{line:178,column:3}},loc:{start:{line:178,column:12},end:{line:181,column:3}},line:178},"12":{name:"(anonymous_12)",decl:{start:{line:190,column:2},end:{line:190,column:3}},loc:{start:{line:190,column:27},end:{line:212,column:3}},line:190},"13":{name:"(anonymous_13)",decl:{start:{line:192,column:25},end:{line:192,column:26}},loc:{start:{line:192,column:46},end:{line:203,column:7}},line:192},"14":{name:"(anonymous_14)",decl:{start:{line:193,column:21},end:{line:193,column:22}},loc:{start:{line:193,column:27},end:{line:202,column:9}},line:193},"15":{name:"(anonymous_15)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:31},end:{line:231,column:3}},line:223},"16":{name:"(anonymous_16)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:29},end:{line:254,column:3}},line:242},"17":{name:"(anonymous_17)",decl:{start:{line:266,column:2},end:{line:266,column:3}},loc:{start:{line:266,column:43},end:{line:274,column:3}},line:266},"18":{name:"(anonymous_18)",decl:{start:{line:287,column:2},end:{line:287,column:3}},loc:{start:{line:287,column:47},end:{line:292,column:3}},line:287},"19":{name:"(anonymous_19)",decl:{start:{line:303,column:2},end:{line:303,column:3}},loc:{start:{line:303,column:32},end:{line:307,column:3}},line:303},"20":{name:"(anonymous_20)",decl:{start:{line:317,column:2},end:{line:317,column:3}},loc:{start:{line:317,column:25},end:{line:321,column:3}},line:317},"21":{name:"(anonymous_21)",decl:{start:{line:333,column:2},end:{line:333,column:3}},loc:{start:{line:333,column:37},end:{line:337,column:3}},line:333},"22":{name:"(anonymous_22)",decl:{start:{line:351,column:2},end:{line:351,column:3}},loc:{start:{line:351,column:43},end:{line:355,column:3}},line:351},"23":{name:"(anonymous_23)",decl:{start:{line:371,column:2},end:{line:371,column:3}},loc:{start:{line:371,column:20},end:{line:382,column:3}},line:371},"24":{name:"(anonymous_24)",decl:{start:{line:389,column:2},end:{line:389,column:3}},loc:{start:{line:389,column:9},end:{line:411,column:3}},line:389},"25":{name:"(anonymous_25)",decl:{start:{line:390,column:26},end:{line:390,column:27}},loc:{start:{line:390,column:36},end:{line:392,column:5}},line:390},"26":{name:"(anonymous_26)",decl:{start:{line:394,column:26},end:{line:394,column:27}},loc:{start:{line:394,column:44},end:{line:396,column:5}},line:394},"27":{name:"(anonymous_27)",decl:{start:{line:398,column:27},end:{line:398,column:28}},loc:{start:{line:398,column:36},end:{line:400,column:5}},line:398},"28":{name:"(anonymous_28)",decl:{start:{line:402,column:28},end:{line:402,column:29}},loc:{start:{line:402,column:37},end:{line:404,column:5}},line:402},"29":{name:"(anonymous_29)",decl:{start:{line:406,column:29},end:{line:406,column:30}},loc:{start:{line:406,column:41},end:{line:408,column:5}},line:406},"30":{name:"(anonymous_30)",decl:{start:{line:418,column:2},end:{line:418,column:3}},loc:{start:{line:418,column:11},end:{line:441,column:3}},line:418},"31":{name:"(anonymous_31)",decl:{start:{line:419,column:20},end:{line:419,column:21}},loc:{start:{line:419,column:38},end:{line:421,column:5}},line:419},"32":{name:"(anonymous_32)",decl:{start:{line:423,column:21},end:{line:423,column:22}},loc:{start:{line:423,column:30},end:{line:425,column:5}},line:423},"33":{name:"(anonymous_33)",decl:{start:{line:427,column:22},end:{line:427,column:23}},loc:{start:{line:427,column:34},end:{line:433,column:5}},line:427},"34":{name:"(anonymous_34)",decl:{start:{line:449,column:2},end:{line:449,column:3}},loc:{start:{line:449,column:23},end:{line:468,column:3}},line:449},"35":{name:"(anonymous_35)",decl:{start:{line:476,column:2},end:{line:476,column:3}},loc:{start:{line:476,column:14},end:{line:478,column:3}},line:476},"36":{name:"(anonymous_36)",decl:{start:{line:486,column:2},end:{line:486,column:3}},loc:{start:{line:486,column:15},end:{line:488,column:3}},line:486},"37":{name:"(anonymous_37)",decl:{start:{line:496,column:2},end:{line:496,column:3}},loc:{start:{line:496,column:15},end:{line:498,column:3}},line:496},"38":{name:"(anonymous_38)",decl:{start:{line:507,column:2},end:{line:507,column:3}},loc:{start:{line:507,column:22},end:{line:509,column:3}},line:507},"39":{name:"(anonymous_39)",decl:{start:{line:515,column:2},end:{line:515,column:3}},loc:{start:{line:515,column:12},end:{line:517,column:3}},line:515},"40":{name:"(anonymous_40)",decl:{start:{line:526,column:2},end:{line:526,column:3}},loc:{start:{line:526,column:27},end:{line:530,column:3}},line:526},"41":{name:"(anonymous_41)",decl:{start:{line:527,column:23},end:{line:527,column:24}},loc:{start:{line:527,column:44},end:{line:529,column:5}},line:527},"42":{name:"(anonymous_42)",decl:{start:{line:542,column:2},end:{line:542,column:3}},loc:{start:{line:542,column:45},end:{line:552,column:3}},line:542},"43":{name:"(anonymous_43)",decl:{start:{line:560,column:2},end:{line:560,column:3}},loc:{start:{line:560,column:25},end:{line:567,column:3}},line:560},"44":{name:"(anonymous_44)",decl:{start:{line:575,column:2},end:{line:575,column:3}},loc:{start:{line:575,column:21},end:{line:582,column:3}},line:575},"45":{name:"(anonymous_45)",decl:{start:{line:588,column:2},end:{line:588,column:3}},loc:{start:{line:588,column:13},end:{line:591,column:3}},line:588},"46":{name:"(anonymous_46)",decl:{start:{line:609,column:2},end:{line:609,column:3}},loc:{start:{line:609,column:43},end:{line:614,column:3}},line:609},"47":{name:"(anonymous_47)",decl:{start:{line:621,column:2},end:{line:621,column:3}},loc:{start:{line:621,column:17},end:{line:628,column:3}},line:621},"48":{name:"(anonymous_48)",decl:{start:{line:625,column:28},end:{line:625,column:29}},loc:{start:{line:625,column:34},end:{line:627,column:5}},line:625},"49":{name:"(anonymous_49)",decl:{start:{line:634,column:2},end:{line:634,column:3}},loc:{start:{line:634,column:12},end:{line:636,column:3}},line:634},"50":{name:"(anonymous_50)",decl:{start:{line:643,column:2},end:{line:643,column:3}},loc:{start:{line:643,column:12},end:{line:659,column:3}},line:643},"51":{name:"(anonymous_51)",decl:{start:{line:666,column:2},end:{line:666,column:3}},loc:{start:{line:666,column:18},end:{line:669,column:3}},line:666},"52":{name:"(anonymous_52)",decl:{start:{line:676,column:2},end:{line:676,column:3}},loc:{start:{line:676,column:14},end:{line:679,column:3}},line:676},"53":{name:"getCores",decl:{start:{line:686,column:9},end:{line:686,column:17}},loc:{start:{line:686,column:20},end:{line:688,column:1}},line:686}},branchMap:{"0":{loc:{start:{line:47,column:16},end:{line:47,column:60}},type:"binary-expr",locations:[{start:{line:47,column:16},end:{line:47,column:45}},{start:{line:47,column:49},end:{line:47,column:60}}],line:47},"1":{loc:{start:{line:61,column:4},end:{line:62,column:13}},type:"if",locations:[{start:{line:61,column:4},end:{line:62,column:13}},{start:{line:61,column:4},end:{line:62,column:13}}],line:61},"2":{loc:{start:{line:64,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:67,column:5}},{start:{line:64,column:4},end:{line:67,column:5}}],line:64},"3":{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:69,column:4},end:{line:73,column:5}}],line:69},"4":{loc:{start:{line:75,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:79,column:5}},{start:{line:75,column:4},end:{line:79,column:5}}],line:75},"5":{loc:{start:{line:81,column:4},end:{line:84,column:5}},type:"if",locations:[{start:{line:81,column:4},end:{line:84,column:5}},{start:{line:81,column:4},end:{line:84,column:5}}],line:81},"6":{loc:{start:{line:123,column:6},end:{line:124,column:33}},type:"if",locations:[{start:{line:123,column:6},end:{line:124,column:33}},{start:{line:123,column:6},end:{line:124,column:33}}],line:123},"7":{loc:{start:{line:150,column:4},end:{line:151,column:44}},type:"if",locations:[{start:{line:150,column:4},end:{line:151,column:44}},{start:{line:150,column:4},end:{line:151,column:44}}],line:150},"8":{loc:{start:{line:167,column:6},end:{line:168,column:23}},type:"if",locations:[{start:{line:167,column:6},end:{line:168,column:23}},{start:{line:167,column:6},end:{line:168,column:23}}],line:167},"9":{loc:{start:{line:191,column:4},end:{line:204,column:5}},type:"if",locations:[{start:{line:191,column:4},end:{line:204,column:5}},{start:{line:191,column:4},end:{line:204,column:5}}],line:191},"10":{loc:{start:{line:191,column:8},end:{line:191,column:44}},type:"binary-expr",locations:[{start:{line:191,column:8},end:{line:191,column:21}},{start:{line:191,column:25},end:{line:191,column:44}}],line:191},"11":{loc:{start:{line:206,column:4},end:{line:207,column:29}},type:"if",locations:[{start:{line:206,column:4},end:{line:207,column:29}},{start:{line:206,column:4},end:{line:207,column:29}}],line:206},"12":{loc:{start:{line:227,column:4},end:{line:228,column:25}},type:"if",locations:[{start:{line:227,column:4},end:{line:228,column:25}},{start:{line:227,column:4},end:{line:228,column:25}}],line:227},"13":{loc:{start:{line:245,column:4},end:{line:246,column:22}},type:"if",locations:[{start:{line:245,column:4},end:{line:246,column:22}},{start:{line:245,column:4},end:{line:246,column:22}}],line:245},"14":{loc:{start:{line:270,column:4},end:{line:271,column:25}},type:"if",locations:[{start:{line:270,column:4},end:{line:271,column:25}},{start:{line:270,column:4},end:{line:271,column:25}}],line:270},"15":{loc:{start:{line:437,column:26},end:{line:439,column:13}},type:"cond-expr",locations:[{start:{line:438,column:11},end:{line:438,column:43}},{start:{line:439,column:10},end:{line:439,column:13}}],line:437},"16":{loc:{start:{line:438,column:11},end:{line:438,column:43}},type:"cond-expr",locations:[{start:{line:438,column:34},end:{line:438,column:37}},{start:{line:438,column:40},end:{line:438,column:43}}],line:438},"17":{loc:{start:{line:450,column:4},end:{line:467,column:5}},type:"switch",locations:[{start:{line:451,column:6},end:{line:454,column:14}},{start:{line:455,column:6},end:{line:457,column:14}},{start:{line:458,column:6},end:{line:460,column:14}},{start:{line:461,column:6},end:{line:463,column:14}},{start:{line:464,column:6},end:{line:466,column:14}}],line:450},"18":{loc:{start:{line:563,column:4},end:{line:564,column:55}},type:"if",locations:[{start:{line:563,column:4},end:{line:564,column:55}},{start:{line:563,column:4},end:{line:564,column:55}}],line:563},"19":{loc:{start:{line:578,column:4},end:{line:579,column:55}},type:"if",locations:[{start:{line:578,column:4},end:{line:579,column:55}},{start:{line:578,column:4},end:{line:579,column:55}}],line:578},"20":{loc:{start:{line:622,column:4},end:{line:623,column:13}},type:"if",locations:[{start:{line:622,column:4},end:{line:623,column:13}},{start:{line:622,column:4},end:{line:623,column:13}}],line:622},"21":{loc:{start:{line:622,column:8},end:{line:622,column:32}},type:"binary-expr",locations:[{start:{line:622,column:8},end:{line:622,column:16}},{start:{line:622,column:20},end:{line:622,column:32}}],line:622},"22":{loc:{start:{line:650,column:4},end:{line:653,column:5}},type:"if",locations:[{start:{line:650,column:4},end:{line:653,column:5}},{start:{line:650,column:4},end:{line:653,column:5}}],line:650}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adc73540f765187bb3288c3c3c83cc203efdb98d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_17ws8uu54r=function(){return actualCoverage;};}return actualCoverage;}cov_17ws8uu54r();const assert=(cov_17ws8uu54r().s[0]++,require('bsert'));const EventEmitter=(cov_17ws8uu54r().s[1]++,require('events'));const os=(cov_17ws8uu54r().s[2]++,require('os'));const Network=(cov_17ws8uu54r().s[3]++,require('../protocol/network'));const Child=(cov_17ws8uu54r().s[4]++,require('./child'));const jobs=(cov_17ws8uu54r().s[5]++,require('./jobs'));const Parser=(cov_17ws8uu54r().s[6]++,require('./parser'));const Framer=(cov_17ws8uu54r().s[7]++,require('./framer'));const packets=(cov_17ws8uu54r().s[8]++,require('./packets'));/**
 * Worker Pool
 * @alias module:workers.WorkerPool
 * @extends EventEmitter
 * @property {Number} size
 * @property {Number} timeout
 * @property {Map} children
 * @property {Number} uid
 */class WorkerPool extends EventEmitter{/**
   * Create a worker pool.
   * @constructor
   * @param {Object} options
   * @param {Number} [options.size=num-cores] - Max pool size.
   * @param {Number} [options.timeout=120000] - Execution timeout.
   */constructor(options){cov_17ws8uu54r().f[0]++;cov_17ws8uu54r().s[9]++;super();cov_17ws8uu54r().s[10]++;this.enabled=false;cov_17ws8uu54r().s[11]++;this.size=getCores();cov_17ws8uu54r().s[12]++;this.timeout=120000;cov_17ws8uu54r().s[13]++;this.file=(cov_17ws8uu54r().b[0][0]++,process.env.BCOIN_WORKER_FILE)||(cov_17ws8uu54r().b[0][1]++,'worker.js');cov_17ws8uu54r().s[14]++;this.children=new Map();cov_17ws8uu54r().s[15]++;this.uid=0;cov_17ws8uu54r().s[16]++;this.set(options);}/**
   * Set worker pool options.
   * @param {Object} options
   */set(options){cov_17ws8uu54r().f[1]++;cov_17ws8uu54r().s[17]++;if(!options){cov_17ws8uu54r().b[1][0]++;cov_17ws8uu54r().s[18]++;return;}else{cov_17ws8uu54r().b[1][1]++;}cov_17ws8uu54r().s[19]++;if(options.enabled!=null){cov_17ws8uu54r().b[2][0]++;cov_17ws8uu54r().s[20]++;assert(typeof options.enabled==='boolean');cov_17ws8uu54r().s[21]++;this.enabled=options.enabled;}else{cov_17ws8uu54r().b[2][1]++;}cov_17ws8uu54r().s[22]++;if(options.size!=null){cov_17ws8uu54r().b[3][0]++;cov_17ws8uu54r().s[23]++;assert(options.size>>>0===options.size);cov_17ws8uu54r().s[24]++;assert(options.size>0);cov_17ws8uu54r().s[25]++;this.size=options.size;}else{cov_17ws8uu54r().b[3][1]++;}cov_17ws8uu54r().s[26]++;if(options.timeout!=null){cov_17ws8uu54r().b[4][0]++;cov_17ws8uu54r().s[27]++;assert(Number.isSafeInteger(options.timeout));cov_17ws8uu54r().s[28]++;assert(options.timeout>=-1);cov_17ws8uu54r().s[29]++;this.timeout=options.timeout;}else{cov_17ws8uu54r().b[4][1]++;}cov_17ws8uu54r().s[30]++;if(options.file!=null){cov_17ws8uu54r().b[5][0]++;cov_17ws8uu54r().s[31]++;assert(typeof options.file==='string');cov_17ws8uu54r().s[32]++;this.file=options.file;}else{cov_17ws8uu54r().b[5][1]++;}}/**
   * Open worker pool.
   * @returns {Promise}
   */async open(){cov_17ws8uu54r().f[2]++;;}/**
   * Close worker pool.
   * @returns {Promise}
   */async close(){cov_17ws8uu54r().f[3]++;cov_17ws8uu54r().s[33]++;this.destroy();}/**
   * Spawn a new worker.
   * @param {Number} id - Worker ID.
   * @returns {Worker}
   */spawn(id){cov_17ws8uu54r().f[4]++;const child=(cov_17ws8uu54r().s[34]++,new Worker(this.file));cov_17ws8uu54r().s[35]++;child.id=id;cov_17ws8uu54r().s[36]++;child.on('error',err=>{cov_17ws8uu54r().f[5]++;cov_17ws8uu54r().s[37]++;this.emit('error',err,child);});cov_17ws8uu54r().s[38]++;child.on('exit',code=>{cov_17ws8uu54r().f[6]++;cov_17ws8uu54r().s[39]++;this.emit('exit',code,child);cov_17ws8uu54r().s[40]++;if(this.children.get(id)===child){cov_17ws8uu54r().b[6][0]++;cov_17ws8uu54r().s[41]++;this.children.delete(id);}else{cov_17ws8uu54r().b[6][1]++;}});cov_17ws8uu54r().s[42]++;child.on('event',items=>{cov_17ws8uu54r().f[7]++;cov_17ws8uu54r().s[43]++;this.emit('event',items,child);cov_17ws8uu54r().s[44]++;this.emit(...items);});cov_17ws8uu54r().s[45]++;child.on('log',text=>{cov_17ws8uu54r().f[8]++;cov_17ws8uu54r().s[46]++;this.emit('log',text,child);});cov_17ws8uu54r().s[47]++;this.emit('spawn',child);cov_17ws8uu54r().s[48]++;return child;}/**
   * Allocate a new worker, will not go above `size` option
   * and will automatically load balance the workers.
   * @returns {Worker}
   */alloc(){cov_17ws8uu54r().f[9]++;const id=(cov_17ws8uu54r().s[49]++,this.uid++%this.size);cov_17ws8uu54r().s[50]++;if(!this.children.has(id)){cov_17ws8uu54r().b[7][0]++;cov_17ws8uu54r().s[51]++;this.children.set(id,this.spawn(id));}else{cov_17ws8uu54r().b[7][1]++;}cov_17ws8uu54r().s[52]++;return this.children.get(id);}/**
   * Emit an event on the worker side (all workers).
   * @param {String} event
   * @param {...Object} arg
   * @returns {Boolean}
   */sendEvent(){cov_17ws8uu54r().f[10]++;let result=(cov_17ws8uu54r().s[53]++,true);cov_17ws8uu54r().s[54]++;for(const child of this.children.values()){cov_17ws8uu54r().s[55]++;if(!child.sendEvent.apply(child,arguments)){cov_17ws8uu54r().b[8][0]++;cov_17ws8uu54r().s[56]++;result=false;}else{cov_17ws8uu54r().b[8][1]++;}}cov_17ws8uu54r().s[57]++;return result;}/**
   * Destroy all workers.
   */destroy(){cov_17ws8uu54r().f[11]++;cov_17ws8uu54r().s[58]++;for(const child of this.children.values()){cov_17ws8uu54r().s[59]++;child.destroy();}}/**
   * Call a method for a worker to execute.
   * @param {Packet} packet
   * @param {Number} timeout
   * @returns {Promise}
   */execute(packet,timeout){cov_17ws8uu54r().f[12]++;cov_17ws8uu54r().s[60]++;if((cov_17ws8uu54r().b[10][0]++,!this.enabled)||(cov_17ws8uu54r().b[10][1]++,!Child.hasSupport())){cov_17ws8uu54r().b[9][0]++;cov_17ws8uu54r().s[61]++;return new Promise((resolve,reject)=>{cov_17ws8uu54r().f[13]++;cov_17ws8uu54r().s[62]++;setImmediate(()=>{cov_17ws8uu54r().f[14]++;let result;cov_17ws8uu54r().s[63]++;try{cov_17ws8uu54r().s[64]++;result=jobs.handle(packet);}catch(e){cov_17ws8uu54r().s[65]++;reject(e);cov_17ws8uu54r().s[66]++;return;}cov_17ws8uu54r().s[67]++;resolve(result);});});}else{cov_17ws8uu54r().b[9][1]++;}cov_17ws8uu54r().s[68]++;if(!timeout){cov_17ws8uu54r().b[11][0]++;cov_17ws8uu54r().s[69]++;timeout=this.timeout;}else{cov_17ws8uu54r().b[11][1]++;}const child=(cov_17ws8uu54r().s[70]++,this.alloc());cov_17ws8uu54r().s[71]++;return child.execute(packet,timeout);}/**
   * Execute the tx check job (default timeout).
   * @method
   * @param {TX} tx
   * @param {CoinView} view
   * @param {VerifyFlags} flags
   * @returns {Promise}
   */async check(tx,view,flags){cov_17ws8uu54r().f[15]++;const packet=(cov_17ws8uu54r().s[72]++,new packets.CheckPacket(tx,view,flags));const result=(cov_17ws8uu54r().s[73]++,await this.execute(packet,-1));cov_17ws8uu54r().s[74]++;if(result.error){cov_17ws8uu54r().b[12][0]++;cov_17ws8uu54r().s[75]++;throw result.error;}else{cov_17ws8uu54r().b[12][1]++;}cov_17ws8uu54r().s[76]++;return null;}/**
   * Execute the tx signing job (default timeout).
   * @method
   * @param {MTX} tx
   * @param {KeyRing[]} ring
   * @param {SighashType} type
   * @returns {Promise}
   */async sign(tx,ring,type){cov_17ws8uu54r().f[16]++;let rings=(cov_17ws8uu54r().s[77]++,ring);cov_17ws8uu54r().s[78]++;if(!Array.isArray(rings)){cov_17ws8uu54r().b[13][0]++;cov_17ws8uu54r().s[79]++;rings=[rings];}else{cov_17ws8uu54r().b[13][1]++;}const packet=(cov_17ws8uu54r().s[80]++,new packets.SignPacket(tx,rings,type));const result=(cov_17ws8uu54r().s[81]++,await this.execute(packet,-1));cov_17ws8uu54r().s[82]++;result.inject(tx);cov_17ws8uu54r().s[83]++;return result.total;}/**
   * Execute the tx input check job (default timeout).
   * @method
   * @param {TX} tx
   * @param {Number} index
   * @param {Coin|Output} coin
   * @param {VerifyFlags} flags
   * @returns {Promise}
   */async checkInput(tx,index,coin,flags){cov_17ws8uu54r().f[17]++;const packet=(cov_17ws8uu54r().s[84]++,new packets.CheckInputPacket(tx,index,coin,flags));const result=(cov_17ws8uu54r().s[85]++,await this.execute(packet,-1));cov_17ws8uu54r().s[86]++;if(result.error){cov_17ws8uu54r().b[14][0]++;cov_17ws8uu54r().s[87]++;throw result.error;}else{cov_17ws8uu54r().b[14][1]++;}cov_17ws8uu54r().s[88]++;return null;}/**
   * Execute the tx input signing job (default timeout).
   * @method
   * @param {MTX} tx
   * @param {Number} index
   * @param {Coin|Output} coin
   * @param {KeyRing} ring
   * @param {SighashType} type
   * @returns {Promise}
   */async signInput(tx,index,coin,ring,type){cov_17ws8uu54r().f[18]++;const packet=(cov_17ws8uu54r().s[89]++,new packets.SignInputPacket(tx,index,coin,ring,type));const result=(cov_17ws8uu54r().s[90]++,await this.execute(packet,-1));cov_17ws8uu54r().s[91]++;result.inject(tx);cov_17ws8uu54r().s[92]++;return result.value;}/**
   * Execute the secp256k1 verify job (no timeout).
   * @method
   * @param {Buffer} msg
   * @param {Buffer} sig - DER formatted.
   * @param {Buffer} key
   * @returns {Promise}
   */async ecVerify(msg,sig,key){cov_17ws8uu54r().f[19]++;const packet=(cov_17ws8uu54r().s[93]++,new packets.ECVerifyPacket(msg,sig,key));const result=(cov_17ws8uu54r().s[94]++,await this.execute(packet,-1));cov_17ws8uu54r().s[95]++;return result.value;}/**
   * Execute the secp256k1 signing job (no timeout).
   * @method
   * @param {Buffer} msg
   * @param {Buffer} key
   * @returns {Promise}
   */async ecSign(msg,key){cov_17ws8uu54r().f[20]++;const packet=(cov_17ws8uu54r().s[96]++,new packets.ECSignPacket(msg,key));const result=(cov_17ws8uu54r().s[97]++,await this.execute(packet,-1));cov_17ws8uu54r().s[98]++;return result.sig;}/**
   * Execute the mining job (no timeout).
   * @method
   * @param {Buffer} data
   * @param {Buffer} target
   * @param {Number} min
   * @param {Number} max
   * @returns {Promise} - Returns {Number}.
   */async mine(data,target,min,max){cov_17ws8uu54r().f[21]++;const packet=(cov_17ws8uu54r().s[99]++,new packets.MinePacket(data,target,min,max));const result=(cov_17ws8uu54r().s[100]++,await this.execute(packet,-1));cov_17ws8uu54r().s[101]++;return result.nonce;}/**
   * Execute scrypt job (no timeout).
   * @method
   * @param {Buffer} passwd
   * @param {Buffer} salt
   * @param {Number} N
   * @param {Number} r
   * @param {Number} p
   * @param {Number} len
   * @returns {Promise}
   */async scrypt(passwd,salt,N,r,p,len){cov_17ws8uu54r().f[22]++;const packet=(cov_17ws8uu54r().s[102]++,new packets.ScryptPacket(passwd,salt,N,r,p,len));const result=(cov_17ws8uu54r().s[103]++,await this.execute(packet,-1));cov_17ws8uu54r().s[104]++;return result.key;}}/**
 * Worker
 * @alias module:workers.Worker
 * @extends EventEmitter
 */class Worker extends EventEmitter{/**
   * Create a worker.
   * @constructor
   * @param {String} file
   */constructor(file){cov_17ws8uu54r().f[23]++;cov_17ws8uu54r().s[105]++;super();cov_17ws8uu54r().s[106]++;this.id=-1;cov_17ws8uu54r().s[107]++;this.framer=new Framer();cov_17ws8uu54r().s[108]++;this.parser=new Parser();cov_17ws8uu54r().s[109]++;this.pending=new Map();cov_17ws8uu54r().s[110]++;this.child=new Child(file);cov_17ws8uu54r().s[111]++;this.init();}/**
   * Initialize worker. Bind to events.
   * @private
   */init(){cov_17ws8uu54r().f[24]++;cov_17ws8uu54r().s[112]++;this.child.on('data',data=>{cov_17ws8uu54r().f[25]++;cov_17ws8uu54r().s[113]++;this.parser.feed(data);});cov_17ws8uu54r().s[114]++;this.child.on('exit',(code,signal)=>{cov_17ws8uu54r().f[26]++;cov_17ws8uu54r().s[115]++;this.emit('exit',code,signal);});cov_17ws8uu54r().s[116]++;this.child.on('error',err=>{cov_17ws8uu54r().f[27]++;cov_17ws8uu54r().s[117]++;this.emit('error',err);});cov_17ws8uu54r().s[118]++;this.parser.on('error',err=>{cov_17ws8uu54r().f[28]++;cov_17ws8uu54r().s[119]++;this.emit('error',err);});cov_17ws8uu54r().s[120]++;this.parser.on('packet',packet=>{cov_17ws8uu54r().f[29]++;cov_17ws8uu54r().s[121]++;this.emit('packet',packet);});cov_17ws8uu54r().s[122]++;this.listen();}/**
   * Listen for packets.
   * @private
   */listen(){cov_17ws8uu54r().f[30]++;cov_17ws8uu54r().s[123]++;this.on('exit',(code,signal)=>{cov_17ws8uu54r().f[31]++;cov_17ws8uu54r().s[124]++;this.killJobs();});cov_17ws8uu54r().s[125]++;this.on('error',err=>{cov_17ws8uu54r().f[32]++;cov_17ws8uu54r().s[126]++;this.killJobs();});cov_17ws8uu54r().s[127]++;this.on('packet',packet=>{cov_17ws8uu54r().f[33]++;cov_17ws8uu54r().s[128]++;try{cov_17ws8uu54r().s[129]++;this.handlePacket(packet);}catch(e){cov_17ws8uu54r().s[130]++;this.emit('error',e);}});cov_17ws8uu54r().s[131]++;this.sendEnv({BCOIN_WORKER_NETWORK:Network.type,BCOIN_WORKER_ISTTY:process.stdout?(cov_17ws8uu54r().b[15][0]++,process.stdout.isTTY?(cov_17ws8uu54r().b[16][0]++,'1'):(cov_17ws8uu54r().b[16][1]++,'0')):(cov_17ws8uu54r().b[15][1]++,'0')});}/**
   * Handle packet.
   * @private
   * @param {Packet} packet
   */handlePacket(packet){cov_17ws8uu54r().f[34]++;cov_17ws8uu54r().s[132]++;switch(packet.cmd){case packets.types.EVENT:cov_17ws8uu54r().b[17][0]++;cov_17ws8uu54r().s[133]++;this.emit('event',packet.items);cov_17ws8uu54r().s[134]++;this.emit(...packet.items);cov_17ws8uu54r().s[135]++;break;case packets.types.LOG:cov_17ws8uu54r().b[17][1]++;cov_17ws8uu54r().s[136]++;this.emit('log',packet.text);cov_17ws8uu54r().s[137]++;break;case packets.types.ERROR:cov_17ws8uu54r().b[17][2]++;cov_17ws8uu54r().s[138]++;this.emit('error',packet.error);cov_17ws8uu54r().s[139]++;break;case packets.types.ERRORRESULT:cov_17ws8uu54r().b[17][3]++;cov_17ws8uu54r().s[140]++;this.rejectJob(packet.id,packet.error);cov_17ws8uu54r().s[141]++;break;default:cov_17ws8uu54r().b[17][4]++;cov_17ws8uu54r().s[142]++;this.resolveJob(packet.id,packet);cov_17ws8uu54r().s[143]++;break;}}/**
   * Send data to worker.
   * @param {Buffer} data
   * @returns {Boolean}
   */write(data){cov_17ws8uu54r().f[35]++;cov_17ws8uu54r().s[144]++;return this.child.write(data);}/**
   * Frame and send a packet.
   * @param {Packet} packet
   * @returns {Boolean}
   */send(packet){cov_17ws8uu54r().f[36]++;cov_17ws8uu54r().s[145]++;return this.write(this.framer.packet(packet));}/**
   * Send environment.
   * @param {Object} env
   * @returns {Boolean}
   */sendEnv(env){cov_17ws8uu54r().f[37]++;cov_17ws8uu54r().s[146]++;return this.send(new packets.EnvPacket(env));}/**
   * Emit an event on the worker side.
   * @param {String} event
   * @param {...Object} arg
   * @returns {Boolean}
   */sendEvent(...items){cov_17ws8uu54r().f[38]++;cov_17ws8uu54r().s[147]++;return this.send(new packets.EventPacket(items));}/**
   * Destroy the worker.
   */destroy(){cov_17ws8uu54r().f[39]++;cov_17ws8uu54r().s[148]++;return this.child.destroy();}/**
   * Call a method for a worker to execute.
   * @param {Packet} packet
   * @param {Number} timeout
   * @returns {Promise}
   */execute(packet,timeout){cov_17ws8uu54r().f[40]++;cov_17ws8uu54r().s[149]++;return new Promise((resolve,reject)=>{cov_17ws8uu54r().f[41]++;cov_17ws8uu54r().s[150]++;this._execute(packet,timeout,resolve,reject);});}/**
   * Call a method for a worker to execute.
   * @private
   * @param {Packet} packet
   * @param {Number} timeout
   * @param {Function} resolve
   * @param {Function} reject
   * the worker method specifies.
   */_execute(packet,timeout,resolve,reject){cov_17ws8uu54r().f[42]++;const job=(cov_17ws8uu54r().s[151]++,new PendingJob(this,packet.id,resolve,reject));cov_17ws8uu54r().s[152]++;assert(!this.pending.has(packet.id),'ID overflow.');cov_17ws8uu54r().s[153]++;this.pending.set(packet.id,job);cov_17ws8uu54r().s[154]++;job.start(timeout);cov_17ws8uu54r().s[155]++;this.send(packet);}/**
   * Resolve a job.
   * @param {Number} id
   * @param {Packet} result
   */resolveJob(id,result){cov_17ws8uu54r().f[43]++;const job=(cov_17ws8uu54r().s[156]++,this.pending.get(id));cov_17ws8uu54r().s[157]++;if(!job){cov_17ws8uu54r().b[18][0]++;cov_17ws8uu54r().s[158]++;throw new Error(`Job ${id} is not in progress.`);}else{cov_17ws8uu54r().b[18][1]++;}cov_17ws8uu54r().s[159]++;job.resolve(result);}/**
   * Reject a job.
   * @param {Number} id
   * @param {Error} err
   */rejectJob(id,err){cov_17ws8uu54r().f[44]++;const job=(cov_17ws8uu54r().s[160]++,this.pending.get(id));cov_17ws8uu54r().s[161]++;if(!job){cov_17ws8uu54r().b[19][0]++;cov_17ws8uu54r().s[162]++;throw new Error(`Job ${id} is not in progress.`);}else{cov_17ws8uu54r().b[19][1]++;}cov_17ws8uu54r().s[163]++;job.reject(err);}/**
   * Kill all jobs associated with worker.
   */killJobs(){cov_17ws8uu54r().f[45]++;cov_17ws8uu54r().s[164]++;for(const job of this.pending.values()){cov_17ws8uu54r().s[165]++;job.destroy();}}}/**
 * Pending Job
 * @ignore
 */class PendingJob{/**
   * Create a pending job.
   * @constructor
   * @param {Worker} worker
   * @param {Number} id
   * @param {Function} resolve
   * @param {Function} reject
   */constructor(worker,id,resolve,reject){cov_17ws8uu54r().f[46]++;cov_17ws8uu54r().s[166]++;this.worker=worker;cov_17ws8uu54r().s[167]++;this.id=id;cov_17ws8uu54r().s[168]++;this.job={resolve,reject};cov_17ws8uu54r().s[169]++;this.timer=null;}/**
   * Start the timer.
   * @param {Number} timeout
   */start(timeout){cov_17ws8uu54r().f[47]++;cov_17ws8uu54r().s[170]++;if((cov_17ws8uu54r().b[21][0]++,!timeout)||(cov_17ws8uu54r().b[21][1]++,timeout<=0)){cov_17ws8uu54r().b[20][0]++;cov_17ws8uu54r().s[171]++;return;}else{cov_17ws8uu54r().b[20][1]++;}cov_17ws8uu54r().s[172]++;this.timer=setTimeout(()=>{cov_17ws8uu54r().f[48]++;cov_17ws8uu54r().s[173]++;this.reject(new Error('Worker timed out.'));},timeout);}/**
   * Destroy the job with an error.
   */destroy(){cov_17ws8uu54r().f[49]++;cov_17ws8uu54r().s[174]++;this.reject(new Error('Job was destroyed.'));}/**
   * Cleanup job state.
   * @returns {Job}
   */cleanup(){cov_17ws8uu54r().f[50]++;const job=(cov_17ws8uu54r().s[175]++,this.job);cov_17ws8uu54r().s[176]++;assert(job,'Already finished.');cov_17ws8uu54r().s[177]++;this.job=null;cov_17ws8uu54r().s[178]++;if(this.timer!=null){cov_17ws8uu54r().b[22][0]++;cov_17ws8uu54r().s[179]++;clearTimeout(this.timer);cov_17ws8uu54r().s[180]++;this.timer=null;}else{cov_17ws8uu54r().b[22][1]++;}cov_17ws8uu54r().s[181]++;assert(this.worker.pending.has(this.id));cov_17ws8uu54r().s[182]++;this.worker.pending.delete(this.id);cov_17ws8uu54r().s[183]++;return job;}/**
   * Complete job with result.
   * @param {Object} result
   */resolve(result){cov_17ws8uu54r().f[51]++;const job=(cov_17ws8uu54r().s[184]++,this.cleanup());cov_17ws8uu54r().s[185]++;job.resolve(result);}/**
   * Complete job with error.
   * @param {Error} err
   */reject(err){cov_17ws8uu54r().f[52]++;const job=(cov_17ws8uu54r().s[186]++,this.cleanup());cov_17ws8uu54r().s[187]++;job.reject(err);}}/*
 * Helpers
 */function getCores(){cov_17ws8uu54r().f[53]++;cov_17ws8uu54r().s[188]++;return Math.max(2,os.cpus().length);}/*
 * Expose
 */cov_17ws8uu54r().s[189]++;module.exports=WorkerPool;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvcmtlcnBvb2wuanMiXSwibmFtZXMiOlsiYXNzZXJ0IiwicmVxdWlyZSIsIkV2ZW50RW1pdHRlciIsIm9zIiwiTmV0d29yayIsIkNoaWxkIiwiam9icyIsIlBhcnNlciIsIkZyYW1lciIsInBhY2tldHMiLCJXb3JrZXJQb29sIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiZW5hYmxlZCIsInNpemUiLCJnZXRDb3JlcyIsInRpbWVvdXQiLCJmaWxlIiwicHJvY2VzcyIsImVudiIsIkJDT0lOX1dPUktFUl9GSUxFIiwiY2hpbGRyZW4iLCJNYXAiLCJ1aWQiLCJzZXQiLCJOdW1iZXIiLCJpc1NhZmVJbnRlZ2VyIiwib3BlbiIsImNsb3NlIiwiZGVzdHJveSIsInNwYXduIiwiaWQiLCJjaGlsZCIsIldvcmtlciIsIm9uIiwiZXJyIiwiZW1pdCIsImNvZGUiLCJnZXQiLCJkZWxldGUiLCJpdGVtcyIsInRleHQiLCJhbGxvYyIsImhhcyIsInNlbmRFdmVudCIsInJlc3VsdCIsInZhbHVlcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiZXhlY3V0ZSIsInBhY2tldCIsImhhc1N1cHBvcnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldEltbWVkaWF0ZSIsImhhbmRsZSIsImUiLCJjaGVjayIsInR4IiwidmlldyIsImZsYWdzIiwiQ2hlY2tQYWNrZXQiLCJlcnJvciIsInNpZ24iLCJyaW5nIiwidHlwZSIsInJpbmdzIiwiQXJyYXkiLCJpc0FycmF5IiwiU2lnblBhY2tldCIsImluamVjdCIsInRvdGFsIiwiY2hlY2tJbnB1dCIsImluZGV4IiwiY29pbiIsIkNoZWNrSW5wdXRQYWNrZXQiLCJzaWduSW5wdXQiLCJTaWduSW5wdXRQYWNrZXQiLCJ2YWx1ZSIsImVjVmVyaWZ5IiwibXNnIiwic2lnIiwia2V5IiwiRUNWZXJpZnlQYWNrZXQiLCJlY1NpZ24iLCJFQ1NpZ25QYWNrZXQiLCJtaW5lIiwiZGF0YSIsInRhcmdldCIsIm1pbiIsIm1heCIsIk1pbmVQYWNrZXQiLCJub25jZSIsInNjcnlwdCIsInBhc3N3ZCIsInNhbHQiLCJOIiwiciIsInAiLCJsZW4iLCJTY3J5cHRQYWNrZXQiLCJmcmFtZXIiLCJwYXJzZXIiLCJwZW5kaW5nIiwiaW5pdCIsImZlZWQiLCJzaWduYWwiLCJsaXN0ZW4iLCJraWxsSm9icyIsImhhbmRsZVBhY2tldCIsInNlbmRFbnYiLCJCQ09JTl9XT1JLRVJfTkVUV09SSyIsIkJDT0lOX1dPUktFUl9JU1RUWSIsInN0ZG91dCIsImlzVFRZIiwiY21kIiwidHlwZXMiLCJFVkVOVCIsIkxPRyIsIkVSUk9SIiwiRVJST1JSRVNVTFQiLCJyZWplY3RKb2IiLCJyZXNvbHZlSm9iIiwid3JpdGUiLCJzZW5kIiwiRW52UGFja2V0IiwiRXZlbnRQYWNrZXQiLCJfZXhlY3V0ZSIsImpvYiIsIlBlbmRpbmdKb2IiLCJzdGFydCIsIkVycm9yIiwid29ya2VyIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYW51cCIsImNsZWFyVGltZW91dCIsIk1hdGgiLCJjcHVzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcsQ0FFQSxxQ0FFQSxhLGtoMEJBTVk7MkZBSlosS0FBTUEsQ0FBQUEsTUFBTSwwQkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU1FLENBQUFBLEVBQUUsMEJBQUdGLE9BQU8sQ0FBQyxJQUFELENBQVYsQ0FBUixDQUNBLEtBQU1HLENBQUFBLE9BQU8sMEJBQUdILE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQWIsQ0FDQSxLQUFNSSxDQUFBQSxLQUFLLDBCQUFHSixPQUFPLENBQUMsU0FBRCxDQUFWLENBQVgsQ0FDQSxLQUFNSyxDQUFBQSxJQUFJLDBCQUFHTCxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNTSxDQUFBQSxN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Q0FBQyxLQUFLSCxLQUFOLENBQVosQ0FEc0IsMEJBRXRCLEtBQUtBLEtBQUwsQ0FBYSxJQUFiLENBQ0QsQ0FIRCxrQ0FQUSwwQkFZUnRJLE1BQU0sQ0FBQyxLQUFLcUksTUFBTCxDQUFZN0IsT0FBWixDQUFvQjdELEdBQXBCLENBQXdCLEtBQUtaLEVBQTdCLENBQUQsQ0FBTixDQVpRLDBCQWFSLEtBQUtzRyxNQUFMLENBQVk3QixPQUFaLENBQW9CakUsTUFBcEIsQ0FBMkIsS0FBS1IsRUFBaEMsRUFiUSwwQkFlUixNQUFPa0csQ0FBQUEsR0FBUCxDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FFRTVFLE9BQU8sQ0FBQ1IsTUFBRCxDQUFTLDBCQUNkLEtBQU1vRixDQUFBQSxHQUFHLDRCQUFHLEtBQUtPLE9BQUwsRUFBSCxDQUFULENBRGMsMEJBRWRQLEdBQUcsQ0FBQzVFLE9BQUosQ0FBWVIsTUFBWixFQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FFRVMsTUFBTSxDQUFDbkIsR0FBRCxDQUFNLDBCQUNWLEtBQU04RixDQUFBQSxHQUFHLDRCQUFHLEtBQUtPLE9BQUwsRUFBSCxDQUFULENBRFUsMEJBRVZQLEdBQUcsQ0FBQzNFLE1BQUosQ0FBV25CLEdBQVgsRUFDRCxDQWhGYyxDQW1GakI7QUFDQTtBQUNBLEdBRUEsUUFBU3BCLENBQUFBLFFBQVQsRUFBb0Isb0RBQ2xCLE1BQU8ySCxDQUFBQSxJQUFJLENBQUMvQyxHQUFMLENBQVMsQ0FBVCxDQUFZeEYsRUFBRSxDQUFDd0ksSUFBSCxHQUFVQyxNQUF0QixDQUFQLENBQ0QsQ0FFRDtBQUNBO0FBQ0EsRywwQkFFQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCcEksVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogd29ya2VycG9vbC5qcyAtIHdvcmtlciBwcm9jZXNzZXMgZm9yIGJjb2luXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGZWRvciBJbmR1dG55IChNSVQgTGljZW5zZSlcclxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Jjb2luLW9yZy9iY29pblxyXG4gKi9cclxuXHJcbi8qIGVzbGludCBuby1uZXN0ZWQtdGVybmFyeTogXCJvZmZcIiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYnNlcnQnKTtcclxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJyk7XHJcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcclxuY29uc3QgTmV0d29yayA9IHJlcXVpcmUoJy4uL3Byb3RvY29sL25ldHdvcmsnKTtcclxuY29uc3QgQ2hpbGQgPSByZXF1aXJlKCcuL2NoaWxkJyk7XHJcbmNvbnN0IGpvYnMgPSByZXF1aXJlKCcuL2pvYnMnKTtcclxuY29uc3QgUGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKTtcclxuY29uc3QgRnJhbWVyID0gcmVxdWlyZSgnLi9mcmFtZXInKTtcclxuY29uc3QgcGFja2V0cyA9IHJlcXVpcmUoJy4vcGFja2V0cycpO1xyXG5cclxuLyoqXHJcbiAqIFdvcmtlciBQb29sXHJcbiAqIEBhbGlhcyBtb2R1bGU6d29ya2Vycy5Xb3JrZXJQb29sXHJcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gc2l6ZVxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gdGltZW91dFxyXG4gKiBAcHJvcGVydHkge01hcH0gY2hpbGRyZW5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHVpZFxyXG4gKi9cclxuXHJcbmNsYXNzIFdvcmtlclBvb2wgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIHdvcmtlciBwb29sLlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnNpemU9bnVtLWNvcmVzXSAtIE1heCBwb29sIHNpemUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbWVvdXQ9MTIwMDAwXSAtIEV4ZWN1dGlvbiB0aW1lb3V0LlxyXG4gICAqL1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaXplID0gZ2V0Q29yZXMoKTtcclxuICAgIHRoaXMudGltZW91dCA9IDEyMDAwMDtcclxuICAgIHRoaXMuZmlsZSA9IHByb2Nlc3MuZW52LkJDT0lOX1dPUktFUl9GSUxFIHx8ICd3b3JrZXIuanMnO1xyXG5cclxuICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLnVpZCA9IDA7XHJcblxyXG4gICAgdGhpcy5zZXQob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgd29ya2VyIHBvb2wgb3B0aW9ucy5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAqL1xyXG5cclxuICBzZXQob3B0aW9ucykge1xyXG4gICAgaWYgKCFvcHRpb25zKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuZW5hYmxlZCAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydCh0eXBlb2Ygb3B0aW9ucy5lbmFibGVkID09PSAnYm9vbGVhbicpO1xyXG4gICAgICB0aGlzLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuc2l6ZSAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydCgob3B0aW9ucy5zaXplID4+PiAwKSA9PT0gb3B0aW9ucy5zaXplKTtcclxuICAgICAgYXNzZXJ0KG9wdGlvbnMuc2l6ZSA+IDApO1xyXG4gICAgICB0aGlzLnNpemUgPSBvcHRpb25zLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMudGltZW91dCAhPSBudWxsKSB7XHJcbiAgICAgIGFzc2VydChOdW1iZXIuaXNTYWZlSW50ZWdlcihvcHRpb25zLnRpbWVvdXQpKTtcclxuICAgICAgYXNzZXJ0KG9wdGlvbnMudGltZW91dCA+PSAtMSk7XHJcbiAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5maWxlICE9IG51bGwpIHtcclxuICAgICAgYXNzZXJ0KHR5cGVvZiBvcHRpb25zLmZpbGUgPT09ICdzdHJpbmcnKTtcclxuICAgICAgdGhpcy5maWxlID0gb3B0aW9ucy5maWxlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbiB3b3JrZXIgcG9vbC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgb3BlbigpIHtcclxuICAgIDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIHdvcmtlciBwb29sLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqL1xyXG5cclxuICBhc3luYyBjbG9zZSgpIHtcclxuICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3Bhd24gYSBuZXcgd29ya2VyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCAtIFdvcmtlciBJRC5cclxuICAgKiBAcmV0dXJucyB7V29ya2VyfVxyXG4gICAqL1xyXG5cclxuICBzcGF3bihpZCkge1xyXG4gICAgY29uc3QgY2hpbGQgPSBuZXcgV29ya2VyKHRoaXMuZmlsZSk7XHJcblxyXG4gICAgY2hpbGQuaWQgPSBpZDtcclxuXHJcbiAgICBjaGlsZC5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIsIGNoaWxkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNoaWxkLm9uKCdleGl0JywgKGNvZGUpID0+IHtcclxuICAgICAgdGhpcy5lbWl0KCdleGl0JywgY29kZSwgY2hpbGQpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4uZ2V0KGlkKSA9PT0gY2hpbGQpXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5kZWxldGUoaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2hpbGQub24oJ2V2ZW50JywgKGl0ZW1zKSA9PiB7XHJcbiAgICAgIHRoaXMuZW1pdCgnZXZlbnQnLCBpdGVtcywgY2hpbGQpO1xyXG4gICAgICB0aGlzLmVtaXQoLi4uaXRlbXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2hpbGQub24oJ2xvZycsICh0ZXh0KSA9PiB7XHJcbiAgICAgIHRoaXMuZW1pdCgnbG9nJywgdGV4dCwgY2hpbGQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdzcGF3bicsIGNoaWxkKTtcclxuXHJcbiAgICByZXR1cm4gY2hpbGQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBbGxvY2F0ZSBhIG5ldyB3b3JrZXIsIHdpbGwgbm90IGdvIGFib3ZlIGBzaXplYCBvcHRpb25cclxuICAgKiBhbmQgd2lsbCBhdXRvbWF0aWNhbGx5IGxvYWQgYmFsYW5jZSB0aGUgd29ya2Vycy5cclxuICAgKiBAcmV0dXJucyB7V29ya2VyfVxyXG4gICAqL1xyXG5cclxuICBhbGxvYygpIHtcclxuICAgIGNvbnN0IGlkID0gdGhpcy51aWQrKyAlIHRoaXMuc2l6ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuY2hpbGRyZW4uaGFzKGlkKSlcclxuICAgICAgdGhpcy5jaGlsZHJlbi5zZXQoaWQsIHRoaXMuc3Bhd24oaWQpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5nZXQoaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW1pdCBhbiBldmVudCBvbiB0aGUgd29ya2VyIHNpZGUgKGFsbCB3b3JrZXJzKS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgKiBAcGFyYW0gey4uLk9iamVjdH0gYXJnXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIHNlbmRFdmVudCgpIHtcclxuICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi52YWx1ZXMoKSkge1xyXG4gICAgICBpZiAoIWNoaWxkLnNlbmRFdmVudC5hcHBseShjaGlsZCwgYXJndW1lbnRzKSlcclxuICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBhbGwgd29ya2Vycy5cclxuICAgKi9cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi52YWx1ZXMoKSlcclxuICAgICAgY2hpbGQuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbCBhIG1ldGhvZCBmb3IgYSB3b3JrZXIgdG8gZXhlY3V0ZS5cclxuICAgKiBAcGFyYW0ge1BhY2tldH0gcGFja2V0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgZXhlY3V0ZShwYWNrZXQsIHRpbWVvdXQpIHtcclxuICAgIGlmICghdGhpcy5lbmFibGVkIHx8ICFDaGlsZC5oYXNTdXBwb3J0KCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGpvYnMuaGFuZGxlKHBhY2tldCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRpbWVvdXQpXHJcbiAgICAgIHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XHJcblxyXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLmFsbG9jKCk7XHJcblxyXG4gICAgcmV0dXJuIGNoaWxkLmV4ZWN1dGUocGFja2V0LCB0aW1lb3V0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgdGhlIHR4IGNoZWNrIGpvYiAoZGVmYXVsdCB0aW1lb3V0KS5cclxuICAgKiBAbWV0aG9kXHJcbiAgICogQHBhcmFtIHtUWH0gdHhcclxuICAgKiBAcGFyYW0ge0NvaW5WaWV3fSB2aWV3XHJcbiAgICogQHBhcmFtIHtWZXJpZnlGbGFnc30gZmxhZ3NcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgY2hlY2sodHgsIHZpZXcsIGZsYWdzKSB7XHJcbiAgICBjb25zdCBwYWNrZXQgPSBuZXcgcGFja2V0cy5DaGVja1BhY2tldCh0eCwgdmlldywgZmxhZ3MpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKHBhY2tldCwgLTEpO1xyXG5cclxuICAgIGlmIChyZXN1bHQuZXJyb3IpXHJcbiAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgdGhlIHR4IHNpZ25pbmcgam9iIChkZWZhdWx0IHRpbWVvdXQpLlxyXG4gICAqIEBtZXRob2RcclxuICAgKiBAcGFyYW0ge01UWH0gdHhcclxuICAgKiBAcGFyYW0ge0tleVJpbmdbXX0gcmluZ1xyXG4gICAqIEBwYXJhbSB7U2lnaGFzaFR5cGV9IHR5cGVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgc2lnbih0eCwgcmluZywgdHlwZSkge1xyXG4gICAgbGV0IHJpbmdzID0gcmluZztcclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmluZ3MpKVxyXG4gICAgICByaW5ncyA9IFtyaW5nc107XHJcblxyXG4gICAgY29uc3QgcGFja2V0ID0gbmV3IHBhY2tldHMuU2lnblBhY2tldCh0eCwgcmluZ3MsIHR5cGUpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKHBhY2tldCwgLTEpO1xyXG5cclxuICAgIHJlc3VsdC5pbmplY3QodHgpO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQudG90YWw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlIHRoZSB0eCBpbnB1dCBjaGVjayBqb2IgKGRlZmF1bHQgdGltZW91dCkuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwYXJhbSB7VFh9IHR4XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICogQHBhcmFtIHtDb2lufE91dHB1dH0gY29pblxyXG4gICAqIEBwYXJhbSB7VmVyaWZ5RmxhZ3N9IGZsYWdzXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGFzeW5jIGNoZWNrSW5wdXQodHgsIGluZGV4LCBjb2luLCBmbGFncykge1xyXG4gICAgY29uc3QgcGFja2V0ID0gbmV3IHBhY2tldHMuQ2hlY2tJbnB1dFBhY2tldCh0eCwgaW5kZXgsIGNvaW4sIGZsYWdzKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZShwYWNrZXQsIC0xKTtcclxuXHJcbiAgICBpZiAocmVzdWx0LmVycm9yKVxyXG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlIHRoZSB0eCBpbnB1dCBzaWduaW5nIGpvYiAoZGVmYXVsdCB0aW1lb3V0KS5cclxuICAgKiBAbWV0aG9kXHJcbiAgICogQHBhcmFtIHtNVFh9IHR4XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XHJcbiAgICogQHBhcmFtIHtDb2lufE91dHB1dH0gY29pblxyXG4gICAqIEBwYXJhbSB7S2V5UmluZ30gcmluZ1xyXG4gICAqIEBwYXJhbSB7U2lnaGFzaFR5cGV9IHR5cGVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgc2lnbklucHV0KHR4LCBpbmRleCwgY29pbiwgcmluZywgdHlwZSkge1xyXG4gICAgY29uc3QgcGFja2V0ID0gbmV3IHBhY2tldHMuU2lnbklucHV0UGFja2V0KHR4LCBpbmRleCwgY29pbiwgcmluZywgdHlwZSk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGUocGFja2V0LCAtMSk7XHJcbiAgICByZXN1bHQuaW5qZWN0KHR4KTtcclxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlIHRoZSBzZWNwMjU2azEgdmVyaWZ5IGpvYiAobm8gdGltZW91dCkuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBtc2dcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gc2lnIC0gREVSIGZvcm1hdHRlZC5cclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0ga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGFzeW5jIGVjVmVyaWZ5KG1zZywgc2lnLCBrZXkpIHtcclxuICAgIGNvbnN0IHBhY2tldCA9IG5ldyBwYWNrZXRzLkVDVmVyaWZ5UGFja2V0KG1zZywgc2lnLCBrZXkpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKHBhY2tldCwgLTEpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgdGhlIHNlY3AyNTZrMSBzaWduaW5nIGpvYiAobm8gdGltZW91dCkuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBtc2dcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0ga2V5XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICovXHJcblxyXG4gIGFzeW5jIGVjU2lnbihtc2csIGtleSkge1xyXG4gICAgY29uc3QgcGFja2V0ID0gbmV3IHBhY2tldHMuRUNTaWduUGFja2V0KG1zZywga2V5KTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZShwYWNrZXQsIC0xKTtcclxuICAgIHJldHVybiByZXN1bHQuc2lnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZSB0aGUgbWluaW5nIGpvYiAobm8gdGltZW91dCkuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhXHJcbiAgICogQHBhcmFtIHtCdWZmZXJ9IHRhcmdldFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4XHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gUmV0dXJucyB7TnVtYmVyfS5cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgbWluZShkYXRhLCB0YXJnZXQsIG1pbiwgbWF4KSB7XHJcbiAgICBjb25zdCBwYWNrZXQgPSBuZXcgcGFja2V0cy5NaW5lUGFja2V0KGRhdGEsIHRhcmdldCwgbWluLCBtYXgpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKHBhY2tldCwgLTEpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5ub25jZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgc2NyeXB0IGpvYiAobm8gdGltZW91dCkuXHJcbiAgICogQG1ldGhvZFxyXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBwYXNzd2RcclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gc2FsdFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBOXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgYXN5bmMgc2NyeXB0KHBhc3N3ZCwgc2FsdCwgTiwgciwgcCwgbGVuKSB7XHJcbiAgICBjb25zdCBwYWNrZXQgPSBuZXcgcGFja2V0cy5TY3J5cHRQYWNrZXQocGFzc3dkLCBzYWx0LCBOLCByLCBwLCBsZW4pO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKHBhY2tldCwgLTEpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5rZXk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogV29ya2VyXHJcbiAqIEBhbGlhcyBtb2R1bGU6d29ya2Vycy5Xb3JrZXJcclxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXHJcbiAqL1xyXG5cclxuY2xhc3MgV29ya2VyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSB3b3JrZXIuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3IoZmlsZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmlkID0gLTE7XHJcbiAgICB0aGlzLmZyYW1lciA9IG5ldyBGcmFtZXIoKTtcclxuICAgIHRoaXMucGFyc2VyID0gbmV3IFBhcnNlcigpO1xyXG4gICAgdGhpcy5wZW5kaW5nID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHRoaXMuY2hpbGQgPSBuZXcgQ2hpbGQoZmlsZSk7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHdvcmtlci4gQmluZCB0byBldmVudHMuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuY2hpbGQub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xyXG4gICAgICB0aGlzLnBhcnNlci5mZWVkKGRhdGEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jaGlsZC5vbignZXhpdCcsIChjb2RlLCBzaWduYWwpID0+IHtcclxuICAgICAgdGhpcy5lbWl0KCdleGl0JywgY29kZSwgc2lnbmFsKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY2hpbGQub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucGFyc2VyLm9uKCdlcnJvcicsIChlcnIpID0+IHtcclxuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhcnNlci5vbigncGFja2V0JywgKHBhY2tldCkgPT4ge1xyXG4gICAgICB0aGlzLmVtaXQoJ3BhY2tldCcsIHBhY2tldCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmxpc3RlbigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTGlzdGVuIGZvciBwYWNrZXRzLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcblxyXG4gIGxpc3RlbigpIHtcclxuICAgIHRoaXMub24oJ2V4aXQnLCAoY29kZSwgc2lnbmFsKSA9PiB7XHJcbiAgICAgIHRoaXMua2lsbEpvYnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmtpbGxKb2JzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm9uKCdwYWNrZXQnLCAocGFja2V0KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVQYWNrZXQocGFja2V0KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZW5kRW52KHtcclxuICAgICAgQkNPSU5fV09SS0VSX05FVFdPUks6IE5ldHdvcmsudHlwZSxcclxuICAgICAgQkNPSU5fV09SS0VSX0lTVFRZOiBwcm9jZXNzLnN0ZG91dFxyXG4gICAgICAgID8gKHByb2Nlc3Muc3Rkb3V0LmlzVFRZID8gJzEnIDogJzAnKVxyXG4gICAgICAgIDogJzAnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSBwYWNrZXQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge1BhY2tldH0gcGFja2V0XHJcbiAgICovXHJcblxyXG4gIGhhbmRsZVBhY2tldChwYWNrZXQpIHtcclxuICAgIHN3aXRjaCAocGFja2V0LmNtZCkge1xyXG4gICAgICBjYXNlIHBhY2tldHMudHlwZXMuRVZFTlQ6XHJcbiAgICAgICAgdGhpcy5lbWl0KCdldmVudCcsIHBhY2tldC5pdGVtcyk7XHJcbiAgICAgICAgdGhpcy5lbWl0KC4uLnBhY2tldC5pdGVtcyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgcGFja2V0cy50eXBlcy5MT0c6XHJcbiAgICAgICAgdGhpcy5lbWl0KCdsb2cnLCBwYWNrZXQudGV4dCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgcGFja2V0cy50eXBlcy5FUlJPUjpcclxuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgcGFja2V0LmVycm9yKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBwYWNrZXRzLnR5cGVzLkVSUk9SUkVTVUxUOlxyXG4gICAgICAgIHRoaXMucmVqZWN0Sm9iKHBhY2tldC5pZCwgcGFja2V0LmVycm9yKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlc29sdmVKb2IocGFja2V0LmlkLCBwYWNrZXQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZCBkYXRhIHRvIHdvcmtlci5cclxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICB3cml0ZShkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGlsZC53cml0ZShkYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZyYW1lIGFuZCBzZW5kIGEgcGFja2V0LlxyXG4gICAqIEBwYXJhbSB7UGFja2V0fSBwYWNrZXRcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuXHJcbiAgc2VuZChwYWNrZXQpIHtcclxuICAgIHJldHVybiB0aGlzLndyaXRlKHRoaXMuZnJhbWVyLnBhY2tldChwYWNrZXQpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgZW52aXJvbm1lbnQuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGVudlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG5cclxuICBzZW5kRW52KGVudikge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZChuZXcgcGFja2V0cy5FbnZQYWNrZXQoZW52KSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbWl0IGFuIGV2ZW50IG9uIHRoZSB3b3JrZXIgc2lkZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgKiBAcGFyYW0gey4uLk9iamVjdH0gYXJnXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcblxyXG4gIHNlbmRFdmVudCguLi5pdGVtcykge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZChuZXcgcGFja2V0cy5FdmVudFBhY2tldChpdGVtcykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSB0aGUgd29ya2VyLlxyXG4gICAqL1xyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hpbGQuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbCBhIG1ldGhvZCBmb3IgYSB3b3JrZXIgdG8gZXhlY3V0ZS5cclxuICAgKiBAcGFyYW0ge1BhY2tldH0gcGFja2V0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKi9cclxuXHJcbiAgZXhlY3V0ZShwYWNrZXQsIHRpbWVvdXQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2V4ZWN1dGUocGFja2V0LCB0aW1lb3V0LCByZXNvbHZlLCByZWplY3QpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxsIGEgbWV0aG9kIGZvciBhIHdvcmtlciB0byBleGVjdXRlLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtQYWNrZXR9IHBhY2tldFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxyXG4gICAqIHRoZSB3b3JrZXIgbWV0aG9kIHNwZWNpZmllcy5cclxuICAgKi9cclxuXHJcbiAgX2V4ZWN1dGUocGFja2V0LCB0aW1lb3V0LCByZXNvbHZlLCByZWplY3QpIHtcclxuICAgIGNvbnN0IGpvYiA9IG5ldyBQZW5kaW5nSm9iKHRoaXMsIHBhY2tldC5pZCwgcmVzb2x2ZSwgcmVqZWN0KTtcclxuXHJcbiAgICBhc3NlcnQoIXRoaXMucGVuZGluZy5oYXMocGFja2V0LmlkKSwgJ0lEIG92ZXJmbG93LicpO1xyXG5cclxuICAgIHRoaXMucGVuZGluZy5zZXQocGFja2V0LmlkLCBqb2IpO1xyXG5cclxuICAgIGpvYi5zdGFydCh0aW1lb3V0KTtcclxuXHJcbiAgICB0aGlzLnNlbmQocGFja2V0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc29sdmUgYSBqb2IuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkXHJcbiAgICogQHBhcmFtIHtQYWNrZXR9IHJlc3VsdFxyXG4gICAqL1xyXG5cclxuICByZXNvbHZlSm9iKGlkLCByZXN1bHQpIHtcclxuICAgIGNvbnN0IGpvYiA9IHRoaXMucGVuZGluZy5nZXQoaWQpO1xyXG5cclxuICAgIGlmICgham9iKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEpvYiAke2lkfSBpcyBub3QgaW4gcHJvZ3Jlc3MuYCk7XHJcblxyXG4gICAgam9iLnJlc29sdmUocmVzdWx0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlamVjdCBhIGpvYi5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gaWRcclxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJcclxuICAgKi9cclxuXHJcbiAgcmVqZWN0Sm9iKGlkLCBlcnIpIHtcclxuICAgIGNvbnN0IGpvYiA9IHRoaXMucGVuZGluZy5nZXQoaWQpO1xyXG5cclxuICAgIGlmICgham9iKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEpvYiAke2lkfSBpcyBub3QgaW4gcHJvZ3Jlc3MuYCk7XHJcblxyXG4gICAgam9iLnJlamVjdChlcnIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogS2lsbCBhbGwgam9icyBhc3NvY2lhdGVkIHdpdGggd29ya2VyLlxyXG4gICAqL1xyXG5cclxuICBraWxsSm9icygpIHtcclxuICAgIGZvciAoY29uc3Qgam9iIG9mIHRoaXMucGVuZGluZy52YWx1ZXMoKSlcclxuICAgICAgam9iLmRlc3Ryb3koKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQZW5kaW5nIEpvYlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5cclxuY2xhc3MgUGVuZGluZ0pvYiB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgcGVuZGluZyBqb2IuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtXb3JrZXJ9IHdvcmtlclxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RcclxuICAgKi9cclxuXHJcbiAgY29uc3RydWN0b3Iod29ya2VyLCBpZCwgcmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICB0aGlzLndvcmtlciA9IHdvcmtlcjtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMuam9iID0geyByZXNvbHZlLCByZWplY3QgfTtcclxuICAgIHRoaXMudGltZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgdGhlIHRpbWVyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XHJcbiAgICovXHJcblxyXG4gIHN0YXJ0KHRpbWVvdXQpIHtcclxuICAgIGlmICghdGltZW91dCB8fCB0aW1lb3V0IDw9IDApXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVqZWN0KG5ldyBFcnJvcignV29ya2VyIHRpbWVkIG91dC4nKSk7XHJcbiAgICB9LCB0aW1lb3V0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgdGhlIGpvYiB3aXRoIGFuIGVycm9yLlxyXG4gICAqL1xyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5yZWplY3QobmV3IEVycm9yKCdKb2Igd2FzIGRlc3Ryb3llZC4nKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbGVhbnVwIGpvYiBzdGF0ZS5cclxuICAgKiBAcmV0dXJucyB7Sm9ifVxyXG4gICAqL1xyXG5cclxuICBjbGVhbnVwKCkge1xyXG4gICAgY29uc3Qgam9iID0gdGhpcy5qb2I7XHJcblxyXG4gICAgYXNzZXJ0KGpvYiwgJ0FscmVhZHkgZmluaXNoZWQuJyk7XHJcblxyXG4gICAgdGhpcy5qb2IgPSBudWxsO1xyXG5cclxuICAgIGlmICh0aGlzLnRpbWVyICE9IG51bGwpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xyXG4gICAgICB0aGlzLnRpbWVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhc3NlcnQodGhpcy53b3JrZXIucGVuZGluZy5oYXModGhpcy5pZCkpO1xyXG4gICAgdGhpcy53b3JrZXIucGVuZGluZy5kZWxldGUodGhpcy5pZCk7XHJcblxyXG4gICAgcmV0dXJuIGpvYjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXBsZXRlIGpvYiB3aXRoIHJlc3VsdC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzdWx0XHJcbiAgICovXHJcblxyXG4gIHJlc29sdmUocmVzdWx0KSB7XHJcbiAgICBjb25zdCBqb2IgPSB0aGlzLmNsZWFudXAoKTtcclxuICAgIGpvYi5yZXNvbHZlKHJlc3VsdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wbGV0ZSBqb2Igd2l0aCBlcnJvci5cclxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJcclxuICAgKi9cclxuXHJcbiAgcmVqZWN0KGVycikge1xyXG4gICAgY29uc3Qgam9iID0gdGhpcy5jbGVhbnVwKCk7XHJcbiAgICBqb2IucmVqZWN0KGVycik7XHJcbiAgfVxyXG59XHJcblxyXG4vKlxyXG4gKiBIZWxwZXJzXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2V0Q29yZXMoKSB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KDIsIG9zLmNwdXMoKS5sZW5ndGgpO1xyXG59XHJcblxyXG4vKlxyXG4gKiBFeHBvc2VcclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFdvcmtlclBvb2w7XHJcbiJdfQ==